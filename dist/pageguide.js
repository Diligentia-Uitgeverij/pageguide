!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("PageGuide",[],e):"object"==typeof exports?exports.PageGuide=e():t.PageGuide=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s="./src/PageGuide.ts")}({"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/PageGuide.scss":function(t,e,n){(t.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([t.i,'.z-depth-1 {\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.24); }\n\n.z-depth-2 {\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.23); }\n\n.z-depth-3, .page-guide-button-start, .page-guide-item .page-guide-item-button-exit {\n  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.23); }\n\n.z-depth-4 {\n  box-shadow: 0 10px 18px rgba(0, 0, 0, 0.22); }\n\n.z-depth-5, .page-guide-item {\n  box-shadow: 0 15px 20px rgba(0, 0, 0, 0.22); }\n\n.page-guide-backdrop {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: none;\n  opacity: 0;\n  z-index: 9999998;\n  transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms; }\n  .page-guide-backdrop.active {\n    opacity: 1; }\n\n.page-guide-button-start {\n  z-index: 9999998;\n  display: block;\n  width: 24px;\n  height: 24px;\n  background-color: transparent;\n  border: 3px solid #666666;\n  border-radius: 12px;\n  font-style: italic;\n  font-weight: 700;\n  padding: 0;\n  text-align: center;\n  outline: none !important; }\n\n.page-guide-item {\n  font-family: \'Ubuntu\',\'Gill Sans\', \'Gill Sans MT\', Calibri, \'Trebuchet MS\', sans-serif;\n  position: absolute;\n  z-index: 9999999;\n  padding: 16px;\n  border: 1px solid white;\n  background-color: #F8F8F8;\n  min-width: 256px;\n  max-width: 768px;\n  width: 50%;\n  margin: 16px;\n  border: none; }\n  .page-guide-item[x-placement^="center"] {\n    border-top: 8px solid #ff9933; }\n  .page-guide-item[x-placement^="bottom"] {\n    border-top: 8px solid #ff9933; }\n    .page-guide-item[x-placement^="bottom"] .page-guide-item-arrow {\n      border-bottom-color: #ff9933;\n      top: -32px;\n      bottom: initial;\n      margin-top: 0;\n      left: 50%;\n      right: initial; }\n  .page-guide-item[x-placement^="top"] {\n    border-bottom: 8px solid #ff9933; }\n    .page-guide-item[x-placement^="top"] .page-guide-item-arrow {\n      border-top-color: #ff9933;\n      top: initial;\n      bottom: -32px;\n      margin-bottom: 0;\n      left: 50%;\n      right: initial; }\n  .page-guide-item[x-placement^="right"] {\n    border-left: 8px solid #ff9933; }\n    .page-guide-item[x-placement^="right"] .page-guide-item-arrow {\n      border-right-color: #ff9933;\n      left: -32px;\n      right: initial;\n      bottom: initial;\n      margin-left: 0;\n      top: 50%; }\n  .page-guide-item[x-placement^="left"] {\n    border-right: 8px solid #ff9933; }\n    .page-guide-item[x-placement^="left"] .page-guide-item-arrow {\n      border-left-color: #ff9933;\n      left: initial;\n      bottom: initial;\n      right: -32px;\n      margin-right: 0;\n      top: 50%; }\n  .page-guide-item .page-guide-item-arrow {\n    position: absolute;\n    padding: 0;\n    margin: -16px;\n    border: 16px solid transparent; }\n  .page-guide-item h1 {\n    text-align: center;\n    font-size: 32px;\n    line-height: 50px;\n    padding: 0;\n    margin: 0;\n    border-bottom: 1px solid #666666; }\n  .page-guide-item .page-guide-item-counter {\n    position: absolute;\n    top: 16px;\n    right: 16px;\n    font-weight: 300;\n    color: rgba(0, 0, 0, 0.5);\n    line-height: 50px; }\n  .page-guide-item .page-guide-item-buttons {\n    display: flex; }\n    .page-guide-item .page-guide-item-buttons .page-guide-item-button {\n      flex: 1px; }\n      .page-guide-item .page-guide-item-buttons .page-guide-item-button:hover {\n        background-color: rgba(0, 0, 0, 0.05); }\n    .page-guide-item .page-guide-item-buttons .page-guide-item-button-previous {\n      text-align: right; }\n    .page-guide-item .page-guide-item-buttons .page-guide-item-button-next {\n      text-align: left; }\n  .page-guide-item .page-guide-item-button {\n    display: inline-block;\n    border: none;\n    background: transparent;\n    font-size: 32px;\n    outline: none !important;\n    border-radius: 5px;\n    transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms; }\n    .page-guide-item .page-guide-item-button:hover, .page-guide-item .page-guide-item-button:active, .page-guide-item .page-guide-item-button:focus {\n      background-color: #E0E0E0; }\n    .page-guide-item .page-guide-item-button:disabled {\n      visibility: hidden; }\n  .page-guide-item .page-guide-item-button-exit {\n    position: absolute;\n    bottom: -16px;\n    right: 16px;\n    width: 32px;\n    height: 32px;\n    background-color: #E8E8E8;\n    border-radius: 50%;\n    padding: 0;\n    line-height: 0;\n    text-align: center; }\n',""])},"./node_modules/css-loader/lib/css-base.js":function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(r).concat([o]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(i[r]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},"./node_modules/popper.js/dist/esm/popper.js":function(t,e,n){"use strict";n.r(e),function(t){for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.14.3
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document,i=["Edge","Trident","Firefox"],o=0,r=0;r<i.length;r+=1)if(n&&navigator.userAgent.indexOf(i[r])>=0){o=1;break}var s=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},o))}};function a(t){return t&&"[object Function]"==={}.toString.call(t)}function u(t,e){if(1!==t.nodeType)return[];var n=getComputedStyle(t,null);return e?n[e]:n}function p(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function d(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=u(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(n+o+i)?t:d(p(t))}var l=n&&!(!window.MSInputMethodContext||!document.documentMode),c=n&&/MSIE 10/.test(navigator.userAgent);function f(t){return 11===t?l:10===t?c:l||c}function h(t){if(!t)return document.documentElement;for(var e=f(10)?document.body:null,n=t.offsetParent;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===u(n,"position")?h(n):n:t?t.ownerDocument.documentElement:document.documentElement}function m(t){return null!==t.parentNode?m(t.parentNode):t}function g(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,o=n?e:t,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);var s,a,u=r.commonAncestorContainer;if(t!==u&&e!==u||i.contains(o))return"BODY"===(a=(s=u).nodeName)||"HTML"!==a&&h(s.firstElementChild)!==s?h(u):u;var p=m(t);return p.host?g(p.host,e):g(t,m(e).host)}function b(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function v(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function y(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],f(10)?n["offset"+t]+i["margin"+("Height"===t?"Top":"Left")]+i["margin"+("Height"===t?"Bottom":"Right")]:0)}function x(){var t=document.body,e=document.documentElement,n=f(10)&&getComputedStyle(e);return{height:y("Height",t,e,n),width:y("Width",t,e,n)}}var w=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},E=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),I=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function P(t){return S({},t,{right:t.left+t.width,bottom:t.top+t.height})}function C(t){var e={};try{if(f(10)){e=t.getBoundingClientRect();var n=b(t,"top"),i=b(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?x():{},s=r.width||t.clientWidth||o.right-o.left,a=r.height||t.clientHeight||o.bottom-o.top,p=t.offsetWidth-s,d=t.offsetHeight-a;if(p||d){var l=u(t);p-=v(l,"x"),d-=v(l,"y"),o.width-=p,o.height-=d}return P(o)}function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=f(10),o="HTML"===e.nodeName,r=C(t),s=C(e),a=d(t),p=u(e),l=parseFloat(p.borderTopWidth,10),c=parseFloat(p.borderLeftWidth,10);n&&"HTML"===e.nodeName&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=P({top:r.top-s.top-l,left:r.left-s.left-c,width:r.width,height:r.height});if(h.marginTop=0,h.marginLeft=0,!i&&o){var m=parseFloat(p.marginTop,10),g=parseFloat(p.marginLeft,10);h.top-=l-m,h.bottom-=l-m,h.left-=c-g,h.right-=c-g,h.marginTop=m,h.marginLeft=g}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=b(e,"top"),o=b(e,"left"),r=n?-1:1;return t.top+=i*r,t.bottom+=i*r,t.left+=o*r,t.right+=o*r,t}(h,e)),h}function G(t){if(!t||!t.parentElement||f())return document.documentElement;for(var e=t.parentElement;e&&"none"===u(e,"transform");)e=e.parentElement;return e||document.documentElement}function L(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},s=o?G(t):g(t,e);if("viewport"===i)r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=k(t,n),o=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:b(n),a=e?0:b(n,"left");return P({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:o,height:r})}(s,o);else{var a=void 0;"scrollParent"===i?"BODY"===(a=d(p(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===i?t.ownerDocument.documentElement:i;var l=k(a,s,o);if("HTML"!==a.nodeName||function t(e){var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===u(e,"position")||t(p(e)))}(s))r=l;else{var c=x(),f=c.height,h=c.width;r.top+=l.top-l.marginTop,r.bottom=f+l.top,r.left+=l.left-l.marginLeft,r.right=h+l.left}}return r.left+=n,r.top+=n,r.right-=n,r.bottom-=n,r}function O(t,e,n,i,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=L(n,i,r,o),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},u=Object.keys(a).map(function(t){return S({key:t},a[t],{area:(e=a[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),p=u.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),d=p.length>0?p[0].key:u[0].key,l=t.split("-")[1];return d+(l?"-"+l:"")}function R(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return k(n,i?G(e):g(e,n),i)}function F(t){var e=getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),i=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function M(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function N(t,e,n){n=n.split("-")[0];var i=F(t),o={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(n),s=r?"top":"left",a=r?"left":"top",u=r?"height":"width",p=r?"width":"height";return o[s]=e[s]+e[u]/2-i[u]/2,o[a]=n===a?e[a]-i[p]:e[M(a)],o}function T(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function _(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=T(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&a(n)&&(e.offsets.popper=P(e.offsets.popper),e.offsets.reference=P(e.offsets.reference),e=n(e,t))}),e}function j(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function A(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var o=e[i],r=o?""+o+n:t;if(void 0!==document.body.style[r])return r}return null}function U(t){var e=t.ownerDocument;return e?e.defaultView:window}function D(t,e,n,i){n.updateBound=i,U(t).addEventListener("resize",n.updateBound,{passive:!0});var o=d(t);return function t(e,n,i,o){var r="BODY"===e.nodeName,s=r?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0}),r||t(d(s.parentNode),n,i,o),o.push(s)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function B(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,U(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function H(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function X(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&H(e[n])&&(i="px"),t.style[n]=e[n]+i})}function W(t,e,n){var i=T(t,function(t){return t.name===e}),o=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!o){var r="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}var z=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],q=z.slice(3);function Y(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=q.indexOf(t),i=q.slice(n+1).concat(q.slice(0,n));return e?i.reverse():i}var K={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function V(t,e,n,i){var o=[0,0],r=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=s.indexOf(T(s,function(t){return-1!==t.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,p=-1!==a?[s.slice(0,a).concat([s[a].split(u)[0]]),[s[a].split(u)[1]].concat(s.slice(a+1))]:[s];return(p=p.map(function(t,i){var o=(1===i?!r:r)?"height":"width",s=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],s=o[2];if(!r)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return P(a)[e]/100*r}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r;return r}(t,o,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){H(n)&&(o[e]+=n*("-"===t[i-1]?-1:1))})}),o}var $={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var o=t.offsets,r=o.reference,s=o.popper,a=-1!==["bottom","top"].indexOf(n),u=a?"left":"top",p=a?"width":"height",d={start:I({},u,r[u]),end:I({},u,r[u]+r[p]-s[p])};t.offsets.popper=S({},s,d[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,o=t.offsets,r=o.popper,s=o.reference,a=i.split("-")[0],u=void 0;return u=H(+n)?[+n,0]:V(n,r,s,a),"left"===a?(r.top+=u[0],r.left-=u[1]):"right"===a?(r.top+=u[0],r.left+=u[1]):"top"===a?(r.left+=u[0],r.top-=u[1]):"bottom"===a&&(r.left+=u[0],r.top+=u[1]),t.popper=r,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||h(t.instance.popper);t.instance.reference===n&&(n=h(n));var i=A("transform"),o=t.instance.popper.style,r=o.top,s=o.left,a=o[i];o.top="",o.left="",o[i]="";var u=L(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);o.top=r,o.left=s,o[i]=a,e.boundaries=u;var p=e.priority,d=t.offsets.popper,l={primary:function(t){var n=d[t];return d[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(d[t],u[t])),I({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=d[n];return d[t]>u[t]&&!e.escapeWithReference&&(i=Math.min(d[n],u[t]-("right"===t?d.width:d.height))),I({},n,i)}};return p.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";d=S({},d,l[e](t))}),t.offsets.popper=d,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,o=t.placement.split("-")[0],r=Math.floor,s=-1!==["top","bottom"].indexOf(o),a=s?"right":"bottom",u=s?"left":"top",p=s?"width":"height";return n[a]<r(i[u])&&(t.offsets.popper[u]=r(i[u])-n[p]),n[u]>r(i[a])&&(t.offsets.popper[u]=r(i[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!W(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],r=t.offsets,s=r.popper,a=r.reference,p=-1!==["left","right"].indexOf(o),d=p?"height":"width",l=p?"Top":"Left",c=l.toLowerCase(),f=p?"left":"top",h=p?"bottom":"right",m=F(i)[d];a[h]-m<s[c]&&(t.offsets.popper[c]-=s[c]-(a[h]-m)),a[c]+m>s[h]&&(t.offsets.popper[c]+=a[c]+m-s[h]),t.offsets.popper=P(t.offsets.popper);var g=a[c]+a[d]/2-m/2,b=u(t.instance.popper),v=parseFloat(b["margin"+l],10),y=parseFloat(b["border"+l+"Width"],10),x=g-t.offsets.popper[c]-v-y;return x=Math.max(Math.min(s[d]-m,x),0),t.arrowElement=i,t.offsets.arrow=(I(n={},c,Math.round(x)),I(n,f,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(j(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=L(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],o=M(i),r=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case K.FLIP:s=[i,o];break;case K.CLOCKWISE:s=Y(i);break;case K.COUNTERCLOCKWISE:s=Y(i,!0);break;default:s=e.behavior}return s.forEach(function(a,u){if(i!==a||s.length===u+1)return t;i=t.placement.split("-")[0],o=M(i);var p=t.offsets.popper,d=t.offsets.reference,l=Math.floor,c="left"===i&&l(p.right)>l(d.left)||"right"===i&&l(p.left)<l(d.right)||"top"===i&&l(p.bottom)>l(d.top)||"bottom"===i&&l(p.top)<l(d.bottom),f=l(p.left)<l(n.left),h=l(p.right)>l(n.right),m=l(p.top)<l(n.top),g=l(p.bottom)>l(n.bottom),b="left"===i&&f||"right"===i&&h||"top"===i&&m||"bottom"===i&&g,v=-1!==["top","bottom"].indexOf(i),y=!!e.flipVariations&&(v&&"start"===r&&f||v&&"end"===r&&h||!v&&"start"===r&&m||!v&&"end"===r&&g);(c||b||y)&&(t.flipped=!0,(c||b)&&(i=s[u+1]),y&&(r=function(t){return"end"===t?"start":"start"===t?"end":t}(r)),t.placement=i+(r?"-"+r:""),t.offsets.popper=S({},t.offsets.popper,N(t.instance.popper,t.offsets.reference,t.placement)),t=_(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,o=i.popper,r=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return o[s?"left":"top"]=r[n]-(a?o[s?"width":"height"]:0),t.placement=M(e),t.offsets.popper=P(o),t}},hide:{order:800,enabled:!0,fn:function(t){if(!W(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=T(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,o=t.offsets.popper,r=T(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==r?r:e.gpuAcceleration,a=C(h(t.instance.popper)),u={position:o.position},p={left:Math.floor(o.left),top:Math.round(o.top),bottom:Math.round(o.bottom),right:Math.floor(o.right)},d="bottom"===n?"top":"bottom",l="right"===i?"left":"right",c=A("transform"),f=void 0,m=void 0;if(m="bottom"===d?-a.height+p.bottom:p.top,f="right"===l?-a.width+p.right:p.left,s&&c)u[c]="translate3d("+f+"px, "+m+"px, 0)",u[d]=0,u[l]=0,u.willChange="transform";else{var g="bottom"===d?-1:1,b="right"===l?-1:1;u[d]=m*g,u[l]=f*b,u.willChange=d+", "+l}var v={"x-placement":t.placement};return t.attributes=S({},v,t.attributes),t.styles=S({},u,t.styles),t.arrowStyles=S({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return X(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&X(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,o){var r=R(o,e,t,n.positionFixed),s=O(n.placement,r,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),X(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},J=function(){function t(e,n){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=s(this.update.bind(this)),this.options=S({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(S({},t.Defaults.modifiers,o.modifiers)).forEach(function(e){i.options.modifiers[e]=S({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return S({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&a(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return E(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=R(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=O(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=N(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=_(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,j(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[A("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=D(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return B.call(this)}}]),t}();J.Utils=("undefined"!=typeof window?window:t).PopperUtils,J.placements=z,J.Defaults=$,e.default=J}.call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/style-loader/lib/addStyles.js":function(t,e,n){var i,o,r={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),a=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),u=null,p=0,d=[],l=n("./node_modules/style-loader/lib/urls.js");function c(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=r[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(v(i.parts[s],e))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(v(i.parts[s],e));r[i.id]={id:i.id,refs:1,parts:a}}}}function f(t,e){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],s=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function h(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),d.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,o)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=d.indexOf(t);e>=0&&d.splice(e,1)}function g(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),b(e,t.attrs),h(t,e),e}function b(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function v(t,e){var n,i,o,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var s=p++;n=u||(u=g(e)),i=w.bind(null,n,s,!1),o=w.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),h(t,e),e}(e),i=function(t,e,n){var i=n.css,o=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(i=l(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){m(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return c(n,e),function(t){for(var i=[],o=0;o<n.length;o++){var s=n[o];(a=r[s.id]).refs--,i.push(a)}t&&c(f(t,e),e);for(o=0;o<i.length;o++){var a;if(0===(a=i[o]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete r[a.id]}}}};var y,x=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function w(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},"./node_modules/style-loader/lib/urls.js":function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},"./node_modules/webpack/buildin/global.js":function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},"./src/GUI/ButtonGUI.ts":function(t,e,n){"use strict";e.__esModule=!0;var i=n("./src/PageGuide.ts"),o=function(){function t(t){var e=this;this.position="absolute",this.top=32,this.right=32,this.bottom="initial",this.left="initial",this.content="i",this.style={"padding-right":"2px"},void 0!==t&&Object.keys(t).forEach(function(n){return e[n]=t[n]}),this.markup=document.createElement("button"),this.markup.innerHTML=this.content,this.markup.classList.add(i.PageGuide.CSS_PREFIX+"-button-start"),this.markup.style.position=this.position,this.markup.style.top=this.toStyleString(this.top),this.markup.style.right=this.toStyleString(this.right),this.markup.style.bottom=this.toStyleString(this.bottom),this.markup.style.left=this.toStyleString(this.left),Object.keys(this.style).forEach(function(t){return e.markup.style.setProperty(t,e.style[t])})}return t.prototype.toStyleString=function(t){return"number"==typeof t?t+"px":t},t}();e.ButtonGUI=o},"./src/GUI/PageGuideGUI.ts":function(t,e,n){"use strict";e.__esModule=!0;var i=n("./src/PageGuide.ts"),o=n("./src/GUI/ButtonGUI.ts"),r=function(){function t(t){void 0===t&&(t=!0),this.buttonDefinition=t,this.canvas=document.createElement("canvas"),this.canvas.className=i.PageGuide.CSS_PREFIX+"-backdrop",this.ctx=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.buttonDefinition&&(!0===this.buttonDefinition?this.btnStart=new o.ButtonGUI:this.btnStart=new o.ButtonGUI(this.buttonDefinition),document.body.appendChild(this.btnStart.markup))}return t.prototype.onStart=function(t){this.btnStart.markup.onclick=t},t.prototype.onEnd=function(t){this.canvas.onclick=t},t.prototype.start=function(){this.targets=void 0,this.update(),this.canvas.style.display="block",this.canvas.classList.add("active")},t.prototype.update=function(){if(this.renderBackdrop(),void 0!==this.targets)for(var t=0;t<this.targets.length;t++){var e=this.targets.item(t).getBoundingClientRect();this.ctx.clearRect(e.left,e.top,e.width,e.height)}},t.prototype.stop=function(){var t=this;this.canvas.classList.remove("active"),setTimeout(function(){return t.canvas.style.display=""},500)},t.prototype.highlight=function(t){this.targets=t,this.update()},t.prototype.renderBackdrop=function(){var t=window.innerWidth,e=window.innerHeight;this.canvas.setAttribute("width",t+"px"),this.canvas.setAttribute("height",e+"px");var n=this.ctx.createRadialGradient(t/2,e/2,0,t/2,e/2,Math.max(t,e));n.addColorStop(0,"rgba(0,0,0,0.5)"),n.addColorStop(1,"rgba(0,0,0,0.85)"),this.ctx.clearRect(0,0,t,e),this.ctx.fillStyle=n,this.ctx.fillRect(0,0,t,e)},t}();e.PageGuideGui=r},"./src/GUI/PageGuideItemGUI.ts":function(t,e,n){"use strict";e.__esModule=!0;var i=n("./src/PageGuideItem.ts"),o=n("./src/PageGuide.ts"),r=n("./node_modules/popper.js/dist/esm/popper.js"),s=function(){function t(t){this.pageGuideItem=t,this.popperShifts={top:["bottom","left","right"],right:["left","top","bottom"],bottom:["top","left","right"],left:["right","top","bottom"]},this.markup=document.createElement("article"),this.btnExit=document.createElement("button"),this.btnPrevious=document.createElement("button"),this.btnNext=document.createElement("button"),this.buttons=document.createElement("section"),this.content=document.createElement("section"),this.title=document.createElement("h1"),this.counter=document.createElement("section"),this.arrow=document.createElement("div"),this.markup.className=o.PageGuide.CSS_PREFIX+"-"+i.PageGuideItem.CSS_PREFIX,this.arrow.className=o.PageGuide.CSS_PREFIX+"-"+i.PageGuideItem.CSS_PREFIX+"-arrow",this.content.className=o.PageGuide.CSS_PREFIX+"-"+i.PageGuideItem.CSS_PREFIX+"-content",this.counter.className=o.PageGuide.CSS_PREFIX+"-"+i.PageGuideItem.CSS_PREFIX+"-counter",this.buttons.className=o.PageGuide.CSS_PREFIX+"-"+i.PageGuideItem.CSS_PREFIX+"-buttons",this.btnExit.className=o.PageGuide.CSS_PREFIX+"-"+i.PageGuideItem.CSS_PREFIX+"-button "+o.PageGuide.CSS_PREFIX+"-"+i.PageGuideItem.CSS_PREFIX+"-button-exit",this.btnPrevious.className=o.PageGuide.CSS_PREFIX+"-"+i.PageGuideItem.CSS_PREFIX+"-button "+o.PageGuide.CSS_PREFIX+"-"+i.PageGuideItem.CSS_PREFIX+"-button-previous",this.btnNext.className=o.PageGuide.CSS_PREFIX+"-"+i.PageGuideItem.CSS_PREFIX+"-button "+o.PageGuide.CSS_PREFIX+"-"+i.PageGuideItem.CSS_PREFIX+"-button-next",this.buttons.appendChild(this.btnPrevious),this.buttons.appendChild(this.btnNext),this.markup.appendChild(this.arrow),this.markup.appendChild(this.btnExit),this.markup.appendChild(this.title),this.markup.appendChild(this.counter),this.markup.appendChild(this.content),this.markup.appendChild(this.buttons),this.title.innerHTML=this.pageGuideItem.title,this.content.innerHTML=this.pageGuideItem.content,this.btnExit.innerHTML="&times;",this.btnPrevious.innerHTML="&laquo;",this.btnNext.innerHTML="&raquo;",this.counter.innerHTML=this.pageGuideItem.index+1+" / "+this.pageGuideItem.collentionLength,0===this.pageGuideItem.index&&this.btnPrevious.setAttribute("disabled","disabled"),this.pageGuideItem.index===this.pageGuideItem.collentionLength-1&&this.btnNext.setAttribute("disabled","disabled")}return t.prototype.position=function(){var t=this.markup.getBoundingClientRect(),e=(t.left,t.width,t.top,t.height,0),n=0,i=this.pageGuideItem.position;if(this.arrow.style.top="",this.arrow.style.right="",this.arrow.style.bottom="",this.arrow.style.left="",void 0===this.pageGuideItem.targets||0===this.pageGuideItem.targets.length||"center"===i)e=(window.innerWidth-t.width)/2,n=(window.innerHeight-t.height)/2,this.pageGuideItem.position="center",this.markup.setAttribute("x-placement",this.pageGuideItem.position),this.markup.style.left=(e>>0)+"px",this.markup.style.top=(n>>0)+"px";else{var o=this.pageGuideItem.targets[0];o.getBoundingClientRect();this.popper=new r.default(o,this.markup,{placement:i,modifiers:{arrow:{element:this.arrow},flip:{behavior:this.popperShifts[i]}}})}},t.prototype.update=function(){void 0!==this.popper?this.popper.update():this.position()},t.prototype.onExit=function(t){this.btnExit.onclick=t},t.prototype.onPrevious=function(t){this.btnPrevious.onclick=t},t.prototype.onNext=function(t){this.btnNext.onclick=t},t}();e.PageGuideItemGUI=s},"./src/PageGuide.scss":function(t,e,n){var i=n("./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./src/PageGuide.scss");"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(i,o);i.locals&&(t.exports=i.locals)},"./src/PageGuide.ts":function(t,e,n){"use strict";e.__esModule=!0;var i=n("./src/PageGuideItem.ts"),o=n("./src/GUI/PageGuideGUI.ts");n("./src/PageGuide.scss");var r=function(){function t(t,e){void 0===e&&(e=!0);var n=this;this.isActive=!1,this.activeIndex=0,this.gui=new o.PageGuideGui(e),this.items=t.filter(function(t){return void 0===t.element||document.querySelectorAll(t.element).length>0}).map(function(t,e,o){var r=new i.PageGuideItem(t.content,e,o.length,t.element,t.title,t.position);return r.onExit(function(){n.stop()}),r.onPrevious(function(){n.activeIndex--,n.step()}),r.onNext(function(){n.activeIndex++,n.step()}),r}),!1!==e&&this.gui.onStart(function(){return n.start()}),this.gui.onEnd(function(){return n.stop()}),window.onkeydown=function(t){if(!(!n.isActive||t.altKey||t.shiftKey||t.ctrlKey||t.metaKey))switch(t.key){case"ArrowUp":case"Up":case"ArrowLeft":case"Left":n.activeIndex--,n.step(),t.preventDefault();break;case"ArrowDown":case"Down":case"ArrowRight":case"Right":case"Enter":n.activeIndex++,n.step(),t.preventDefault();break;case"Escape":case"Esc":n.stop(),t.preventDefault()}},window.onresize=function(t){n.isActive&&(n.gui.update(),void 0!==n.activeItem&&n.activeItem.update())}}return t.prototype.start=function(){this.isActive=!0,this.gui.start(),this.step(),void 0!==this.onStartCallback&&this.onStartCallback()},t.prototype.step=function(t){var e=this;if(void 0!==t&&t>=0&&t<=this.items.length-1&&(this.activeIndex=t),void 0!==this.activeItem&&this.cleanActiveItem(),this.activeIndex<0||this.activeIndex>=this.items.length)return this.stop();this.activeItem=this.items[this.activeIndex],this.activeItem.draw(function(){e.gui.highlight(e.activeItem.targets)})},t.prototype.cleanActiveItem=function(){void 0!==this.activeItem&&(this.activeItem.cleanup(),this.activeItem=void 0)},t.prototype.stop=function(){this.isActive=!1,this.gui.stop(),this.cleanActiveItem(),this.activeIndex=0,void 0!==this.onEndCallback&&this.onEndCallback()},t.prototype.onStart=function(t){this.onStartCallback=t},t.prototype.onEnd=function(t){this.onEndCallback=t},t.CSS_PREFIX="page-guide",t}();e.PageGuide=r},"./src/PageGuideItem.ts":function(t,e,n){"use strict";e.__esModule=!0;var i=n("./src/GUI/PageGuideItemGUI.ts"),o=function(){function t(t,e,n,o,r,s){void 0===r&&(r=""),void 0===s&&(s="bottom"),this.content=t,this.index=e,this.collentionLength=n,this.element=o,this.title=r,this.position=s,void 0!==this.element&&""!==this.element&&(this.targets=document.querySelectorAll(this.element)),this.gui=new i.PageGuideItemGUI(this)}return t.prototype.draw=function(t){var e=this;void 0!==this.targets&&0===this.targets.length||(void 0!==this.targets&&this.targets.length>0&&this.targets[0].scrollIntoView({block:"center",inline:"nearest"}),setTimeout(function(){document.body.appendChild(e.gui.markup),e.gui.position(),t()},0))},t.prototype.cleanup=function(){document.body.removeChild(this.gui.markup)},t.prototype.update=function(){this.gui.update()},t.prototype.onExit=function(t){this.gui.onExit(t)},t.prototype.onPrevious=function(t){this.gui.onPrevious(t)},t.prototype.onNext=function(t){this.gui.onNext(t)},t.CSS_PREFIX="item",t}();e.PageGuideItem=o}})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9QYWdlR3VpZGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL1BhZ2VHdWlkZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9QYWdlR3VpZGUvLi9zcmMvUGFnZUd1aWRlLnNjc3MiLCJ3ZWJwYWNrOi8vUGFnZUd1aWRlLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovL1BhZ2VHdWlkZS8uL25vZGVfbW9kdWxlcy9wb3BwZXIuanMvZGlzdC9lc20vcG9wcGVyLmpzIiwid2VicGFjazovL1BhZ2VHdWlkZS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly9QYWdlR3VpZGUvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovL1BhZ2VHdWlkZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vUGFnZUd1aWRlLy4vc3JjL0dVSS9CdXR0b25HVUkudHMiLCJ3ZWJwYWNrOi8vUGFnZUd1aWRlLy4vc3JjL0dVSS9QYWdlR3VpZGVHVUkudHMiLCJ3ZWJwYWNrOi8vUGFnZUd1aWRlLy4vc3JjL0dVSS9QYWdlR3VpZGVJdGVtR1VJLnRzIiwid2VicGFjazovL1BhZ2VHdWlkZS8uL3NyYy9QYWdlR3VpZGUuc2Nzcz81M2NjIiwid2VicGFjazovL1BhZ2VHdWlkZS8uL3NyYy9QYWdlR3VpZGUudHMiLCJ3ZWJwYWNrOi8vUGFnZUd1aWRlLy4vc3JjL1BhZ2VHdWlkZUl0ZW0udHMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicHVzaCIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNvbmNhdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsZW5ndGgiLCJpZCIsImdsb2JhbCIsImlzQnJvd3NlciIsImRvY3VtZW50IiwibG9uZ2VyVGltZW91dEJyb3dzZXJzIiwidGltZW91dER1cmF0aW9uIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImRlYm91bmNlIiwiUHJvbWlzZSIsImZuIiwiY2FsbGVkIiwicmVzb2x2ZSIsInRoZW4iLCJzY2hlZHVsZWQiLCJzZXRUaW1lb3V0IiwiaXNGdW5jdGlvbiIsImZ1bmN0aW9uVG9DaGVjayIsImdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eSIsImVsZW1lbnQiLCJub2RlVHlwZSIsImNzcyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQYXJlbnROb2RlIiwibm9kZU5hbWUiLCJwYXJlbnROb2RlIiwiaG9zdCIsImdldFNjcm9sbFBhcmVudCIsImJvZHkiLCJvd25lckRvY3VtZW50IiwiX2dldFN0eWxlQ29tcHV0ZWRQcm9wIiwib3ZlcmZsb3ciLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJ0ZXN0IiwiaXNJRTExIiwiTVNJbnB1dE1ldGhvZENvbnRleHQiLCJkb2N1bWVudE1vZGUiLCJpc0lFMTAiLCJpc0lFIiwidmVyc2lvbiIsImdldE9mZnNldFBhcmVudCIsImRvY3VtZW50RWxlbWVudCIsIm5vT2Zmc2V0UGFyZW50Iiwib2Zmc2V0UGFyZW50IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZ2V0Um9vdCIsIm5vZGUiLCJmaW5kQ29tbW9uT2Zmc2V0UGFyZW50IiwiZWxlbWVudDEiLCJlbGVtZW50MiIsIm9yZGVyIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJOb2RlIiwiRE9DVU1FTlRfUE9TSVRJT05fRk9MTE9XSU5HIiwic3RhcnQiLCJlbmQiLCJyYW5nZSIsImNyZWF0ZVJhbmdlIiwic2V0U3RhcnQiLCJzZXRFbmQiLCJjb21tb25BbmNlc3RvckNvbnRhaW5lciIsImNvbnRhaW5zIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJlbGVtZW50MXJvb3QiLCJnZXRTY3JvbGwiLCJ1cHBlclNpZGUiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJodG1sIiwic2Nyb2xsaW5nRWxlbWVudCIsImdldEJvcmRlcnNTaXplIiwic3R5bGVzIiwiYXhpcyIsInNpZGVBIiwic2lkZUIiLCJwYXJzZUZsb2F0IiwiZ2V0U2l6ZSIsImNvbXB1dGVkU3R5bGUiLCJNYXRoIiwibWF4IiwiZ2V0V2luZG93U2l6ZXMiLCJoZWlnaHQiLCJ3aWR0aCIsImNsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsImNyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsIndyaXRhYmxlIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwib2JqIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJnZXRDbGllbnRSZWN0Iiwib2Zmc2V0cyIsInJpZ2h0IiwibGVmdCIsImJvdHRvbSIsInRvcCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJlY3QiLCJzY3JvbGxUb3AiLCJzY3JvbGxMZWZ0IiwiZSIsInJlc3VsdCIsInNpemVzIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJob3JpelNjcm9sbGJhciIsIm9mZnNldFdpZHRoIiwidmVydFNjcm9sbGJhciIsIm9mZnNldEhlaWdodCIsImdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZSIsImNoaWxkcmVuIiwicGFyZW50IiwiZml4ZWRQb3NpdGlvbiIsImlzSFRNTCIsImNoaWxkcmVuUmVjdCIsInBhcmVudFJlY3QiLCJzY3JvbGxQYXJlbnQiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlckxlZnRXaWR0aCIsIm1hcmdpblRvcCIsIm1hcmdpbkxlZnQiLCJzdWJ0cmFjdCIsIm1vZGlmaWVyIiwiaW5jbHVkZVNjcm9sbCIsImdldEZpeGVkUG9zaXRpb25PZmZzZXRQYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwiZWwiLCJnZXRCb3VuZGFyaWVzIiwicG9wcGVyIiwicmVmZXJlbmNlIiwicGFkZGluZyIsImJvdW5kYXJpZXNFbGVtZW50IiwiYm91bmRhcmllcyIsImV4Y2x1ZGVTY3JvbGwiLCJyZWxhdGl2ZU9mZnNldCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImdldFZpZXdwb3J0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcnRiaXRyYXJ5Tm9kZSIsImJvdW5kYXJpZXNOb2RlIiwiaXNGaXhlZCIsIl9nZXRXaW5kb3dTaXplcyIsImNvbXB1dGVBdXRvUGxhY2VtZW50IiwicGxhY2VtZW50IiwicmVmUmVjdCIsInJlY3RzIiwic29ydGVkQXJlYXMiLCJrZXlzIiwiYXJlYSIsIl9yZWYiLCJzb3J0IiwiYSIsImIiLCJmaWx0ZXJlZEFyZWFzIiwiZmlsdGVyIiwiX3JlZjIiLCJjb21wdXRlZFBsYWNlbWVudCIsInZhcmlhdGlvbiIsInNwbGl0IiwiZ2V0UmVmZXJlbmNlT2Zmc2V0cyIsInN0YXRlIiwiZ2V0T3V0ZXJTaXplcyIsIngiLCJtYXJnaW5Cb3R0b20iLCJ5IiwibWFyZ2luUmlnaHQiLCJnZXRPcHBvc2l0ZVBsYWNlbWVudCIsImhhc2giLCJyZXBsYWNlIiwibWF0Y2hlZCIsImdldFBvcHBlck9mZnNldHMiLCJyZWZlcmVuY2VPZmZzZXRzIiwicG9wcGVyUmVjdCIsInBvcHBlck9mZnNldHMiLCJpc0hvcml6IiwibWFpblNpZGUiLCJzZWNvbmRhcnlTaWRlIiwibWVhc3VyZW1lbnQiLCJzZWNvbmRhcnlNZWFzdXJlbWVudCIsImZpbmQiLCJhcnIiLCJjaGVjayIsIkFycmF5IiwicnVuTW9kaWZpZXJzIiwibW9kaWZpZXJzIiwiZGF0YSIsImVuZHMiLCJzbGljZSIsInByb3AiLCJmaW5kSW5kZXgiLCJjdXIiLCJtYXRjaCIsImZvckVhY2giLCJjb25zb2xlIiwid2FybiIsImVuYWJsZWQiLCJpc01vZGlmaWVyRW5hYmxlZCIsIm1vZGlmaWVyTmFtZSIsInNvbWUiLCJnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUiLCJwcmVmaXhlcyIsInVwcGVyUHJvcCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwicHJlZml4IiwidG9DaGVjayIsInN0eWxlIiwiZ2V0V2luZG93IiwiZGVmYXVsdFZpZXciLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwib3B0aW9ucyIsInVwZGF0ZUJvdW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBhc3NpdmUiLCJzY3JvbGxFbGVtZW50IiwiYXR0YWNoVG9TY3JvbGxQYXJlbnRzIiwiZXZlbnQiLCJjYWxsYmFjayIsInNjcm9sbFBhcmVudHMiLCJpc0JvZHkiLCJldmVudHNFbmFibGVkIiwiZGlzYWJsZUV2ZW50TGlzdGVuZXJzIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJzY2hlZHVsZVVwZGF0ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc051bWVyaWMiLCJpc05hTiIsImlzRmluaXRlIiwic2V0U3R5bGVzIiwidW5pdCIsImlzTW9kaWZpZXJSZXF1aXJlZCIsInJlcXVlc3RpbmdOYW1lIiwicmVxdWVzdGVkTmFtZSIsInJlcXVlc3RpbmciLCJpc1JlcXVpcmVkIiwiX3JlcXVlc3RpbmciLCJyZXF1ZXN0ZWQiLCJwbGFjZW1lbnRzIiwidmFsaWRQbGFjZW1lbnRzIiwiY2xvY2t3aXNlIiwiY291bnRlciIsImluZGV4IiwicmV2ZXJzZSIsIkJFSEFWSU9SUyIsIkZMSVAiLCJDTE9DS1dJU0UiLCJDT1VOVEVSQ0xPQ0tXSVNFIiwicGFyc2VPZmZzZXQiLCJvZmZzZXQiLCJiYXNlUGxhY2VtZW50IiwidXNlSGVpZ2h0IiwiZnJhZ21lbnRzIiwiZnJhZyIsInRyaW0iLCJkaXZpZGVyIiwic2VhcmNoIiwic3BsaXRSZWdleCIsIm9wcyIsIm9wIiwibWVyZ2VXaXRoUHJldmlvdXMiLCJyZWR1Y2UiLCJzdHIiLCJ0b1ZhbHVlIiwiaW5kZXgyIiwiRGVmYXVsdHMiLCJwb3NpdGlvbkZpeGVkIiwicmVtb3ZlT25EZXN0cm95Iiwib25DcmVhdGUiLCJvblVwZGF0ZSIsInNoaWZ0Iiwic2hpZnR2YXJpYXRpb24iLCJfZGF0YSRvZmZzZXRzIiwiaXNWZXJ0aWNhbCIsInNpZGUiLCJzaGlmdE9mZnNldHMiLCJwcmV2ZW50T3ZlcmZsb3ciLCJ0cmFuc2Zvcm1Qcm9wIiwicG9wcGVyU3R5bGVzIiwidHJhbnNmb3JtIiwicHJpb3JpdHkiLCJwcmltYXJ5IiwiZXNjYXBlV2l0aFJlZmVyZW5jZSIsInNlY29uZGFyeSIsIm1pbiIsImtlZXBUb2dldGhlciIsImZsb29yIiwib3BTaWRlIiwiYXJyb3ciLCJfZGF0YSRvZmZzZXRzJGFycm93IiwiYXJyb3dFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImxlbiIsInNpZGVDYXBpdGFsaXplZCIsInRvTG93ZXJDYXNlIiwiYWx0U2lkZSIsImFycm93RWxlbWVudFNpemUiLCJjZW50ZXIiLCJwb3BwZXJNYXJnaW5TaWRlIiwicG9wcGVyQm9yZGVyU2lkZSIsInNpZGVWYWx1ZSIsInJvdW5kIiwiZmxpcCIsImZsaXBwZWQiLCJvcmlnaW5hbFBsYWNlbWVudCIsInBsYWNlbWVudE9wcG9zaXRlIiwiZmxpcE9yZGVyIiwiYmVoYXZpb3IiLCJzdGVwIiwicmVmT2Zmc2V0cyIsIm92ZXJsYXBzUmVmIiwib3ZlcmZsb3dzTGVmdCIsIm92ZXJmbG93c1JpZ2h0Iiwib3ZlcmZsb3dzVG9wIiwib3ZlcmZsb3dzQm90dG9tIiwib3ZlcmZsb3dzQm91bmRhcmllcyIsImZsaXBwZWRWYXJpYXRpb24iLCJmbGlwVmFyaWF0aW9ucyIsImdldE9wcG9zaXRlVmFyaWF0aW9uIiwiaW5uZXIiLCJzdWJ0cmFjdExlbmd0aCIsImhpZGUiLCJib3VuZCIsImF0dHJpYnV0ZXMiLCJjb21wdXRlU3R5bGUiLCJsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24iLCJncHVBY2NlbGVyYXRpb24iLCJvZmZzZXRQYXJlbnRSZWN0IiwicG9zaXRpb24iLCJwcmVmaXhlZFByb3BlcnR5Iiwid2lsbENoYW5nZSIsImludmVydFRvcCIsImludmVydExlZnQiLCJ4LXBsYWNlbWVudCIsImFycm93U3R5bGVzIiwiYXBwbHlTdHlsZSIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsIm9uTG9hZCIsIm1vZGlmaWVyT3B0aW9ucyIsIlBvcHBlciIsIl90aGlzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidXBkYXRlIiwiYmluZCIsImlzRGVzdHJveWVkIiwiaXNDcmVhdGVkIiwianF1ZXJ5IiwiZW5hYmxlRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVDaGlsZCIsIlV0aWxzIiwiUG9wcGVyVXRpbHMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsImFsbCIsImF0b2IiLCJhcHBseSIsImdldEVsZW1lbnQiLCJzdHlsZVRhcmdldCIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwiZG9tU3R5bGUiLCJyZWZzIiwiaiIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsIm1lZGlhIiwiaW5zZXJ0U3R5bGVFbGVtZW50IiwiaW5zZXJ0SW50byIsIkVycm9yIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwiaWR4Iiwic3BsaWNlIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHJzIiwidHlwZSIsImFkZEF0dHJzIiwicmVtb3ZlIiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJibG9iIiwib2xkU3JjIiwiaHJlZiIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJuZXdPYmoiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwibmV3VXJsIiwidW5xdW90ZWRPcmlnVXJsIiwiJDEiLCJnIiwiRnVuY3Rpb24iLCJldmFsIiwiUGFnZUd1aWRlXzEiLCJCdXR0b25HVUkiLCJkdG8iLCJwYWRkaW5nLXJpZ2h0IiwibWFya3VwIiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwiYWRkIiwiUGFnZUd1aWRlIiwiQ1NTX1BSRUZJWCIsInRvU3R5bGVTdHJpbmciLCJzZXRQcm9wZXJ0eSIsIkJ1dHRvbkdVSV8xIiwiUGFnZUd1aWRlR3VpIiwiYnV0dG9uRGVmaW5pdGlvbiIsImNhbnZhcyIsImNsYXNzTmFtZSIsImN0eCIsImdldENvbnRleHQiLCJidG5TdGFydCIsIm9uU3RhcnQiLCJvbmNsaWNrIiwib25FbmQiLCJ0YXJnZXRzIiwiZGlzcGxheSIsInJlbmRlckJhY2tkcm9wIiwiZWxlbWVudFJlY3QiLCJjbGVhclJlY3QiLCJzdG9wIiwiaGlnaGxpZ2h0IiwiZWxlbWVudHMiLCJzdGFnZVdpZHRoIiwic3RhZ2VIZWlnaHQiLCJncmFkaWVudCIsImNyZWF0ZVJhZGlhbEdyYWRpZW50IiwiYWRkQ29sb3JTdG9wIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJQYWdlR3VpZGVJdGVtXzEiLCJwb3BwZXJfanNfMSIsIlBhZ2VHdWlkZUl0ZW1HVUkiLCJwYWdlR3VpZGVJdGVtIiwicG9wcGVyU2hpZnRzIiwiYnRuRXhpdCIsImJ0blByZXZpb3VzIiwiYnRuTmV4dCIsImJ1dHRvbnMiLCJ0aXRsZSIsIlBhZ2VHdWlkZUl0ZW0iLCJjb2xsZW50aW9uTGVuZ3RoIiwicG9wdXBCb3giLCJvbkV4aXQiLCJvblByZXZpb3VzIiwib25OZXh0IiwiaG1yIiwibG9jYWxzIiwiUGFnZUd1aWRlR1VJXzEiLCJkdG9JdGVtcyIsImlzQWN0aXZlIiwiYWN0aXZlSW5kZXgiLCJndWkiLCJpdGVtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJvbmtleWRvd24iLCJldnQiLCJhbHRLZXkiLCJzaGlmdEtleSIsImN0cmxLZXkiLCJtZXRhS2V5IiwicHJldmVudERlZmF1bHQiLCJvbnJlc2l6ZSIsImFjdGl2ZUl0ZW0iLCJvblN0YXJ0Q2FsbGJhY2siLCJjbGVhbkFjdGl2ZUl0ZW0iLCJkcmF3IiwiY2xlYW51cCIsIm9uRW5kQ2FsbGJhY2siLCJjYiIsIlBhZ2VHdWlkZUl0ZW1HVUlfMSIsInNjcm9sbEludG9WaWV3IiwiYmxvY2siLCJpbmxp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b3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIlBhZ2VHdWlkZVwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJQYWdlR3VpZGVcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiUGFnZUd1aWRlXCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL1BhZ2VHdWlkZS50c1wiKTtcbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnotZGVwdGgtMSB7XFxuICBib3gtc2hhZG93OiAwIDFweCA0cHggcmdiYSgwLCAwLCAwLCAwLjI0KTsgfVxcblxcbi56LWRlcHRoLTIge1xcbiAgYm94LXNoYWRvdzogMCAzcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMjMpOyB9XFxuXFxuLnotZGVwdGgtMywgLnBhZ2UtZ3VpZGUtYnV0dG9uLXN0YXJ0LCAucGFnZS1ndWlkZS1pdGVtIC5wYWdlLWd1aWRlLWl0ZW0tYnV0dG9uLWV4aXQge1xcbiAgYm94LXNoYWRvdzogMCA2cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMjMpOyB9XFxuXFxuLnotZGVwdGgtNCB7XFxuICBib3gtc2hhZG93OiAwIDEwcHggMThweCByZ2JhKDAsIDAsIDAsIDAuMjIpOyB9XFxuXFxuLnotZGVwdGgtNSwgLnBhZ2UtZ3VpZGUtaXRlbSB7XFxuICBib3gtc2hhZG93OiAwIDE1cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMjIpOyB9XFxuXFxuLnBhZ2UtZ3VpZGUtYmFja2Ryb3Age1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBvcGFjaXR5OiAwO1xcbiAgei1pbmRleDogOTk5OTk5ODtcXG4gIHRyYW5zaXRpb246IGFsbCA0NTBtcyBjdWJpYy1iZXppZXIoMC4yMywgMSwgMC4zMiwgMSkgMG1zOyB9XFxuICAucGFnZS1ndWlkZS1iYWNrZHJvcC5hY3RpdmUge1xcbiAgICBvcGFjaXR5OiAxOyB9XFxuXFxuLnBhZ2UtZ3VpZGUtYnV0dG9uLXN0YXJ0IHtcXG4gIHotaW5kZXg6IDk5OTk5OTg7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBib3JkZXI6IDNweCBzb2xpZCAjNjY2NjY2O1xcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcXG4gIGZvbnQtc3R5bGU6IGl0YWxpYztcXG4gIGZvbnQtd2VpZ2h0OiA3MDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgb3V0bGluZTogbm9uZSAhaW1wb3J0YW50OyB9XFxuXFxuLnBhZ2UtZ3VpZGUtaXRlbSB7XFxuICBmb250LWZhbWlseTogJ1VidW50dScsJ0dpbGwgU2FucycsICdHaWxsIFNhbnMgTVQnLCBDYWxpYnJpLCAnVHJlYnVjaGV0IE1TJywgc2Fucy1zZXJpZjtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDk5OTk5OTk7XFxuICBwYWRkaW5nOiAxNnB4O1xcbiAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjhGOEY4O1xcbiAgbWluLXdpZHRoOiAyNTZweDtcXG4gIG1heC13aWR0aDogNzY4cHg7XFxuICB3aWR0aDogNTAlO1xcbiAgbWFyZ2luOiAxNnB4O1xcbiAgYm9yZGVyOiBub25lOyB9XFxuICAucGFnZS1ndWlkZS1pdGVtW3gtcGxhY2VtZW50Xj1cXFwiY2VudGVyXFxcIl0ge1xcbiAgICBib3JkZXItdG9wOiA4cHggc29saWQgI2ZmOTkzMzsgfVxcbiAgLnBhZ2UtZ3VpZGUtaXRlbVt4LXBsYWNlbWVudF49XFxcImJvdHRvbVxcXCJdIHtcXG4gICAgYm9yZGVyLXRvcDogOHB4IHNvbGlkICNmZjk5MzM7IH1cXG4gICAgLnBhZ2UtZ3VpZGUtaXRlbVt4LXBsYWNlbWVudF49XFxcImJvdHRvbVxcXCJdIC5wYWdlLWd1aWRlLWl0ZW0tYXJyb3cge1xcbiAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICNmZjk5MzM7XFxuICAgICAgdG9wOiAtMzJweDtcXG4gICAgICBib3R0b206IGluaXRpYWw7XFxuICAgICAgbWFyZ2luLXRvcDogMDtcXG4gICAgICBsZWZ0OiA1MCU7XFxuICAgICAgcmlnaHQ6IGluaXRpYWw7IH1cXG4gIC5wYWdlLWd1aWRlLWl0ZW1beC1wbGFjZW1lbnRePVxcXCJ0b3BcXFwiXSB7XFxuICAgIGJvcmRlci1ib3R0b206IDhweCBzb2xpZCAjZmY5OTMzOyB9XFxuICAgIC5wYWdlLWd1aWRlLWl0ZW1beC1wbGFjZW1lbnRePVxcXCJ0b3BcXFwiXSAucGFnZS1ndWlkZS1pdGVtLWFycm93IHtcXG4gICAgICBib3JkZXItdG9wLWNvbG9yOiAjZmY5OTMzO1xcbiAgICAgIHRvcDogaW5pdGlhbDtcXG4gICAgICBib3R0b206IC0zMnB4O1xcbiAgICAgIG1hcmdpbi1ib3R0b206IDA7XFxuICAgICAgbGVmdDogNTAlO1xcbiAgICAgIHJpZ2h0OiBpbml0aWFsOyB9XFxuICAucGFnZS1ndWlkZS1pdGVtW3gtcGxhY2VtZW50Xj1cXFwicmlnaHRcXFwiXSB7XFxuICAgIGJvcmRlci1sZWZ0OiA4cHggc29saWQgI2ZmOTkzMzsgfVxcbiAgICAucGFnZS1ndWlkZS1pdGVtW3gtcGxhY2VtZW50Xj1cXFwicmlnaHRcXFwiXSAucGFnZS1ndWlkZS1pdGVtLWFycm93IHtcXG4gICAgICBib3JkZXItcmlnaHQtY29sb3I6ICNmZjk5MzM7XFxuICAgICAgbGVmdDogLTMycHg7XFxuICAgICAgcmlnaHQ6IGluaXRpYWw7XFxuICAgICAgYm90dG9tOiBpbml0aWFsO1xcbiAgICAgIG1hcmdpbi1sZWZ0OiAwO1xcbiAgICAgIHRvcDogNTAlOyB9XFxuICAucGFnZS1ndWlkZS1pdGVtW3gtcGxhY2VtZW50Xj1cXFwibGVmdFxcXCJdIHtcXG4gICAgYm9yZGVyLXJpZ2h0OiA4cHggc29saWQgI2ZmOTkzMzsgfVxcbiAgICAucGFnZS1ndWlkZS1pdGVtW3gtcGxhY2VtZW50Xj1cXFwibGVmdFxcXCJdIC5wYWdlLWd1aWRlLWl0ZW0tYXJyb3cge1xcbiAgICAgIGJvcmRlci1sZWZ0LWNvbG9yOiAjZmY5OTMzO1xcbiAgICAgIGxlZnQ6IGluaXRpYWw7XFxuICAgICAgYm90dG9tOiBpbml0aWFsO1xcbiAgICAgIHJpZ2h0OiAtMzJweDtcXG4gICAgICBtYXJnaW4tcmlnaHQ6IDA7XFxuICAgICAgdG9wOiA1MCU7IH1cXG4gIC5wYWdlLWd1aWRlLWl0ZW0gLnBhZ2UtZ3VpZGUtaXRlbS1hcnJvdyB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgbWFyZ2luOiAtMTZweDtcXG4gICAgYm9yZGVyOiAxNnB4IHNvbGlkIHRyYW5zcGFyZW50OyB9XFxuICAucGFnZS1ndWlkZS1pdGVtIGgxIHtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBmb250LXNpemU6IDMycHg7XFxuICAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBtYXJnaW46IDA7XFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjNjY2NjY2OyB9XFxuICAucGFnZS1ndWlkZS1pdGVtIC5wYWdlLWd1aWRlLWl0ZW0tY291bnRlciB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAxNnB4O1xcbiAgICByaWdodDogMTZweDtcXG4gICAgZm9udC13ZWlnaHQ6IDMwMDtcXG4gICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcXG4gICAgbGluZS1oZWlnaHQ6IDUwcHg7IH1cXG4gIC5wYWdlLWd1aWRlLWl0ZW0gLnBhZ2UtZ3VpZGUtaXRlbS1idXR0b25zIHtcXG4gICAgZGlzcGxheTogZmxleDsgfVxcbiAgICAucGFnZS1ndWlkZS1pdGVtIC5wYWdlLWd1aWRlLWl0ZW0tYnV0dG9ucyAucGFnZS1ndWlkZS1pdGVtLWJ1dHRvbiB7XFxuICAgICAgZmxleDogMXB4OyB9XFxuICAgICAgLnBhZ2UtZ3VpZGUtaXRlbSAucGFnZS1ndWlkZS1pdGVtLWJ1dHRvbnMgLnBhZ2UtZ3VpZGUtaXRlbS1idXR0b246aG92ZXIge1xcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjA1KTsgfVxcbiAgICAucGFnZS1ndWlkZS1pdGVtIC5wYWdlLWd1aWRlLWl0ZW0tYnV0dG9ucyAucGFnZS1ndWlkZS1pdGVtLWJ1dHRvbi1wcmV2aW91cyB7XFxuICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7IH1cXG4gICAgLnBhZ2UtZ3VpZGUtaXRlbSAucGFnZS1ndWlkZS1pdGVtLWJ1dHRvbnMgLnBhZ2UtZ3VpZGUtaXRlbS1idXR0b24tbmV4dCB7XFxuICAgICAgdGV4dC1hbGlnbjogbGVmdDsgfVxcbiAgLnBhZ2UtZ3VpZGUtaXRlbSAucGFnZS1ndWlkZS1pdGVtLWJ1dHRvbiB7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gICAgZm9udC1zaXplOiAzMnB4O1xcbiAgICBvdXRsaW5lOiBub25lICFpbXBvcnRhbnQ7XFxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gICAgdHJhbnNpdGlvbjogYWxsIDQ1MG1zIGN1YmljLWJlemllcigwLjIzLCAxLCAwLjMyLCAxKSAwbXM7IH1cXG4gICAgLnBhZ2UtZ3VpZGUtaXRlbSAucGFnZS1ndWlkZS1pdGVtLWJ1dHRvbjpob3ZlciwgLnBhZ2UtZ3VpZGUtaXRlbSAucGFnZS1ndWlkZS1pdGVtLWJ1dHRvbjphY3RpdmUsIC5wYWdlLWd1aWRlLWl0ZW0gLnBhZ2UtZ3VpZGUtaXRlbS1idXR0b246Zm9jdXMge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNFMEUwRTA7IH1cXG4gICAgLnBhZ2UtZ3VpZGUtaXRlbSAucGFnZS1ndWlkZS1pdGVtLWJ1dHRvbjpkaXNhYmxlZCB7XFxuICAgICAgdmlzaWJpbGl0eTogaGlkZGVuOyB9XFxuICAucGFnZS1ndWlkZS1pdGVtIC5wYWdlLWd1aWRlLWl0ZW0tYnV0dG9uLWV4aXQge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGJvdHRvbTogLTE2cHg7XFxuICAgIHJpZ2h0OiAxNnB4O1xcbiAgICB3aWR0aDogMzJweDtcXG4gICAgaGVpZ2h0OiAzMnB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRThFOEU4O1xcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIGxpbmUtaGVpZ2h0OiAwO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7IH1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG4iLCIvKiohXG4gKiBAZmlsZU92ZXJ2aWV3IEtpY2thc3MgbGlicmFyeSB0byBjcmVhdGUgYW5kIHBsYWNlIHBvcHBlcnMgbmVhciB0aGVpciByZWZlcmVuY2UgZWxlbWVudHMuXG4gKiBAdmVyc2lvbiAxLjE0LjNcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTYgRmVkZXJpY28gWml2b2xvIGFuZCBjb250cmlidXRvcnNcbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4gKiBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAqIFNPRlRXQVJFLlxuICovXG52YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcblxudmFyIGxvbmdlclRpbWVvdXRCcm93c2VycyA9IFsnRWRnZScsICdUcmlkZW50JywgJ0ZpcmVmb3gnXTtcbnZhciB0aW1lb3V0RHVyYXRpb24gPSAwO1xuZm9yICh2YXIgaSA9IDA7IGkgPCBsb25nZXJUaW1lb3V0QnJvd3NlcnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgaWYgKGlzQnJvd3NlciAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YobG9uZ2VyVGltZW91dEJyb3dzZXJzW2ldKSA+PSAwKSB7XG4gICAgdGltZW91dER1cmF0aW9uID0gMTtcbiAgICBicmVhaztcbiAgfVxufVxuXG5mdW5jdGlvbiBtaWNyb3Rhc2tEZWJvdW5jZShmbikge1xuICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGNhbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsZWQgPSB0cnVlO1xuICAgIHdpbmRvdy5Qcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxlZCA9IGZhbHNlO1xuICAgICAgZm4oKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdGFza0RlYm91bmNlKGZuKSB7XG4gIHZhciBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXNjaGVkdWxlZCkge1xuICAgICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgZm4oKTtcbiAgICAgIH0sIHRpbWVvdXREdXJhdGlvbik7XG4gICAgfVxuICB9O1xufVxuXG52YXIgc3VwcG9ydHNNaWNyb1Rhc2tzID0gaXNCcm93c2VyICYmIHdpbmRvdy5Qcm9taXNlO1xuXG4vKipcbiogQ3JlYXRlIGEgZGVib3VuY2VkIHZlcnNpb24gb2YgYSBtZXRob2QsIHRoYXQncyBhc3luY2hyb25vdXNseSBkZWZlcnJlZFxuKiBidXQgY2FsbGVkIGluIHRoZSBtaW5pbXVtIHRpbWUgcG9zc2libGUuXG4qXG4qIEBtZXRob2RcbiogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuKiBAYXJndW1lbnQge0Z1bmN0aW9ufSBmblxuKiBAcmV0dXJucyB7RnVuY3Rpb259XG4qL1xudmFyIGRlYm91bmNlID0gc3VwcG9ydHNNaWNyb1Rhc2tzID8gbWljcm90YXNrRGVib3VuY2UgOiB0YXNrRGVib3VuY2U7XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhcmlhYmxlIGlzIGEgZnVuY3Rpb25cbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7QW55fSBmdW5jdGlvblRvQ2hlY2sgLSB2YXJpYWJsZSB0byBjaGVja1xuICogQHJldHVybnMge0Jvb2xlYW59IGFuc3dlciB0bzogaXMgYSBmdW5jdGlvbj9cbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbihmdW5jdGlvblRvQ2hlY2spIHtcbiAgdmFyIGdldFR5cGUgPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uVG9DaGVjayAmJiBnZXRUeXBlLnRvU3RyaW5nLmNhbGwoZnVuY3Rpb25Ub0NoZWNrKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBHZXQgQ1NTIGNvbXB1dGVkIHByb3BlcnR5IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VlbWVudH0gZWxlbWVudFxuICogQGFyZ3VtZW50IHtTdHJpbmd9IHByb3BlcnR5XG4gKi9cbmZ1bmN0aW9uIGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50LCBwcm9wZXJ0eSkge1xuICBpZiAoZWxlbWVudC5ub2RlVHlwZSAhPT0gMSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICAvLyBOT1RFOiAxIERPTSBhY2Nlc3MgaGVyZVxuICB2YXIgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgcmV0dXJuIHByb3BlcnR5ID8gY3NzW3Byb3BlcnR5XSA6IGNzcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwYXJlbnROb2RlIG9yIHRoZSBob3N0IG9mIHRoZSBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSFRNTCcpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuICByZXR1cm4gZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQuaG9zdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY3JvbGxpbmcgcGFyZW50IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBzY3JvbGwgcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChlbGVtZW50KSB7XG4gIC8vIFJldHVybiBib2R5LCBgZ2V0U2Nyb2xsYCB3aWxsIHRha2UgY2FyZSB0byBnZXQgdGhlIGNvcnJlY3QgYHNjcm9sbFRvcGAgZnJvbSBpdFxuICBpZiAoIWVsZW1lbnQpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYm9keTtcbiAgfVxuXG4gIHN3aXRjaCAoZWxlbWVudC5ub2RlTmFtZSkge1xuICAgIGNhc2UgJ0hUTUwnOlxuICAgIGNhc2UgJ0JPRFknOlxuICAgICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5O1xuICAgIGNhc2UgJyNkb2N1bWVudCc6XG4gICAgICByZXR1cm4gZWxlbWVudC5ib2R5O1xuICB9XG5cbiAgLy8gRmlyZWZveCB3YW50IHVzIHRvIGNoZWNrIGAteGAgYW5kIGAteWAgdmFyaWF0aW9ucyBhcyB3ZWxsXG5cbiAgdmFyIF9nZXRTdHlsZUNvbXB1dGVkUHJvcCA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50KSxcbiAgICAgIG92ZXJmbG93ID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93LFxuICAgICAgb3ZlcmZsb3dYID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93WCxcbiAgICAgIG92ZXJmbG93WSA9IF9nZXRTdHlsZUNvbXB1dGVkUHJvcC5vdmVyZmxvd1k7XG5cbiAgaWYgKC8oYXV0b3xzY3JvbGx8b3ZlcmxheSkvLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICByZXR1cm4gZ2V0U2Nyb2xsUGFyZW50KGdldFBhcmVudE5vZGUoZWxlbWVudCkpO1xufVxuXG52YXIgaXNJRTExID0gaXNCcm93c2VyICYmICEhKHdpbmRvdy5NU0lucHV0TWV0aG9kQ29udGV4dCAmJiBkb2N1bWVudC5kb2N1bWVudE1vZGUpO1xudmFyIGlzSUUxMCA9IGlzQnJvd3NlciAmJiAvTVNJRSAxMC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBicm93c2VyIGlzIEludGVybmV0IEV4cGxvcmVyXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge051bWJlcn0gdmVyc2lvbiB0byBjaGVja1xuICogQHJldHVybnMge0Jvb2xlYW59IGlzSUVcbiAqL1xuZnVuY3Rpb24gaXNJRSh2ZXJzaW9uKSB7XG4gIGlmICh2ZXJzaW9uID09PSAxMSkge1xuICAgIHJldHVybiBpc0lFMTE7XG4gIH1cbiAgaWYgKHZlcnNpb24gPT09IDEwKSB7XG4gICAgcmV0dXJuIGlzSUUxMDtcbiAgfVxuICByZXR1cm4gaXNJRTExIHx8IGlzSUUxMDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvZmZzZXQgcGFyZW50IG9mIHRoZSBnaXZlbiBlbGVtZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBvZmZzZXQgcGFyZW50XG4gKi9cbmZ1bmN0aW9uIGdldE9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudCkge1xuICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIH1cblxuICB2YXIgbm9PZmZzZXRQYXJlbnQgPSBpc0lFKDEwKSA/IGRvY3VtZW50LmJvZHkgOiBudWxsO1xuXG4gIC8vIE5PVEU6IDEgRE9NIGFjY2VzcyBoZXJlXG4gIHZhciBvZmZzZXRQYXJlbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDtcbiAgLy8gU2tpcCBoaWRkZW4gZWxlbWVudHMgd2hpY2ggZG9uJ3QgaGF2ZSBhbiBvZmZzZXRQYXJlbnRcbiAgd2hpbGUgKG9mZnNldFBhcmVudCA9PT0gbm9PZmZzZXRQYXJlbnQgJiYgZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICBvZmZzZXRQYXJlbnQgPSAoZWxlbWVudCA9IGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nKS5vZmZzZXRQYXJlbnQ7XG4gIH1cblxuICB2YXIgbm9kZU5hbWUgPSBvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50Lm5vZGVOYW1lO1xuXG4gIGlmICghbm9kZU5hbWUgfHwgbm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQgPyBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgLy8gLm9mZnNldFBhcmVudCB3aWxsIHJldHVybiB0aGUgY2xvc2VzdCBURCBvciBUQUJMRSBpbiBjYXNlXG4gIC8vIG5vIG9mZnNldFBhcmVudCBpcyBwcmVzZW50LCBJIGhhdGUgdGhpcyBqb2IuLi5cbiAgaWYgKFsnVEQnLCAnVEFCTEUnXS5pbmRleE9mKG9mZnNldFBhcmVudC5ub2RlTmFtZSkgIT09IC0xICYmIGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShvZmZzZXRQYXJlbnQsICdwb3NpdGlvbicpID09PSAnc3RhdGljJykge1xuICAgIHJldHVybiBnZXRPZmZzZXRQYXJlbnQob2Zmc2V0UGFyZW50KTtcbiAgfVxuXG4gIHJldHVybiBvZmZzZXRQYXJlbnQ7XG59XG5cbmZ1bmN0aW9uIGlzT2Zmc2V0Q29udGFpbmVyKGVsZW1lbnQpIHtcbiAgdmFyIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZTtcblxuICBpZiAobm9kZU5hbWUgPT09ICdCT0RZJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gbm9kZU5hbWUgPT09ICdIVE1MJyB8fCBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCkgPT09IGVsZW1lbnQ7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIHJvb3Qgbm9kZSAoZG9jdW1lbnQsIHNoYWRvd0RPTSByb290KSBvZiB0aGUgZ2l2ZW4gZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBub2RlXG4gKiBAcmV0dXJucyB7RWxlbWVudH0gcm9vdCBub2RlXG4gKi9cbmZ1bmN0aW9uIGdldFJvb3Qobm9kZSkge1xuICBpZiAobm9kZS5wYXJlbnROb2RlICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIGdldFJvb3Qobm9kZS5wYXJlbnROb2RlKTtcbiAgfVxuXG4gIHJldHVybiBub2RlO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBvZmZzZXQgcGFyZW50IGNvbW1vbiB0byB0aGUgdHdvIHByb3ZpZGVkIG5vZGVzXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQxXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQyXG4gKiBAcmV0dXJucyB7RWxlbWVudH0gY29tbW9uIG9mZnNldCBwYXJlbnRcbiAqL1xuZnVuY3Rpb24gZmluZENvbW1vbk9mZnNldFBhcmVudChlbGVtZW50MSwgZWxlbWVudDIpIHtcbiAgLy8gVGhpcyBjaGVjayBpcyBuZWVkZWQgdG8gYXZvaWQgZXJyb3JzIGluIGNhc2Ugb25lIG9mIHRoZSBlbGVtZW50cyBpc24ndCBkZWZpbmVkIGZvciBhbnkgcmVhc29uXG4gIGlmICghZWxlbWVudDEgfHwgIWVsZW1lbnQxLm5vZGVUeXBlIHx8ICFlbGVtZW50MiB8fCAhZWxlbWVudDIubm9kZVR5cGUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgLy8gSGVyZSB3ZSBtYWtlIHN1cmUgdG8gZ2l2ZSBhcyBcInN0YXJ0XCIgdGhlIGVsZW1lbnQgdGhhdCBjb21lcyBmaXJzdCBpbiB0aGUgRE9NXG4gIHZhciBvcmRlciA9IGVsZW1lbnQxLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGVsZW1lbnQyKSAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fRk9MTE9XSU5HO1xuICB2YXIgc3RhcnQgPSBvcmRlciA/IGVsZW1lbnQxIDogZWxlbWVudDI7XG4gIHZhciBlbmQgPSBvcmRlciA/IGVsZW1lbnQyIDogZWxlbWVudDE7XG5cbiAgLy8gR2V0IGNvbW1vbiBhbmNlc3RvciBjb250YWluZXJcbiAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgcmFuZ2Uuc2V0U3RhcnQoc3RhcnQsIDApO1xuICByYW5nZS5zZXRFbmQoZW5kLCAwKTtcbiAgdmFyIGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyID0gcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG5cbiAgLy8gQm90aCBub2RlcyBhcmUgaW5zaWRlICNkb2N1bWVudFxuXG4gIGlmIChlbGVtZW50MSAhPT0gY29tbW9uQW5jZXN0b3JDb250YWluZXIgJiYgZWxlbWVudDIgIT09IGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIHx8IHN0YXJ0LmNvbnRhaW5zKGVuZCkpIHtcbiAgICBpZiAoaXNPZmZzZXRDb250YWluZXIoY29tbW9uQW5jZXN0b3JDb250YWluZXIpKSB7XG4gICAgICByZXR1cm4gY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldE9mZnNldFBhcmVudChjb21tb25BbmNlc3RvckNvbnRhaW5lcik7XG4gIH1cblxuICAvLyBvbmUgb2YgdGhlIG5vZGVzIGlzIGluc2lkZSBzaGFkb3dET00sIGZpbmQgd2hpY2ggb25lXG4gIHZhciBlbGVtZW50MXJvb3QgPSBnZXRSb290KGVsZW1lbnQxKTtcbiAgaWYgKGVsZW1lbnQxcm9vdC5ob3N0KSB7XG4gICAgcmV0dXJuIGZpbmRDb21tb25PZmZzZXRQYXJlbnQoZWxlbWVudDFyb290Lmhvc3QsIGVsZW1lbnQyKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmluZENvbW1vbk9mZnNldFBhcmVudChlbGVtZW50MSwgZ2V0Um9vdChlbGVtZW50MikuaG9zdCk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBzY3JvbGwgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQgaW4gdGhlIGdpdmVuIHNpZGUgKHRvcCBhbmQgbGVmdClcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQGFyZ3VtZW50IHtTdHJpbmd9IHNpZGUgYHRvcGAgb3IgYGxlZnRgXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbW91bnQgb2Ygc2Nyb2xsZWQgcGl4ZWxzXG4gKi9cbmZ1bmN0aW9uIGdldFNjcm9sbChlbGVtZW50KSB7XG4gIHZhciBzaWRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAndG9wJztcblxuICB2YXIgdXBwZXJTaWRlID0gc2lkZSA9PT0gJ3RvcCcgPyAnc2Nyb2xsVG9wJyA6ICdzY3JvbGxMZWZ0JztcbiAgdmFyIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZTtcblxuICBpZiAobm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgdmFyIGh0bWwgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHZhciBzY3JvbGxpbmdFbGVtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQgfHwgaHRtbDtcbiAgICByZXR1cm4gc2Nyb2xsaW5nRWxlbWVudFt1cHBlclNpZGVdO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnRbdXBwZXJTaWRlXTtcbn1cblxuLypcbiAqIFN1bSBvciBzdWJ0cmFjdCB0aGUgZWxlbWVudCBzY3JvbGwgdmFsdWVzIChsZWZ0IGFuZCB0b3ApIGZyb20gYSBnaXZlbiByZWN0IG9iamVjdFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtPYmplY3R9IHJlY3QgLSBSZWN0IG9iamVjdCB5b3Ugd2FudCB0byBjaGFuZ2VcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBUaGUgZWxlbWVudCBmcm9tIHRoZSBmdW5jdGlvbiByZWFkcyB0aGUgc2Nyb2xsIHZhbHVlc1xuICogQHBhcmFtIHtCb29sZWFufSBzdWJ0cmFjdCAtIHNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRvIHN1YnRyYWN0IHRoZSBzY3JvbGwgdmFsdWVzXG4gKiBAcmV0dXJuIHtPYmplY3R9IHJlY3QgLSBUaGUgbW9kaWZpZXIgcmVjdCBvYmplY3RcbiAqL1xuZnVuY3Rpb24gaW5jbHVkZVNjcm9sbChyZWN0LCBlbGVtZW50KSB7XG4gIHZhciBzdWJ0cmFjdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgdmFyIHNjcm9sbFRvcCA9IGdldFNjcm9sbChlbGVtZW50LCAndG9wJyk7XG4gIHZhciBzY3JvbGxMZWZ0ID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICdsZWZ0Jyk7XG4gIHZhciBtb2RpZmllciA9IHN1YnRyYWN0ID8gLTEgOiAxO1xuICByZWN0LnRvcCArPSBzY3JvbGxUb3AgKiBtb2RpZmllcjtcbiAgcmVjdC5ib3R0b20gKz0gc2Nyb2xsVG9wICogbW9kaWZpZXI7XG4gIHJlY3QubGVmdCArPSBzY3JvbGxMZWZ0ICogbW9kaWZpZXI7XG4gIHJlY3QucmlnaHQgKz0gc2Nyb2xsTGVmdCAqIG1vZGlmaWVyO1xuICByZXR1cm4gcmVjdDtcbn1cblxuLypcbiAqIEhlbHBlciB0byBkZXRlY3QgYm9yZGVycyBvZiBhIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gc3R5bGVzXG4gKiBSZXN1bHQgb2YgYGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eWAgb24gdGhlIGdpdmVuIGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBheGlzIC0gYHhgIG9yIGB5YFxuICogQHJldHVybiB7bnVtYmVyfSBib3JkZXJzIC0gVGhlIGJvcmRlcnMgc2l6ZSBvZiB0aGUgZ2l2ZW4gYXhpc1xuICovXG5cbmZ1bmN0aW9uIGdldEJvcmRlcnNTaXplKHN0eWxlcywgYXhpcykge1xuICB2YXIgc2lkZUEgPSBheGlzID09PSAneCcgPyAnTGVmdCcgOiAnVG9wJztcbiAgdmFyIHNpZGVCID0gc2lkZUEgPT09ICdMZWZ0JyA/ICdSaWdodCcgOiAnQm90dG9tJztcblxuICByZXR1cm4gcGFyc2VGbG9hdChzdHlsZXNbJ2JvcmRlcicgKyBzaWRlQSArICdXaWR0aCddLCAxMCkgKyBwYXJzZUZsb2F0KHN0eWxlc1snYm9yZGVyJyArIHNpZGVCICsgJ1dpZHRoJ10sIDEwKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2l6ZShheGlzLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlKSB7XG4gIHJldHVybiBNYXRoLm1heChib2R5WydvZmZzZXQnICsgYXhpc10sIGJvZHlbJ3Njcm9sbCcgKyBheGlzXSwgaHRtbFsnY2xpZW50JyArIGF4aXNdLCBodG1sWydvZmZzZXQnICsgYXhpc10sIGh0bWxbJ3Njcm9sbCcgKyBheGlzXSwgaXNJRSgxMCkgPyBodG1sWydvZmZzZXQnICsgYXhpc10gKyBjb21wdXRlZFN0eWxlWydtYXJnaW4nICsgKGF4aXMgPT09ICdIZWlnaHQnID8gJ1RvcCcgOiAnTGVmdCcpXSArIGNvbXB1dGVkU3R5bGVbJ21hcmdpbicgKyAoYXhpcyA9PT0gJ0hlaWdodCcgPyAnQm90dG9tJyA6ICdSaWdodCcpXSA6IDApO1xufVxuXG5mdW5jdGlvbiBnZXRXaW5kb3dTaXplcygpIHtcbiAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICB2YXIgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgdmFyIGNvbXB1dGVkU3R5bGUgPSBpc0lFKDEwKSAmJiBnZXRDb21wdXRlZFN0eWxlKGh0bWwpO1xuXG4gIHJldHVybiB7XG4gICAgaGVpZ2h0OiBnZXRTaXplKCdIZWlnaHQnLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlKSxcbiAgICB3aWR0aDogZ2V0U2l6ZSgnV2lkdGgnLCBib2R5LCBodG1sLCBjb21wdXRlZFN0eWxlKVxuICB9O1xufVxuXG52YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxudmFyIGNyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG5cblxuXG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbi8qKlxuICogR2l2ZW4gZWxlbWVudCBvZmZzZXRzLCBnZW5lcmF0ZSBhbiBvdXRwdXQgc2ltaWxhciB0byBnZXRCb3VuZGluZ0NsaWVudFJlY3RcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvZmZzZXRzXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBDbGllbnRSZWN0IGxpa2Ugb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGdldENsaWVudFJlY3Qob2Zmc2V0cykge1xuICByZXR1cm4gX2V4dGVuZHMoe30sIG9mZnNldHMsIHtcbiAgICByaWdodDogb2Zmc2V0cy5sZWZ0ICsgb2Zmc2V0cy53aWR0aCxcbiAgICBib3R0b206IG9mZnNldHMudG9wICsgb2Zmc2V0cy5oZWlnaHRcbiAgfSk7XG59XG5cbi8qKlxuICogR2V0IGJvdW5kaW5nIGNsaWVudCByZWN0IG9mIGdpdmVuIGVsZW1lbnRcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge09iamVjdH0gY2xpZW50IHJlY3RcbiAqL1xuZnVuY3Rpb24gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQpIHtcbiAgdmFyIHJlY3QgPSB7fTtcblxuICAvLyBJRTEwIDEwIEZJWDogUGxlYXNlLCBkb24ndCBhc2ssIHRoZSBlbGVtZW50IGlzbid0XG4gIC8vIGNvbnNpZGVyZWQgaW4gRE9NIGluIHNvbWUgY2lyY3Vtc3RhbmNlcy4uLlxuICAvLyBUaGlzIGlzbid0IHJlcHJvZHVjaWJsZSBpbiBJRTEwIGNvbXBhdGliaWxpdHkgbW9kZSBvZiBJRTExXG4gIHRyeSB7XG4gICAgaWYgKGlzSUUoMTApKSB7XG4gICAgICByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciBzY3JvbGxUb3AgPSBnZXRTY3JvbGwoZWxlbWVudCwgJ3RvcCcpO1xuICAgICAgdmFyIHNjcm9sbExlZnQgPSBnZXRTY3JvbGwoZWxlbWVudCwgJ2xlZnQnKTtcbiAgICAgIHJlY3QudG9wICs9IHNjcm9sbFRvcDtcbiAgICAgIHJlY3QubGVmdCArPSBzY3JvbGxMZWZ0O1xuICAgICAgcmVjdC5ib3R0b20gKz0gc2Nyb2xsVG9wO1xuICAgICAgcmVjdC5yaWdodCArPSBzY3JvbGxMZWZ0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IHtcbiAgICBsZWZ0OiByZWN0LmxlZnQsXG4gICAgdG9wOiByZWN0LnRvcCxcbiAgICB3aWR0aDogcmVjdC5yaWdodCAtIHJlY3QubGVmdCxcbiAgICBoZWlnaHQ6IHJlY3QuYm90dG9tIC0gcmVjdC50b3BcbiAgfTtcblxuICAvLyBzdWJ0cmFjdCBzY3JvbGxiYXIgc2l6ZSBmcm9tIHNpemVzXG4gIHZhciBzaXplcyA9IGVsZW1lbnQubm9kZU5hbWUgPT09ICdIVE1MJyA/IGdldFdpbmRvd1NpemVzKCkgOiB7fTtcbiAgdmFyIHdpZHRoID0gc2l6ZXMud2lkdGggfHwgZWxlbWVudC5jbGllbnRXaWR0aCB8fCByZXN1bHQucmlnaHQgLSByZXN1bHQubGVmdDtcbiAgdmFyIGhlaWdodCA9IHNpemVzLmhlaWdodCB8fCBlbGVtZW50LmNsaWVudEhlaWdodCB8fCByZXN1bHQuYm90dG9tIC0gcmVzdWx0LnRvcDtcblxuICB2YXIgaG9yaXpTY3JvbGxiYXIgPSBlbGVtZW50Lm9mZnNldFdpZHRoIC0gd2lkdGg7XG4gIHZhciB2ZXJ0U2Nyb2xsYmFyID0gZWxlbWVudC5vZmZzZXRIZWlnaHQgLSBoZWlnaHQ7XG5cbiAgLy8gaWYgYW4gaHlwb3RoZXRpY2FsIHNjcm9sbGJhciBpcyBkZXRlY3RlZCwgd2UgbXVzdCBiZSBzdXJlIGl0J3Mgbm90IGEgYGJvcmRlcmBcbiAgLy8gd2UgbWFrZSB0aGlzIGNoZWNrIGNvbmRpdGlvbmFsIGZvciBwZXJmb3JtYW5jZSByZWFzb25zXG4gIGlmIChob3JpelNjcm9sbGJhciB8fCB2ZXJ0U2Nyb2xsYmFyKSB7XG4gICAgdmFyIHN0eWxlcyA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50KTtcbiAgICBob3JpelNjcm9sbGJhciAtPSBnZXRCb3JkZXJzU2l6ZShzdHlsZXMsICd4Jyk7XG4gICAgdmVydFNjcm9sbGJhciAtPSBnZXRCb3JkZXJzU2l6ZShzdHlsZXMsICd5Jyk7XG5cbiAgICByZXN1bHQud2lkdGggLT0gaG9yaXpTY3JvbGxiYXI7XG4gICAgcmVzdWx0LmhlaWdodCAtPSB2ZXJ0U2Nyb2xsYmFyO1xuICB9XG5cbiAgcmV0dXJuIGdldENsaWVudFJlY3QocmVzdWx0KTtcbn1cblxuZnVuY3Rpb24gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKGNoaWxkcmVuLCBwYXJlbnQpIHtcbiAgdmFyIGZpeGVkUG9zaXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuXG4gIHZhciBpc0lFMTAgPSBpc0lFKDEwKTtcbiAgdmFyIGlzSFRNTCA9IHBhcmVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnO1xuICB2YXIgY2hpbGRyZW5SZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGNoaWxkcmVuKTtcbiAgdmFyIHBhcmVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QocGFyZW50KTtcbiAgdmFyIHNjcm9sbFBhcmVudCA9IGdldFNjcm9sbFBhcmVudChjaGlsZHJlbik7XG5cbiAgdmFyIHN0eWxlcyA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShwYXJlbnQpO1xuICB2YXIgYm9yZGVyVG9wV2lkdGggPSBwYXJzZUZsb2F0KHN0eWxlcy5ib3JkZXJUb3BXaWR0aCwgMTApO1xuICB2YXIgYm9yZGVyTGVmdFdpZHRoID0gcGFyc2VGbG9hdChzdHlsZXMuYm9yZGVyTGVmdFdpZHRoLCAxMCk7XG5cbiAgLy8gSW4gY2FzZXMgd2hlcmUgdGhlIHBhcmVudCBpcyBmaXhlZCwgd2UgbXVzdCBpZ25vcmUgbmVnYXRpdmUgc2Nyb2xsIGluIG9mZnNldCBjYWxjXG4gIGlmIChmaXhlZFBvc2l0aW9uICYmIHBhcmVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnKSB7XG4gICAgcGFyZW50UmVjdC50b3AgPSBNYXRoLm1heChwYXJlbnRSZWN0LnRvcCwgMCk7XG4gICAgcGFyZW50UmVjdC5sZWZ0ID0gTWF0aC5tYXgocGFyZW50UmVjdC5sZWZ0LCAwKTtcbiAgfVxuICB2YXIgb2Zmc2V0cyA9IGdldENsaWVudFJlY3Qoe1xuICAgIHRvcDogY2hpbGRyZW5SZWN0LnRvcCAtIHBhcmVudFJlY3QudG9wIC0gYm9yZGVyVG9wV2lkdGgsXG4gICAgbGVmdDogY2hpbGRyZW5SZWN0LmxlZnQgLSBwYXJlbnRSZWN0LmxlZnQgLSBib3JkZXJMZWZ0V2lkdGgsXG4gICAgd2lkdGg6IGNoaWxkcmVuUmVjdC53aWR0aCxcbiAgICBoZWlnaHQ6IGNoaWxkcmVuUmVjdC5oZWlnaHRcbiAgfSk7XG4gIG9mZnNldHMubWFyZ2luVG9wID0gMDtcbiAgb2Zmc2V0cy5tYXJnaW5MZWZ0ID0gMDtcblxuICAvLyBTdWJ0cmFjdCBtYXJnaW5zIG9mIGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGl0J3MgYmVpbmcgdXNlZCBhcyBwYXJlbnRcbiAgLy8gd2UgZG8gdGhpcyBvbmx5IG9uIEhUTUwgYmVjYXVzZSBpdCdzIHRoZSBvbmx5IGVsZW1lbnQgdGhhdCBiZWhhdmVzXG4gIC8vIGRpZmZlcmVudGx5IHdoZW4gbWFyZ2lucyBhcmUgYXBwbGllZCB0byBpdC4gVGhlIG1hcmdpbnMgYXJlIGluY2x1ZGVkIGluXG4gIC8vIHRoZSBib3ggb2YgdGhlIGRvY3VtZW50RWxlbWVudCwgaW4gdGhlIG90aGVyIGNhc2VzIG5vdC5cbiAgaWYgKCFpc0lFMTAgJiYgaXNIVE1MKSB7XG4gICAgdmFyIG1hcmdpblRvcCA9IHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpblRvcCwgMTApO1xuICAgIHZhciBtYXJnaW5MZWZ0ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luTGVmdCwgMTApO1xuXG4gICAgb2Zmc2V0cy50b3AgLT0gYm9yZGVyVG9wV2lkdGggLSBtYXJnaW5Ub3A7XG4gICAgb2Zmc2V0cy5ib3R0b20gLT0gYm9yZGVyVG9wV2lkdGggLSBtYXJnaW5Ub3A7XG4gICAgb2Zmc2V0cy5sZWZ0IC09IGJvcmRlckxlZnRXaWR0aCAtIG1hcmdpbkxlZnQ7XG4gICAgb2Zmc2V0cy5yaWdodCAtPSBib3JkZXJMZWZ0V2lkdGggLSBtYXJnaW5MZWZ0O1xuXG4gICAgLy8gQXR0YWNoIG1hcmdpblRvcCBhbmQgbWFyZ2luTGVmdCBiZWNhdXNlIGluIHNvbWUgY2lyY3Vtc3RhbmNlcyB3ZSBtYXkgbmVlZCB0aGVtXG4gICAgb2Zmc2V0cy5tYXJnaW5Ub3AgPSBtYXJnaW5Ub3A7XG4gICAgb2Zmc2V0cy5tYXJnaW5MZWZ0ID0gbWFyZ2luTGVmdDtcbiAgfVxuXG4gIGlmIChpc0lFMTAgJiYgIWZpeGVkUG9zaXRpb24gPyBwYXJlbnQuY29udGFpbnMoc2Nyb2xsUGFyZW50KSA6IHBhcmVudCA9PT0gc2Nyb2xsUGFyZW50ICYmIHNjcm9sbFBhcmVudC5ub2RlTmFtZSAhPT0gJ0JPRFknKSB7XG4gICAgb2Zmc2V0cyA9IGluY2x1ZGVTY3JvbGwob2Zmc2V0cywgcGFyZW50KTtcbiAgfVxuXG4gIHJldHVybiBvZmZzZXRzO1xufVxuXG5mdW5jdGlvbiBnZXRWaWV3cG9ydE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJ0Yml0cmFyeU5vZGUoZWxlbWVudCkge1xuICB2YXIgZXhjbHVkZVNjcm9sbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cbiAgdmFyIGh0bWwgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB2YXIgcmVsYXRpdmVPZmZzZXQgPSBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUoZWxlbWVudCwgaHRtbCk7XG4gIHZhciB3aWR0aCA9IE1hdGgubWF4KGh0bWwuY2xpZW50V2lkdGgsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApO1xuICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgoaHRtbC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKTtcblxuICB2YXIgc2Nyb2xsVG9wID0gIWV4Y2x1ZGVTY3JvbGwgPyBnZXRTY3JvbGwoaHRtbCkgOiAwO1xuICB2YXIgc2Nyb2xsTGVmdCA9ICFleGNsdWRlU2Nyb2xsID8gZ2V0U2Nyb2xsKGh0bWwsICdsZWZ0JykgOiAwO1xuXG4gIHZhciBvZmZzZXQgPSB7XG4gICAgdG9wOiBzY3JvbGxUb3AgLSByZWxhdGl2ZU9mZnNldC50b3AgKyByZWxhdGl2ZU9mZnNldC5tYXJnaW5Ub3AsXG4gICAgbGVmdDogc2Nyb2xsTGVmdCAtIHJlbGF0aXZlT2Zmc2V0LmxlZnQgKyByZWxhdGl2ZU9mZnNldC5tYXJnaW5MZWZ0LFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodFxuICB9O1xuXG4gIHJldHVybiBnZXRDbGllbnRSZWN0KG9mZnNldCk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGdpdmVuIGVsZW1lbnQgaXMgZml4ZWQgb3IgaXMgaW5zaWRlIGEgZml4ZWQgcGFyZW50XG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gY3VzdG9tQ29udGFpbmVyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYW5zd2VyIHRvIFwiaXNGaXhlZD9cIlxuICovXG5mdW5jdGlvbiBpc0ZpeGVkKGVsZW1lbnQpIHtcbiAgdmFyIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZTtcbiAgaWYgKG5vZGVOYW1lID09PSAnQk9EWScgfHwgbm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KGVsZW1lbnQsICdwb3NpdGlvbicpID09PSAnZml4ZWQnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGlzRml4ZWQoZ2V0UGFyZW50Tm9kZShlbGVtZW50KSk7XG59XG5cbi8qKlxuICogRmluZHMgdGhlIGZpcnN0IHBhcmVudCBvZiBhbiBlbGVtZW50IHRoYXQgaGFzIGEgdHJhbnNmb3JtZWQgcHJvcGVydHkgZGVmaW5lZFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudH0gZmlyc3QgdHJhbnNmb3JtZWQgcGFyZW50IG9yIGRvY3VtZW50RWxlbWVudFxuICovXG5cbmZ1bmN0aW9uIGdldEZpeGVkUG9zaXRpb25PZmZzZXRQYXJlbnQoZWxlbWVudCkge1xuICAvLyBUaGlzIGNoZWNrIGlzIG5lZWRlZCB0byBhdm9pZCBlcnJvcnMgaW4gY2FzZSBvbmUgb2YgdGhlIGVsZW1lbnRzIGlzbid0IGRlZmluZWQgZm9yIGFueSByZWFzb25cbiAgaWYgKCFlbGVtZW50IHx8ICFlbGVtZW50LnBhcmVudEVsZW1lbnQgfHwgaXNJRSgpKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfVxuICB2YXIgZWwgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gIHdoaWxlIChlbCAmJiBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWwsICd0cmFuc2Zvcm0nKSA9PT0gJ25vbmUnKSB7XG4gICAgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBlbCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG59XG5cbi8qKlxuICogQ29tcHV0ZWQgdGhlIGJvdW5kYXJpZXMgbGltaXRzIGFuZCByZXR1cm4gdGhlbVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wcGVyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZlcmVuY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBwYWRkaW5nXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBib3VuZGFyaWVzRWxlbWVudCAtIEVsZW1lbnQgdXNlZCB0byBkZWZpbmUgdGhlIGJvdW5kYXJpZXNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZml4ZWRQb3NpdGlvbiAtIElzIGluIGZpeGVkIHBvc2l0aW9uIG1vZGVcbiAqIEByZXR1cm5zIHtPYmplY3R9IENvb3JkaW5hdGVzIG9mIHRoZSBib3VuZGFyaWVzXG4gKi9cbmZ1bmN0aW9uIGdldEJvdW5kYXJpZXMocG9wcGVyLCByZWZlcmVuY2UsIHBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50KSB7XG4gIHZhciBmaXhlZFBvc2l0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBmYWxzZTtcblxuICAvLyBOT1RFOiAxIERPTSBhY2Nlc3MgaGVyZVxuXG4gIHZhciBib3VuZGFyaWVzID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcbiAgdmFyIG9mZnNldFBhcmVudCA9IGZpeGVkUG9zaXRpb24gPyBnZXRGaXhlZFBvc2l0aW9uT2Zmc2V0UGFyZW50KHBvcHBlcikgOiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KHBvcHBlciwgcmVmZXJlbmNlKTtcblxuICAvLyBIYW5kbGUgdmlld3BvcnQgY2FzZVxuICBpZiAoYm91bmRhcmllc0VsZW1lbnQgPT09ICd2aWV3cG9ydCcpIHtcbiAgICBib3VuZGFyaWVzID0gZ2V0Vmlld3BvcnRPZmZzZXRSZWN0UmVsYXRpdmVUb0FydGJpdHJhcnlOb2RlKG9mZnNldFBhcmVudCwgZml4ZWRQb3NpdGlvbik7XG4gIH0gZWxzZSB7XG4gICAgLy8gSGFuZGxlIG90aGVyIGNhc2VzIGJhc2VkIG9uIERPTSBlbGVtZW50IHVzZWQgYXMgYm91bmRhcmllc1xuICAgIHZhciBib3VuZGFyaWVzTm9kZSA9IHZvaWQgMDtcbiAgICBpZiAoYm91bmRhcmllc0VsZW1lbnQgPT09ICdzY3JvbGxQYXJlbnQnKSB7XG4gICAgICBib3VuZGFyaWVzTm9kZSA9IGdldFNjcm9sbFBhcmVudChnZXRQYXJlbnROb2RlKHJlZmVyZW5jZSkpO1xuICAgICAgaWYgKGJvdW5kYXJpZXNOb2RlLm5vZGVOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgYm91bmRhcmllc05vZGUgPSBwb3BwZXIub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3dpbmRvdycpIHtcbiAgICAgIGJvdW5kYXJpZXNOb2RlID0gcG9wcGVyLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBib3VuZGFyaWVzTm9kZSA9IGJvdW5kYXJpZXNFbGVtZW50O1xuICAgIH1cblxuICAgIHZhciBvZmZzZXRzID0gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKGJvdW5kYXJpZXNOb2RlLCBvZmZzZXRQYXJlbnQsIGZpeGVkUG9zaXRpb24pO1xuXG4gICAgLy8gSW4gY2FzZSBvZiBIVE1MLCB3ZSBuZWVkIGEgZGlmZmVyZW50IGNvbXB1dGF0aW9uXG4gICAgaWYgKGJvdW5kYXJpZXNOb2RlLm5vZGVOYW1lID09PSAnSFRNTCcgJiYgIWlzRml4ZWQob2Zmc2V0UGFyZW50KSkge1xuICAgICAgdmFyIF9nZXRXaW5kb3dTaXplcyA9IGdldFdpbmRvd1NpemVzKCksXG4gICAgICAgICAgaGVpZ2h0ID0gX2dldFdpbmRvd1NpemVzLmhlaWdodCxcbiAgICAgICAgICB3aWR0aCA9IF9nZXRXaW5kb3dTaXplcy53aWR0aDtcblxuICAgICAgYm91bmRhcmllcy50b3AgKz0gb2Zmc2V0cy50b3AgLSBvZmZzZXRzLm1hcmdpblRvcDtcbiAgICAgIGJvdW5kYXJpZXMuYm90dG9tID0gaGVpZ2h0ICsgb2Zmc2V0cy50b3A7XG4gICAgICBib3VuZGFyaWVzLmxlZnQgKz0gb2Zmc2V0cy5sZWZ0IC0gb2Zmc2V0cy5tYXJnaW5MZWZ0O1xuICAgICAgYm91bmRhcmllcy5yaWdodCA9IHdpZHRoICsgb2Zmc2V0cy5sZWZ0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBmb3IgYWxsIHRoZSBvdGhlciBET00gZWxlbWVudHMsIHRoaXMgb25lIGlzIGdvb2RcbiAgICAgIGJvdW5kYXJpZXMgPSBvZmZzZXRzO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFkZCBwYWRkaW5nc1xuICBib3VuZGFyaWVzLmxlZnQgKz0gcGFkZGluZztcbiAgYm91bmRhcmllcy50b3AgKz0gcGFkZGluZztcbiAgYm91bmRhcmllcy5yaWdodCAtPSBwYWRkaW5nO1xuICBib3VuZGFyaWVzLmJvdHRvbSAtPSBwYWRkaW5nO1xuXG4gIHJldHVybiBib3VuZGFyaWVzO1xufVxuXG5mdW5jdGlvbiBnZXRBcmVhKF9yZWYpIHtcbiAgdmFyIHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIGhlaWdodCA9IF9yZWYuaGVpZ2h0O1xuXG4gIHJldHVybiB3aWR0aCAqIGhlaWdodDtcbn1cblxuLyoqXG4gKiBVdGlsaXR5IHVzZWQgdG8gdHJhbnNmb3JtIHRoZSBgYXV0b2AgcGxhY2VtZW50IHRvIHRoZSBwbGFjZW1lbnQgd2l0aCBtb3JlXG4gKiBhdmFpbGFibGUgc3BhY2UuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBjb21wdXRlQXV0b1BsYWNlbWVudChwbGFjZW1lbnQsIHJlZlJlY3QsIHBvcHBlciwgcmVmZXJlbmNlLCBib3VuZGFyaWVzRWxlbWVudCkge1xuICB2YXIgcGFkZGluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ICYmIGFyZ3VtZW50c1s1XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzVdIDogMDtcblxuICBpZiAocGxhY2VtZW50LmluZGV4T2YoJ2F1dG8nKSA9PT0gLTEpIHtcbiAgICByZXR1cm4gcGxhY2VtZW50O1xuICB9XG5cbiAgdmFyIGJvdW5kYXJpZXMgPSBnZXRCb3VuZGFyaWVzKHBvcHBlciwgcmVmZXJlbmNlLCBwYWRkaW5nLCBib3VuZGFyaWVzRWxlbWVudCk7XG5cbiAgdmFyIHJlY3RzID0ge1xuICAgIHRvcDoge1xuICAgICAgd2lkdGg6IGJvdW5kYXJpZXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IHJlZlJlY3QudG9wIC0gYm91bmRhcmllcy50b3BcbiAgICB9LFxuICAgIHJpZ2h0OiB7XG4gICAgICB3aWR0aDogYm91bmRhcmllcy5yaWdodCAtIHJlZlJlY3QucmlnaHQsXG4gICAgICBoZWlnaHQ6IGJvdW5kYXJpZXMuaGVpZ2h0XG4gICAgfSxcbiAgICBib3R0b206IHtcbiAgICAgIHdpZHRoOiBib3VuZGFyaWVzLndpZHRoLFxuICAgICAgaGVpZ2h0OiBib3VuZGFyaWVzLmJvdHRvbSAtIHJlZlJlY3QuYm90dG9tXG4gICAgfSxcbiAgICBsZWZ0OiB7XG4gICAgICB3aWR0aDogcmVmUmVjdC5sZWZ0IC0gYm91bmRhcmllcy5sZWZ0LFxuICAgICAgaGVpZ2h0OiBib3VuZGFyaWVzLmhlaWdodFxuICAgIH1cbiAgfTtcblxuICB2YXIgc29ydGVkQXJlYXMgPSBPYmplY3Qua2V5cyhyZWN0cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAga2V5OiBrZXlcbiAgICB9LCByZWN0c1trZXldLCB7XG4gICAgICBhcmVhOiBnZXRBcmVhKHJlY3RzW2tleV0pXG4gICAgfSk7XG4gIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYi5hcmVhIC0gYS5hcmVhO1xuICB9KTtcblxuICB2YXIgZmlsdGVyZWRBcmVhcyA9IHNvcnRlZEFyZWFzLmZpbHRlcihmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICB2YXIgd2lkdGggPSBfcmVmMi53aWR0aCxcbiAgICAgICAgaGVpZ2h0ID0gX3JlZjIuaGVpZ2h0O1xuICAgIHJldHVybiB3aWR0aCA+PSBwb3BwZXIuY2xpZW50V2lkdGggJiYgaGVpZ2h0ID49IHBvcHBlci5jbGllbnRIZWlnaHQ7XG4gIH0pO1xuXG4gIHZhciBjb21wdXRlZFBsYWNlbWVudCA9IGZpbHRlcmVkQXJlYXMubGVuZ3RoID4gMCA/IGZpbHRlcmVkQXJlYXNbMF0ua2V5IDogc29ydGVkQXJlYXNbMF0ua2V5O1xuXG4gIHZhciB2YXJpYXRpb24gPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVsxXTtcblxuICByZXR1cm4gY29tcHV0ZWRQbGFjZW1lbnQgKyAodmFyaWF0aW9uID8gJy0nICsgdmFyaWF0aW9uIDogJycpO1xufVxuXG4vKipcbiAqIEdldCBvZmZzZXRzIHRvIHRoZSByZWZlcmVuY2UgZWxlbWVudFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtPYmplY3R9IHN0YXRlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlciAtIHRoZSBwb3BwZXIgZWxlbWVudFxuICogQHBhcmFtIHtFbGVtZW50fSByZWZlcmVuY2UgLSB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgKHRoZSBwb3BwZXIgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGlzKVxuICogQHBhcmFtIHtFbGVtZW50fSBmaXhlZFBvc2l0aW9uIC0gaXMgaW4gZml4ZWQgcG9zaXRpb24gbW9kZVxuICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG9mZnNldHMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXJcbiAqL1xuZnVuY3Rpb24gZ2V0UmVmZXJlbmNlT2Zmc2V0cyhzdGF0ZSwgcG9wcGVyLCByZWZlcmVuY2UpIHtcbiAgdmFyIGZpeGVkUG9zaXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG5cbiAgdmFyIGNvbW1vbk9mZnNldFBhcmVudCA9IGZpeGVkUG9zaXRpb24gPyBnZXRGaXhlZFBvc2l0aW9uT2Zmc2V0UGFyZW50KHBvcHBlcikgOiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KHBvcHBlciwgcmVmZXJlbmNlKTtcbiAgcmV0dXJuIGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShyZWZlcmVuY2UsIGNvbW1vbk9mZnNldFBhcmVudCwgZml4ZWRQb3NpdGlvbik7XG59XG5cbi8qKlxuICogR2V0IHRoZSBvdXRlciBzaXplcyBvZiB0aGUgZ2l2ZW4gZWxlbWVudCAob2Zmc2V0IHNpemUgKyBtYXJnaW5zKVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBvYmplY3QgY29udGFpbmluZyB3aWR0aCBhbmQgaGVpZ2h0IHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gZ2V0T3V0ZXJTaXplcyhlbGVtZW50KSB7XG4gIHZhciBzdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICB2YXIgeCA9IHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpblRvcCkgKyBwYXJzZUZsb2F0KHN0eWxlcy5tYXJnaW5Cb3R0b20pO1xuICB2YXIgeSA9IHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpbkxlZnQpICsgcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luUmlnaHQpO1xuICB2YXIgcmVzdWx0ID0ge1xuICAgIHdpZHRoOiBlbGVtZW50Lm9mZnNldFdpZHRoICsgeSxcbiAgICBoZWlnaHQ6IGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICsgeFxuICB9O1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldCB0aGUgb3Bwb3NpdGUgcGxhY2VtZW50IG9mIHRoZSBnaXZlbiBvbmVcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBwbGFjZW1lbnRcbiAqIEByZXR1cm5zIHtTdHJpbmd9IGZsaXBwZWQgcGxhY2VtZW50XG4gKi9cbmZ1bmN0aW9uIGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICB2YXIgaGFzaCA9IHsgbGVmdDogJ3JpZ2h0JywgcmlnaHQ6ICdsZWZ0JywgYm90dG9tOiAndG9wJywgdG9wOiAnYm90dG9tJyB9O1xuICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLCBmdW5jdGlvbiAobWF0Y2hlZCkge1xuICAgIHJldHVybiBoYXNoW21hdGNoZWRdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgb2Zmc2V0cyB0byB0aGUgcG9wcGVyXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcGFyYW0ge09iamVjdH0gcG9zaXRpb24gLSBDU1MgcG9zaXRpb24gdGhlIFBvcHBlciB3aWxsIGdldCBhcHBsaWVkXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3BwZXIgLSB0aGUgcG9wcGVyIGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWZlcmVuY2VPZmZzZXRzIC0gdGhlIHJlZmVyZW5jZSBvZmZzZXRzICh0aGUgcG9wcGVyIHdpbGwgYmUgcmVsYXRpdmUgdG8gdGhpcylcbiAqIEBwYXJhbSB7U3RyaW5nfSBwbGFjZW1lbnQgLSBvbmUgb2YgdGhlIHZhbGlkIHBsYWNlbWVudCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBwb3BwZXJPZmZzZXRzIC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG9mZnNldHMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXJcbiAqL1xuZnVuY3Rpb24gZ2V0UG9wcGVyT2Zmc2V0cyhwb3BwZXIsIHJlZmVyZW5jZU9mZnNldHMsIHBsYWNlbWVudCkge1xuICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcblxuICAvLyBHZXQgcG9wcGVyIG5vZGUgc2l6ZXNcbiAgdmFyIHBvcHBlclJlY3QgPSBnZXRPdXRlclNpemVzKHBvcHBlcik7XG5cbiAgLy8gQWRkIHBvc2l0aW9uLCB3aWR0aCBhbmQgaGVpZ2h0IHRvIG91ciBvZmZzZXRzIG9iamVjdFxuICB2YXIgcG9wcGVyT2Zmc2V0cyA9IHtcbiAgICB3aWR0aDogcG9wcGVyUmVjdC53aWR0aCxcbiAgICBoZWlnaHQ6IHBvcHBlclJlY3QuaGVpZ2h0XG4gIH07XG5cbiAgLy8gZGVwZW5kaW5nIGJ5IHRoZSBwb3BwZXIgcGxhY2VtZW50IHdlIGhhdmUgdG8gY29tcHV0ZSBpdHMgb2Zmc2V0cyBzbGlnaHRseSBkaWZmZXJlbnRseVxuICB2YXIgaXNIb3JpeiA9IFsncmlnaHQnLCAnbGVmdCddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTE7XG4gIHZhciBtYWluU2lkZSA9IGlzSG9yaXogPyAndG9wJyA6ICdsZWZ0JztcbiAgdmFyIHNlY29uZGFyeVNpZGUgPSBpc0hvcml6ID8gJ2xlZnQnIDogJ3RvcCc7XG4gIHZhciBtZWFzdXJlbWVudCA9IGlzSG9yaXogPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gIHZhciBzZWNvbmRhcnlNZWFzdXJlbWVudCA9ICFpc0hvcml6ID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gIHBvcHBlck9mZnNldHNbbWFpblNpZGVdID0gcmVmZXJlbmNlT2Zmc2V0c1ttYWluU2lkZV0gKyByZWZlcmVuY2VPZmZzZXRzW21lYXN1cmVtZW50XSAvIDIgLSBwb3BwZXJSZWN0W21lYXN1cmVtZW50XSAvIDI7XG4gIGlmIChwbGFjZW1lbnQgPT09IHNlY29uZGFyeVNpZGUpIHtcbiAgICBwb3BwZXJPZmZzZXRzW3NlY29uZGFyeVNpZGVdID0gcmVmZXJlbmNlT2Zmc2V0c1tzZWNvbmRhcnlTaWRlXSAtIHBvcHBlclJlY3Rbc2Vjb25kYXJ5TWVhc3VyZW1lbnRdO1xuICB9IGVsc2Uge1xuICAgIHBvcHBlck9mZnNldHNbc2Vjb25kYXJ5U2lkZV0gPSByZWZlcmVuY2VPZmZzZXRzW2dldE9wcG9zaXRlUGxhY2VtZW50KHNlY29uZGFyeVNpZGUpXTtcbiAgfVxuXG4gIHJldHVybiBwb3BwZXJPZmZzZXRzO1xufVxuXG4vKipcbiAqIE1pbWljcyB0aGUgYGZpbmRgIG1ldGhvZCBvZiBBcnJheVxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtBcnJheX0gYXJyXG4gKiBAYXJndW1lbnQgcHJvcFxuICogQGFyZ3VtZW50IHZhbHVlXG4gKiBAcmV0dXJucyBpbmRleCBvciAtMVxuICovXG5mdW5jdGlvbiBmaW5kKGFyciwgY2hlY2spIHtcbiAgLy8gdXNlIG5hdGl2ZSBmaW5kIGlmIHN1cHBvcnRlZFxuICBpZiAoQXJyYXkucHJvdG90eXBlLmZpbmQpIHtcbiAgICByZXR1cm4gYXJyLmZpbmQoY2hlY2spO1xuICB9XG5cbiAgLy8gdXNlIGBmaWx0ZXJgIHRvIG9idGFpbiB0aGUgc2FtZSBiZWhhdmlvciBvZiBgZmluZGBcbiAgcmV0dXJuIGFyci5maWx0ZXIoY2hlY2spWzBdO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgaW5kZXggb2YgdGhlIG1hdGNoaW5nIG9iamVjdFxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtBcnJheX0gYXJyXG4gKiBAYXJndW1lbnQgcHJvcFxuICogQGFyZ3VtZW50IHZhbHVlXG4gKiBAcmV0dXJucyBpbmRleCBvciAtMVxuICovXG5mdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCBwcm9wLCB2YWx1ZSkge1xuICAvLyB1c2UgbmF0aXZlIGZpbmRJbmRleCBpZiBzdXBwb3J0ZWRcbiAgaWYgKEFycmF5LnByb3RvdHlwZS5maW5kSW5kZXgpIHtcbiAgICByZXR1cm4gYXJyLmZpbmRJbmRleChmdW5jdGlvbiAoY3VyKSB7XG4gICAgICByZXR1cm4gY3VyW3Byb3BdID09PSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIHVzZSBgZmluZGAgKyBgaW5kZXhPZmAgaWYgYGZpbmRJbmRleGAgaXNuJ3Qgc3VwcG9ydGVkXG4gIHZhciBtYXRjaCA9IGZpbmQoYXJyLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9ialtwcm9wXSA9PT0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gYXJyLmluZGV4T2YobWF0Y2gpO1xufVxuXG4vKipcbiAqIExvb3AgdHJvdWdoIHRoZSBsaXN0IG9mIG1vZGlmaWVycyBhbmQgcnVuIHRoZW0gaW4gb3JkZXIsXG4gKiBlYWNoIG9mIHRoZW0gd2lsbCB0aGVuIGVkaXQgdGhlIGRhdGEgb2JqZWN0LlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhXG4gKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBlbmRzIC0gT3B0aW9uYWwgbW9kaWZpZXIgbmFtZSB1c2VkIGFzIHN0b3BwZXJcbiAqIEByZXR1cm5zIHtkYXRhT2JqZWN0fVxuICovXG5mdW5jdGlvbiBydW5Nb2RpZmllcnMobW9kaWZpZXJzLCBkYXRhLCBlbmRzKSB7XG4gIHZhciBtb2RpZmllcnNUb1J1biA9IGVuZHMgPT09IHVuZGVmaW5lZCA/IG1vZGlmaWVycyA6IG1vZGlmaWVycy5zbGljZSgwLCBmaW5kSW5kZXgobW9kaWZpZXJzLCAnbmFtZScsIGVuZHMpKTtcblxuICBtb2RpZmllcnNUb1J1bi5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIGlmIChtb2RpZmllclsnZnVuY3Rpb24nXSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb25cbiAgICAgIGNvbnNvbGUud2FybignYG1vZGlmaWVyLmZ1bmN0aW9uYCBpcyBkZXByZWNhdGVkLCB1c2UgYG1vZGlmaWVyLmZuYCEnKTtcbiAgICB9XG4gICAgdmFyIGZuID0gbW9kaWZpZXJbJ2Z1bmN0aW9uJ10gfHwgbW9kaWZpZXIuZm47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZG90LW5vdGF0aW9uXG4gICAgaWYgKG1vZGlmaWVyLmVuYWJsZWQgJiYgaXNGdW5jdGlvbihmbikpIHtcbiAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIHRvIG9mZnNldHMgdG8gbWFrZSB0aGVtIGEgY29tcGxldGUgY2xpZW50UmVjdCBvYmplY3RcbiAgICAgIC8vIHdlIGRvIHRoaXMgYmVmb3JlIGVhY2ggbW9kaWZpZXIgdG8gbWFrZSBzdXJlIHRoZSBwcmV2aW91cyBvbmUgZG9lc24ndFxuICAgICAgLy8gbWVzcyB3aXRoIHRoZXNlIHZhbHVlc1xuICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IGdldENsaWVudFJlY3QoZGF0YS5vZmZzZXRzLnBvcHBlcik7XG4gICAgICBkYXRhLm9mZnNldHMucmVmZXJlbmNlID0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucmVmZXJlbmNlKTtcblxuICAgICAgZGF0YSA9IGZuKGRhdGEsIG1vZGlmaWVyKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHBvc2l0aW9uIG9mIHRoZSBwb3BwZXIsIGNvbXB1dGluZyB0aGUgbmV3IG9mZnNldHMgYW5kIGFwcGx5aW5nXG4gKiB0aGUgbmV3IHN0eWxlLjxiciAvPlxuICogUHJlZmVyIGBzY2hlZHVsZVVwZGF0ZWAgb3ZlciBgdXBkYXRlYCBiZWNhdXNlIG9mIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgLy8gaWYgcG9wcGVyIGlzIGRlc3Ryb3llZCwgZG9uJ3QgcGVyZm9ybSBhbnkgZnVydGhlciB1cGRhdGVcbiAgaWYgKHRoaXMuc3RhdGUuaXNEZXN0cm95ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZGF0YSA9IHtcbiAgICBpbnN0YW5jZTogdGhpcyxcbiAgICBzdHlsZXM6IHt9LFxuICAgIGFycm93U3R5bGVzOiB7fSxcbiAgICBhdHRyaWJ1dGVzOiB7fSxcbiAgICBmbGlwcGVkOiBmYWxzZSxcbiAgICBvZmZzZXRzOiB7fVxuICB9O1xuXG4gIC8vIGNvbXB1dGUgcmVmZXJlbmNlIGVsZW1lbnQgb2Zmc2V0c1xuICBkYXRhLm9mZnNldHMucmVmZXJlbmNlID0gZ2V0UmVmZXJlbmNlT2Zmc2V0cyh0aGlzLnN0YXRlLCB0aGlzLnBvcHBlciwgdGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkKTtcblxuICAvLyBjb21wdXRlIGF1dG8gcGxhY2VtZW50LCBzdG9yZSBwbGFjZW1lbnQgaW5zaWRlIHRoZSBkYXRhIG9iamVjdCxcbiAgLy8gbW9kaWZpZXJzIHdpbGwgYmUgYWJsZSB0byBlZGl0IGBwbGFjZW1lbnRgIGlmIG5lZWRlZFxuICAvLyBhbmQgcmVmZXIgdG8gb3JpZ2luYWxQbGFjZW1lbnQgdG8ga25vdyB0aGUgb3JpZ2luYWwgdmFsdWVcbiAgZGF0YS5wbGFjZW1lbnQgPSBjb21wdXRlQXV0b1BsYWNlbWVudCh0aGlzLm9wdGlvbnMucGxhY2VtZW50LCBkYXRhLm9mZnNldHMucmVmZXJlbmNlLCB0aGlzLnBvcHBlciwgdGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucy5tb2RpZmllcnMuZmxpcC5ib3VuZGFyaWVzRWxlbWVudCwgdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLnBhZGRpbmcpO1xuXG4gIC8vIHN0b3JlIHRoZSBjb21wdXRlZCBwbGFjZW1lbnQgaW5zaWRlIGBvcmlnaW5hbFBsYWNlbWVudGBcbiAgZGF0YS5vcmlnaW5hbFBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50O1xuXG4gIGRhdGEucG9zaXRpb25GaXhlZCA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkO1xuXG4gIC8vIGNvbXB1dGUgdGhlIHBvcHBlciBvZmZzZXRzXG4gIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRQb3BwZXJPZmZzZXRzKHRoaXMucG9wcGVyLCBkYXRhLm9mZnNldHMucmVmZXJlbmNlLCBkYXRhLnBsYWNlbWVudCk7XG5cbiAgZGF0YS5vZmZzZXRzLnBvcHBlci5wb3NpdGlvbiA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkID8gJ2ZpeGVkJyA6ICdhYnNvbHV0ZSc7XG5cbiAgLy8gcnVuIHRoZSBtb2RpZmllcnNcbiAgZGF0YSA9IHJ1bk1vZGlmaWVycyh0aGlzLm1vZGlmaWVycywgZGF0YSk7XG5cbiAgLy8gdGhlIGZpcnN0IGB1cGRhdGVgIHdpbGwgY2FsbCBgb25DcmVhdGVgIGNhbGxiYWNrXG4gIC8vIHRoZSBvdGhlciBvbmVzIHdpbGwgY2FsbCBgb25VcGRhdGVgIGNhbGxiYWNrXG4gIGlmICghdGhpcy5zdGF0ZS5pc0NyZWF0ZWQpIHtcbiAgICB0aGlzLnN0YXRlLmlzQ3JlYXRlZCA9IHRydWU7XG4gICAgdGhpcy5vcHRpb25zLm9uQ3JlYXRlKGRhdGEpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMub3B0aW9ucy5vblVwZGF0ZShkYXRhKTtcbiAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB1c2VkIHRvIGtub3cgaWYgdGhlIGdpdmVuIG1vZGlmaWVyIGlzIGVuYWJsZWQuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNNb2RpZmllckVuYWJsZWQobW9kaWZpZXJzLCBtb2RpZmllck5hbWUpIHtcbiAgcmV0dXJuIG1vZGlmaWVycy5zb21lKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICAgIGVuYWJsZWQgPSBfcmVmLmVuYWJsZWQ7XG4gICAgcmV0dXJuIGVuYWJsZWQgJiYgbmFtZSA9PT0gbW9kaWZpZXJOYW1lO1xuICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHByZWZpeGVkIHN1cHBvcnRlZCBwcm9wZXJ0eSBuYW1lXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge1N0cmluZ30gcHJvcGVydHkgKGNhbWVsQ2FzZSlcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHByZWZpeGVkIHByb3BlcnR5IChjYW1lbENhc2Ugb3IgUGFzY2FsQ2FzZSwgZGVwZW5kaW5nIG9uIHRoZSB2ZW5kb3IgcHJlZml4KVxuICovXG5mdW5jdGlvbiBnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUocHJvcGVydHkpIHtcbiAgdmFyIHByZWZpeGVzID0gW2ZhbHNlLCAnbXMnLCAnV2Via2l0JywgJ01veicsICdPJ107XG4gIHZhciB1cHBlclByb3AgPSBwcm9wZXJ0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcHJlZml4ID0gcHJlZml4ZXNbaV07XG4gICAgdmFyIHRvQ2hlY2sgPSBwcmVmaXggPyAnJyArIHByZWZpeCArIHVwcGVyUHJvcCA6IHByb3BlcnR5O1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQuYm9keS5zdHlsZVt0b0NoZWNrXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB0b0NoZWNrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBEZXN0cm95IHRoZSBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xuZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgdGhpcy5zdGF0ZS5pc0Rlc3Ryb3llZCA9IHRydWU7XG5cbiAgLy8gdG91Y2ggRE9NIG9ubHkgaWYgYGFwcGx5U3R5bGVgIG1vZGlmaWVyIGlzIGVuYWJsZWRcbiAgaWYgKGlzTW9kaWZpZXJFbmFibGVkKHRoaXMubW9kaWZpZXJzLCAnYXBwbHlTdHlsZScpKSB7XG4gICAgdGhpcy5wb3BwZXIucmVtb3ZlQXR0cmlidXRlKCd4LXBsYWNlbWVudCcpO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUudG9wID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUubGVmdCA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlLnJpZ2h0ID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUuYm90dG9tID0gJyc7XG4gICAgdGhpcy5wb3BwZXIuc3R5bGUud2lsbENoYW5nZSA9ICcnO1xuICAgIHRoaXMucG9wcGVyLnN0eWxlW2dldFN1cHBvcnRlZFByb3BlcnR5TmFtZSgndHJhbnNmb3JtJyldID0gJyc7XG4gIH1cblxuICB0aGlzLmRpc2FibGVFdmVudExpc3RlbmVycygpO1xuXG4gIC8vIHJlbW92ZSB0aGUgcG9wcGVyIGlmIHVzZXIgZXhwbGljaXR5IGFza2VkIGZvciB0aGUgZGVsZXRpb24gb24gZGVzdHJveVxuICAvLyBkbyBub3QgdXNlIGByZW1vdmVgIGJlY2F1c2UgSUUxMSBkb2Vzbid0IHN1cHBvcnQgaXRcbiAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVPbkRlc3Ryb3kpIHtcbiAgICB0aGlzLnBvcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucG9wcGVyKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHdpbmRvdyBhc3NvY2lhdGVkIHdpdGggdGhlIGVsZW1lbnRcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybnMge1dpbmRvd31cbiAqL1xuZnVuY3Rpb24gZ2V0V2luZG93KGVsZW1lbnQpIHtcbiAgdmFyIG93bmVyRG9jdW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gIHJldHVybiBvd25lckRvY3VtZW50ID8gb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA6IHdpbmRvdztcbn1cblxuZnVuY3Rpb24gYXR0YWNoVG9TY3JvbGxQYXJlbnRzKHNjcm9sbFBhcmVudCwgZXZlbnQsIGNhbGxiYWNrLCBzY3JvbGxQYXJlbnRzKSB7XG4gIHZhciBpc0JvZHkgPSBzY3JvbGxQYXJlbnQubm9kZU5hbWUgPT09ICdCT0RZJztcbiAgdmFyIHRhcmdldCA9IGlzQm9keSA/IHNjcm9sbFBhcmVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IDogc2Nyb2xsUGFyZW50O1xuICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2ssIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcblxuICBpZiAoIWlzQm9keSkge1xuICAgIGF0dGFjaFRvU2Nyb2xsUGFyZW50cyhnZXRTY3JvbGxQYXJlbnQodGFyZ2V0LnBhcmVudE5vZGUpLCBldmVudCwgY2FsbGJhY2ssIHNjcm9sbFBhcmVudHMpO1xuICB9XG4gIHNjcm9sbFBhcmVudHMucHVzaCh0YXJnZXQpO1xufVxuXG4vKipcbiAqIFNldHVwIG5lZWRlZCBldmVudCBsaXN0ZW5lcnMgdXNlZCB0byB1cGRhdGUgdGhlIHBvcHBlciBwb3NpdGlvblxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2V0dXBFdmVudExpc3RlbmVycyhyZWZlcmVuY2UsIG9wdGlvbnMsIHN0YXRlLCB1cGRhdGVCb3VuZCkge1xuICAvLyBSZXNpemUgZXZlbnQgbGlzdGVuZXIgb24gd2luZG93XG4gIHN0YXRlLnVwZGF0ZUJvdW5kID0gdXBkYXRlQm91bmQ7XG4gIGdldFdpbmRvdyhyZWZlcmVuY2UpLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN0YXRlLnVwZGF0ZUJvdW5kLCB7IHBhc3NpdmU6IHRydWUgfSk7XG5cbiAgLy8gU2Nyb2xsIGV2ZW50IGxpc3RlbmVyIG9uIHNjcm9sbCBwYXJlbnRzXG4gIHZhciBzY3JvbGxFbGVtZW50ID0gZ2V0U2Nyb2xsUGFyZW50KHJlZmVyZW5jZSk7XG4gIGF0dGFjaFRvU2Nyb2xsUGFyZW50cyhzY3JvbGxFbGVtZW50LCAnc2Nyb2xsJywgc3RhdGUudXBkYXRlQm91bmQsIHN0YXRlLnNjcm9sbFBhcmVudHMpO1xuICBzdGF0ZS5zY3JvbGxFbGVtZW50ID0gc2Nyb2xsRWxlbWVudDtcbiAgc3RhdGUuZXZlbnRzRW5hYmxlZCA9IHRydWU7XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vKipcbiAqIEl0IHdpbGwgYWRkIHJlc2l6ZS9zY3JvbGwgZXZlbnRzIGFuZCBzdGFydCByZWNhbGN1bGF0aW5nXG4gKiBwb3NpdGlvbiBvZiB0aGUgcG9wcGVyIGVsZW1lbnQgd2hlbiB0aGV5IGFyZSB0cmlnZ2VyZWQuXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbmZ1bmN0aW9uIGVuYWJsZUV2ZW50TGlzdGVuZXJzKCkge1xuICBpZiAoIXRoaXMuc3RhdGUuZXZlbnRzRW5hYmxlZCkge1xuICAgIHRoaXMuc3RhdGUgPSBzZXR1cEV2ZW50TGlzdGVuZXJzKHRoaXMucmVmZXJlbmNlLCB0aGlzLm9wdGlvbnMsIHRoaXMuc3RhdGUsIHRoaXMuc2NoZWR1bGVVcGRhdGUpO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyB1c2VkIHRvIHVwZGF0ZSB0aGUgcG9wcGVyIHBvc2l0aW9uXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyhyZWZlcmVuY2UsIHN0YXRlKSB7XG4gIC8vIFJlbW92ZSByZXNpemUgZXZlbnQgbGlzdGVuZXIgb24gd2luZG93XG4gIGdldFdpbmRvdyhyZWZlcmVuY2UpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN0YXRlLnVwZGF0ZUJvdW5kKTtcblxuICAvLyBSZW1vdmUgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyIG9uIHNjcm9sbCBwYXJlbnRzXG4gIHN0YXRlLnNjcm9sbFBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHN0YXRlLnVwZGF0ZUJvdW5kKTtcbiAgfSk7XG5cbiAgLy8gUmVzZXQgc3RhdGVcbiAgc3RhdGUudXBkYXRlQm91bmQgPSBudWxsO1xuICBzdGF0ZS5zY3JvbGxQYXJlbnRzID0gW107XG4gIHN0YXRlLnNjcm9sbEVsZW1lbnQgPSBudWxsO1xuICBzdGF0ZS5ldmVudHNFbmFibGVkID0gZmFsc2U7XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuLyoqXG4gKiBJdCB3aWxsIHJlbW92ZSByZXNpemUvc2Nyb2xsIGV2ZW50cyBhbmQgd29uJ3QgcmVjYWxjdWxhdGUgcG9wcGVyIHBvc2l0aW9uXG4gKiB3aGVuIHRoZXkgYXJlIHRyaWdnZXJlZC4gSXQgYWxzbyB3b24ndCB0cmlnZ2VyIG9uVXBkYXRlIGNhbGxiYWNrIGFueW1vcmUsXG4gKiB1bmxlc3MgeW91IGNhbGwgYHVwZGF0ZWAgbWV0aG9kIG1hbnVhbGx5LlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlclxuICovXG5mdW5jdGlvbiBkaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGlmICh0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQpIHtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnNjaGVkdWxlVXBkYXRlKTtcbiAgICB0aGlzLnN0YXRlID0gcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy5yZWZlcmVuY2UsIHRoaXMuc3RhdGUpO1xuICB9XG59XG5cbi8qKlxuICogVGVsbHMgaWYgYSBnaXZlbiBpbnB1dCBpcyBhIG51bWJlclxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHsqfSBpbnB1dCB0byBjaGVja1xuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNOdW1lcmljKG4pIHtcbiAgcmV0dXJuIG4gIT09ICcnICYmICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIHN0eWxlIHRvIHRoZSBnaXZlbiBwb3BwZXJcbiAqIEBtZXRob2RcbiAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHNcbiAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gYXBwbHkgdGhlIHN0eWxlIHRvXG4gKiBAYXJndW1lbnQge09iamVjdH0gc3R5bGVzXG4gKiBPYmplY3Qgd2l0aCBhIGxpc3Qgb2YgcHJvcGVydGllcyBhbmQgdmFsdWVzIHdoaWNoIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICovXG5mdW5jdGlvbiBzZXRTdHlsZXMoZWxlbWVudCwgc3R5bGVzKSB7XG4gIE9iamVjdC5rZXlzKHN0eWxlcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIHZhciB1bml0ID0gJyc7XG4gICAgLy8gYWRkIHVuaXQgaWYgdGhlIHZhbHVlIGlzIG51bWVyaWMgYW5kIGlzIG9uZSBvZiB0aGUgZm9sbG93aW5nXG4gICAgaWYgKFsnd2lkdGgnLCAnaGVpZ2h0JywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddLmluZGV4T2YocHJvcCkgIT09IC0xICYmIGlzTnVtZXJpYyhzdHlsZXNbcHJvcF0pKSB7XG4gICAgICB1bml0ID0gJ3B4JztcbiAgICB9XG4gICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHN0eWxlc1twcm9wXSArIHVuaXQ7XG4gIH0pO1xufVxuXG4vKipcbiAqIFNldCB0aGUgYXR0cmlidXRlcyB0byB0aGUgZ2l2ZW4gcG9wcGVyXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IHRoZSBhdHRyaWJ1dGVzIHRvXG4gKiBAYXJndW1lbnQge09iamVjdH0gc3R5bGVzXG4gKiBPYmplY3Qgd2l0aCBhIGxpc3Qgb2YgcHJvcGVydGllcyBhbmQgdmFsdWVzIHdoaWNoIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgIHZhciB2YWx1ZSA9IGF0dHJpYnV0ZXNbcHJvcF07XG4gICAgaWYgKHZhbHVlICE9PSBmYWxzZSkge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUocHJvcCwgYXR0cmlidXRlc1twcm9wXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YS5zdHlsZXMgLSBMaXN0IG9mIHN0eWxlIHByb3BlcnRpZXMgLSB2YWx1ZXMgdG8gYXBwbHkgdG8gcG9wcGVyIGVsZW1lbnRcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhLmF0dHJpYnV0ZXMgLSBMaXN0IG9mIGF0dHJpYnV0ZSBwcm9wZXJ0aWVzIC0gdmFsdWVzIHRvIGFwcGx5IHRvIHBvcHBlciBlbGVtZW50XG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgc2FtZSBkYXRhIG9iamVjdFxuICovXG5mdW5jdGlvbiBhcHBseVN0eWxlKGRhdGEpIHtcbiAgLy8gYW55IHByb3BlcnR5IHByZXNlbnQgaW4gYGRhdGEuc3R5bGVzYCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlcixcbiAgLy8gaW4gdGhpcyB3YXkgd2UgY2FuIG1ha2UgdGhlIDNyZCBwYXJ0eSBtb2RpZmllcnMgYWRkIGN1c3RvbSBzdHlsZXMgdG8gaXRcbiAgLy8gQmUgYXdhcmUsIG1vZGlmaWVycyBjb3VsZCBvdmVycmlkZSB0aGUgcHJvcGVydGllcyBkZWZpbmVkIGluIHRoZSBwcmV2aW91c1xuICAvLyBsaW5lcyBvZiB0aGlzIG1vZGlmaWVyIVxuICBzZXRTdHlsZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuc3R5bGVzKTtcblxuICAvLyBhbnkgcHJvcGVydHkgcHJlc2VudCBpbiBgZGF0YS5hdHRyaWJ1dGVzYCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlcixcbiAgLy8gdGhleSB3aWxsIGJlIHNldCBhcyBIVE1MIGF0dHJpYnV0ZXMgb2YgdGhlIGVsZW1lbnRcbiAgc2V0QXR0cmlidXRlcyhkYXRhLmluc3RhbmNlLnBvcHBlciwgZGF0YS5hdHRyaWJ1dGVzKTtcblxuICAvLyBpZiBhcnJvd0VsZW1lbnQgaXMgZGVmaW5lZCBhbmQgYXJyb3dTdHlsZXMgaGFzIHNvbWUgcHJvcGVydGllc1xuICBpZiAoZGF0YS5hcnJvd0VsZW1lbnQgJiYgT2JqZWN0LmtleXMoZGF0YS5hcnJvd1N0eWxlcykubGVuZ3RoKSB7XG4gICAgc2V0U3R5bGVzKGRhdGEuYXJyb3dFbGVtZW50LCBkYXRhLmFycm93U3R5bGVzKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIFNldCB0aGUgeC1wbGFjZW1lbnQgYXR0cmlidXRlIGJlZm9yZSBldmVyeXRoaW5nIGVsc2UgYmVjYXVzZSBpdCBjb3VsZCBiZSB1c2VkXG4gKiB0byBhZGQgbWFyZ2lucyB0byB0aGUgcG9wcGVyIG1hcmdpbnMgbmVlZHMgdG8gYmUgY2FsY3VsYXRlZCB0byBnZXQgdGhlXG4gKiBjb3JyZWN0IHBvcHBlciBvZmZzZXRzLlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5tb2RpZmllcnNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZSAtIFRoZSByZWZlcmVuY2UgZWxlbWVudCB1c2VkIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIFRoZSBIVE1MIGVsZW1lbnQgdXNlZCBhcyBwb3BwZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gUG9wcGVyLmpzIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gYXBwbHlTdHlsZU9uTG9hZChyZWZlcmVuY2UsIHBvcHBlciwgb3B0aW9ucywgbW9kaWZpZXJPcHRpb25zLCBzdGF0ZSkge1xuICAvLyBjb21wdXRlIHJlZmVyZW5jZSBlbGVtZW50IG9mZnNldHNcbiAgdmFyIHJlZmVyZW5jZU9mZnNldHMgPSBnZXRSZWZlcmVuY2VPZmZzZXRzKHN0YXRlLCBwb3BwZXIsIHJlZmVyZW5jZSwgb3B0aW9ucy5wb3NpdGlvbkZpeGVkKTtcblxuICAvLyBjb21wdXRlIGF1dG8gcGxhY2VtZW50LCBzdG9yZSBwbGFjZW1lbnQgaW5zaWRlIHRoZSBkYXRhIG9iamVjdCxcbiAgLy8gbW9kaWZpZXJzIHdpbGwgYmUgYWJsZSB0byBlZGl0IGBwbGFjZW1lbnRgIGlmIG5lZWRlZFxuICAvLyBhbmQgcmVmZXIgdG8gb3JpZ2luYWxQbGFjZW1lbnQgdG8ga25vdyB0aGUgb3JpZ2luYWwgdmFsdWVcbiAgdmFyIHBsYWNlbWVudCA9IGNvbXB1dGVBdXRvUGxhY2VtZW50KG9wdGlvbnMucGxhY2VtZW50LCByZWZlcmVuY2VPZmZzZXRzLCBwb3BwZXIsIHJlZmVyZW5jZSwgb3B0aW9ucy5tb2RpZmllcnMuZmxpcC5ib3VuZGFyaWVzRWxlbWVudCwgb3B0aW9ucy5tb2RpZmllcnMuZmxpcC5wYWRkaW5nKTtcblxuICBwb3BwZXIuc2V0QXR0cmlidXRlKCd4LXBsYWNlbWVudCcsIHBsYWNlbWVudCk7XG5cbiAgLy8gQXBwbHkgYHBvc2l0aW9uYCB0byBwb3BwZXIgYmVmb3JlIGFueXRoaW5nIGVsc2UgYmVjYXVzZVxuICAvLyB3aXRob3V0IHRoZSBwb3NpdGlvbiBhcHBsaWVkIHdlIGNhbid0IGd1YXJhbnRlZSBjb3JyZWN0IGNvbXB1dGF0aW9uc1xuICBzZXRTdHlsZXMocG9wcGVyLCB7IHBvc2l0aW9uOiBvcHRpb25zLnBvc2l0aW9uRml4ZWQgPyAnZml4ZWQnIDogJ2Fic29sdXRlJyB9KTtcblxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVN0eWxlKGRhdGEsIG9wdGlvbnMpIHtcbiAgdmFyIHggPSBvcHRpb25zLngsXG4gICAgICB5ID0gb3B0aW9ucy55O1xuICB2YXIgcG9wcGVyID0gZGF0YS5vZmZzZXRzLnBvcHBlcjtcblxuICAvLyBSZW1vdmUgdGhpcyBsZWdhY3kgc3VwcG9ydCBpbiBQb3BwZXIuanMgdjJcblxuICB2YXIgbGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uID0gZmluZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgcmV0dXJuIG1vZGlmaWVyLm5hbWUgPT09ICdhcHBseVN0eWxlJztcbiAgfSkuZ3B1QWNjZWxlcmF0aW9uO1xuICBpZiAobGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IGBncHVBY2NlbGVyYXRpb25gIG9wdGlvbiBtb3ZlZCB0byBgY29tcHV0ZVN0eWxlYCBtb2RpZmllciBhbmQgd2lsbCBub3QgYmUgc3VwcG9ydGVkIGluIGZ1dHVyZSB2ZXJzaW9ucyBvZiBQb3BwZXIuanMhJyk7XG4gIH1cbiAgdmFyIGdwdUFjY2VsZXJhdGlvbiA9IGxlZ2FjeUdwdUFjY2VsZXJhdGlvbk9wdGlvbiAhPT0gdW5kZWZpbmVkID8gbGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uIDogb3B0aW9ucy5ncHVBY2NlbGVyYXRpb247XG5cbiAgdmFyIG9mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudChkYXRhLmluc3RhbmNlLnBvcHBlcik7XG4gIHZhciBvZmZzZXRQYXJlbnRSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KG9mZnNldFBhcmVudCk7XG5cbiAgLy8gU3R5bGVzXG4gIHZhciBzdHlsZXMgPSB7XG4gICAgcG9zaXRpb246IHBvcHBlci5wb3NpdGlvblxuICB9O1xuXG4gIC8vIEF2b2lkIGJsdXJyeSB0ZXh0IGJ5IHVzaW5nIGZ1bGwgcGl4ZWwgaW50ZWdlcnMuXG4gIC8vIEZvciBwaXhlbC1wZXJmZWN0IHBvc2l0aW9uaW5nLCB0b3AvYm90dG9tIHByZWZlcnMgcm91bmRlZFxuICAvLyB2YWx1ZXMsIHdoaWxlIGxlZnQvcmlnaHQgcHJlZmVycyBmbG9vcmVkIHZhbHVlcy5cbiAgdmFyIG9mZnNldHMgPSB7XG4gICAgbGVmdDogTWF0aC5mbG9vcihwb3BwZXIubGVmdCksXG4gICAgdG9wOiBNYXRoLnJvdW5kKHBvcHBlci50b3ApLFxuICAgIGJvdHRvbTogTWF0aC5yb3VuZChwb3BwZXIuYm90dG9tKSxcbiAgICByaWdodDogTWF0aC5mbG9vcihwb3BwZXIucmlnaHQpXG4gIH07XG5cbiAgdmFyIHNpZGVBID0geCA9PT0gJ2JvdHRvbScgPyAndG9wJyA6ICdib3R0b20nO1xuICB2YXIgc2lkZUIgPSB5ID09PSAncmlnaHQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcblxuICAvLyBpZiBncHVBY2NlbGVyYXRpb24gaXMgc2V0IHRvIGB0cnVlYCBhbmQgdHJhbnNmb3JtIGlzIHN1cHBvcnRlZCxcbiAgLy8gIHdlIHVzZSBgdHJhbnNsYXRlM2RgIHRvIGFwcGx5IHRoZSBwb3NpdGlvbiB0byB0aGUgcG9wcGVyIHdlXG4gIC8vIGF1dG9tYXRpY2FsbHkgdXNlIHRoZSBzdXBwb3J0ZWQgcHJlZml4ZWQgdmVyc2lvbiBpZiBuZWVkZWRcbiAgdmFyIHByZWZpeGVkUHJvcGVydHkgPSBnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUoJ3RyYW5zZm9ybScpO1xuXG4gIC8vIG5vdywgbGV0J3MgbWFrZSBhIHN0ZXAgYmFjayBhbmQgbG9vayBhdCB0aGlzIGNvZGUgY2xvc2VseSAod3RmPylcbiAgLy8gSWYgdGhlIGNvbnRlbnQgb2YgdGhlIHBvcHBlciBncm93cyBvbmNlIGl0J3MgYmVlbiBwb3NpdGlvbmVkLCBpdFxuICAvLyBtYXkgaGFwcGVuIHRoYXQgdGhlIHBvcHBlciBnZXRzIG1pc3BsYWNlZCBiZWNhdXNlIG9mIHRoZSBuZXcgY29udGVudFxuICAvLyBvdmVyZmxvd2luZyBpdHMgcmVmZXJlbmNlIGVsZW1lbnRcbiAgLy8gVG8gYXZvaWQgdGhpcyBwcm9ibGVtLCB3ZSBwcm92aWRlIHR3byBvcHRpb25zICh4IGFuZCB5KSwgd2hpY2ggYWxsb3dcbiAgLy8gdGhlIGNvbnN1bWVyIHRvIGRlZmluZSB0aGUgb2Zmc2V0IG9yaWdpbi5cbiAgLy8gSWYgd2UgcG9zaXRpb24gYSBwb3BwZXIgb24gdG9wIG9mIGEgcmVmZXJlbmNlIGVsZW1lbnQsIHdlIGNhbiBzZXRcbiAgLy8gYHhgIHRvIGB0b3BgIHRvIG1ha2UgdGhlIHBvcHBlciBncm93IHRvd2FyZHMgaXRzIHRvcCBpbnN0ZWFkIG9mXG4gIC8vIGl0cyBib3R0b20uXG4gIHZhciBsZWZ0ID0gdm9pZCAwLFxuICAgICAgdG9wID0gdm9pZCAwO1xuICBpZiAoc2lkZUEgPT09ICdib3R0b20nKSB7XG4gICAgdG9wID0gLW9mZnNldFBhcmVudFJlY3QuaGVpZ2h0ICsgb2Zmc2V0cy5ib3R0b207XG4gIH0gZWxzZSB7XG4gICAgdG9wID0gb2Zmc2V0cy50b3A7XG4gIH1cbiAgaWYgKHNpZGVCID09PSAncmlnaHQnKSB7XG4gICAgbGVmdCA9IC1vZmZzZXRQYXJlbnRSZWN0LndpZHRoICsgb2Zmc2V0cy5yaWdodDtcbiAgfSBlbHNlIHtcbiAgICBsZWZ0ID0gb2Zmc2V0cy5sZWZ0O1xuICB9XG4gIGlmIChncHVBY2NlbGVyYXRpb24gJiYgcHJlZml4ZWRQcm9wZXJ0eSkge1xuICAgIHN0eWxlc1twcmVmaXhlZFByb3BlcnR5XSA9ICd0cmFuc2xhdGUzZCgnICsgbGVmdCArICdweCwgJyArIHRvcCArICdweCwgMCknO1xuICAgIHN0eWxlc1tzaWRlQV0gPSAwO1xuICAgIHN0eWxlc1tzaWRlQl0gPSAwO1xuICAgIHN0eWxlcy53aWxsQ2hhbmdlID0gJ3RyYW5zZm9ybSc7XG4gIH0gZWxzZSB7XG4gICAgLy8gb3Rod2VyaXNlLCB3ZSB1c2UgdGhlIHN0YW5kYXJkIGB0b3BgLCBgbGVmdGAsIGBib3R0b21gIGFuZCBgcmlnaHRgIHByb3BlcnRpZXNcbiAgICB2YXIgaW52ZXJ0VG9wID0gc2lkZUEgPT09ICdib3R0b20nID8gLTEgOiAxO1xuICAgIHZhciBpbnZlcnRMZWZ0ID0gc2lkZUIgPT09ICdyaWdodCcgPyAtMSA6IDE7XG4gICAgc3R5bGVzW3NpZGVBXSA9IHRvcCAqIGludmVydFRvcDtcbiAgICBzdHlsZXNbc2lkZUJdID0gbGVmdCAqIGludmVydExlZnQ7XG4gICAgc3R5bGVzLndpbGxDaGFuZ2UgPSBzaWRlQSArICcsICcgKyBzaWRlQjtcbiAgfVxuXG4gIC8vIEF0dHJpYnV0ZXNcbiAgdmFyIGF0dHJpYnV0ZXMgPSB7XG4gICAgJ3gtcGxhY2VtZW50JzogZGF0YS5wbGFjZW1lbnRcbiAgfTtcblxuICAvLyBVcGRhdGUgYGRhdGFgIGF0dHJpYnV0ZXMsIHN0eWxlcyBhbmQgYXJyb3dTdHlsZXNcbiAgZGF0YS5hdHRyaWJ1dGVzID0gX2V4dGVuZHMoe30sIGF0dHJpYnV0ZXMsIGRhdGEuYXR0cmlidXRlcyk7XG4gIGRhdGEuc3R5bGVzID0gX2V4dGVuZHMoe30sIHN0eWxlcywgZGF0YS5zdHlsZXMpO1xuICBkYXRhLmFycm93U3R5bGVzID0gX2V4dGVuZHMoe30sIGRhdGEub2Zmc2V0cy5hcnJvdywgZGF0YS5hcnJvd1N0eWxlcyk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogSGVscGVyIHVzZWQgdG8ga25vdyBpZiB0aGUgZ2l2ZW4gbW9kaWZpZXIgZGVwZW5kcyBmcm9tIGFub3RoZXIgb25lLjxiciAvPlxuICogSXQgY2hlY2tzIGlmIHRoZSBuZWVkZWQgbW9kaWZpZXIgaXMgbGlzdGVkIGFuZCBlbmFibGVkLlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQHBhcmFtIHtBcnJheX0gbW9kaWZpZXJzIC0gbGlzdCBvZiBtb2RpZmllcnNcbiAqIEBwYXJhbSB7U3RyaW5nfSByZXF1ZXN0aW5nTmFtZSAtIG5hbWUgb2YgcmVxdWVzdGluZyBtb2RpZmllclxuICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RlZE5hbWUgLSBuYW1lIG9mIHJlcXVlc3RlZCBtb2RpZmllclxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzTW9kaWZpZXJSZXF1aXJlZChtb2RpZmllcnMsIHJlcXVlc3RpbmdOYW1lLCByZXF1ZXN0ZWROYW1lKSB7XG4gIHZhciByZXF1ZXN0aW5nID0gZmluZChtb2RpZmllcnMsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIG5hbWUgPSBfcmVmLm5hbWU7XG4gICAgcmV0dXJuIG5hbWUgPT09IHJlcXVlc3RpbmdOYW1lO1xuICB9KTtcblxuICB2YXIgaXNSZXF1aXJlZCA9ICEhcmVxdWVzdGluZyAmJiBtb2RpZmllcnMuc29tZShmdW5jdGlvbiAobW9kaWZpZXIpIHtcbiAgICByZXR1cm4gbW9kaWZpZXIubmFtZSA9PT0gcmVxdWVzdGVkTmFtZSAmJiBtb2RpZmllci5lbmFibGVkICYmIG1vZGlmaWVyLm9yZGVyIDwgcmVxdWVzdGluZy5vcmRlcjtcbiAgfSk7XG5cbiAgaWYgKCFpc1JlcXVpcmVkKSB7XG4gICAgdmFyIF9yZXF1ZXN0aW5nID0gJ2AnICsgcmVxdWVzdGluZ05hbWUgKyAnYCc7XG4gICAgdmFyIHJlcXVlc3RlZCA9ICdgJyArIHJlcXVlc3RlZE5hbWUgKyAnYCc7XG4gICAgY29uc29sZS53YXJuKHJlcXVlc3RlZCArICcgbW9kaWZpZXIgaXMgcmVxdWlyZWQgYnkgJyArIF9yZXF1ZXN0aW5nICsgJyBtb2RpZmllciBpbiBvcmRlciB0byB3b3JrLCBiZSBzdXJlIHRvIGluY2x1ZGUgaXQgYmVmb3JlICcgKyBfcmVxdWVzdGluZyArICchJyk7XG4gIH1cbiAgcmV0dXJuIGlzUmVxdWlyZWQ7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBhcnJvdyhkYXRhLCBvcHRpb25zKSB7XG4gIHZhciBfZGF0YSRvZmZzZXRzJGFycm93O1xuXG4gIC8vIGFycm93IGRlcGVuZHMgb24ga2VlcFRvZ2V0aGVyIGluIG9yZGVyIHRvIHdvcmtcbiAgaWYgKCFpc01vZGlmaWVyUmVxdWlyZWQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsICdhcnJvdycsICdrZWVwVG9nZXRoZXInKSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgdmFyIGFycm93RWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDtcblxuICAvLyBpZiBhcnJvd0VsZW1lbnQgaXMgYSBzdHJpbmcsIHN1cHBvc2UgaXQncyBhIENTUyBzZWxlY3RvclxuICBpZiAodHlwZW9mIGFycm93RWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBhcnJvd0VsZW1lbnQgPSBkYXRhLmluc3RhbmNlLnBvcHBlci5xdWVyeVNlbGVjdG9yKGFycm93RWxlbWVudCk7XG5cbiAgICAvLyBpZiBhcnJvd0VsZW1lbnQgaXMgbm90IGZvdW5kLCBkb24ndCBydW4gdGhlIG1vZGlmaWVyXG4gICAgaWYgKCFhcnJvd0VsZW1lbnQpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBpZiB0aGUgYXJyb3dFbGVtZW50IGlzbid0IGEgcXVlcnkgc2VsZWN0b3Igd2UgbXVzdCBjaGVjayB0aGF0IHRoZVxuICAgIC8vIHByb3ZpZGVkIERPTSBub2RlIGlzIGNoaWxkIG9mIGl0cyBwb3BwZXIgbm9kZVxuICAgIGlmICghZGF0YS5pbnN0YW5jZS5wb3BwZXIuY29udGFpbnMoYXJyb3dFbGVtZW50KSkge1xuICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBgYXJyb3cuZWxlbWVudGAgbXVzdCBiZSBjaGlsZCBvZiBpdHMgcG9wcGVyIGVsZW1lbnQhJyk7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gIH1cblxuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gIHZhciBpc1ZlcnRpY2FsID0gWydsZWZ0JywgJ3JpZ2h0J10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTtcblxuICB2YXIgbGVuID0gaXNWZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgdmFyIHNpZGVDYXBpdGFsaXplZCA9IGlzVmVydGljYWwgPyAnVG9wJyA6ICdMZWZ0JztcbiAgdmFyIHNpZGUgPSBzaWRlQ2FwaXRhbGl6ZWQudG9Mb3dlckNhc2UoKTtcbiAgdmFyIGFsdFNpZGUgPSBpc1ZlcnRpY2FsID8gJ2xlZnQnIDogJ3RvcCc7XG4gIHZhciBvcFNpZGUgPSBpc1ZlcnRpY2FsID8gJ2JvdHRvbScgOiAncmlnaHQnO1xuICB2YXIgYXJyb3dFbGVtZW50U2l6ZSA9IGdldE91dGVyU2l6ZXMoYXJyb3dFbGVtZW50KVtsZW5dO1xuXG4gIC8vXG4gIC8vIGV4dGVuZHMga2VlcFRvZ2V0aGVyIGJlaGF2aW9yIG1ha2luZyBzdXJlIHRoZSBwb3BwZXIgYW5kIGl0c1xuICAvLyByZWZlcmVuY2UgaGF2ZSBlbm91Z2ggcGl4ZWxzIGluIGNvbmp1Y3Rpb25cbiAgLy9cblxuICAvLyB0b3AvbGVmdCBzaWRlXG4gIGlmIChyZWZlcmVuY2Vbb3BTaWRlXSAtIGFycm93RWxlbWVudFNpemUgPCBwb3BwZXJbc2lkZV0pIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdIC09IHBvcHBlcltzaWRlXSAtIChyZWZlcmVuY2Vbb3BTaWRlXSAtIGFycm93RWxlbWVudFNpemUpO1xuICB9XG4gIC8vIGJvdHRvbS9yaWdodCBzaWRlXG4gIGlmIChyZWZlcmVuY2Vbc2lkZV0gKyBhcnJvd0VsZW1lbnRTaXplID4gcG9wcGVyW29wU2lkZV0pIHtcbiAgICBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdICs9IHJlZmVyZW5jZVtzaWRlXSArIGFycm93RWxlbWVudFNpemUgLSBwb3BwZXJbb3BTaWRlXTtcbiAgfVxuICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChkYXRhLm9mZnNldHMucG9wcGVyKTtcblxuICAvLyBjb21wdXRlIGNlbnRlciBvZiB0aGUgcG9wcGVyXG4gIHZhciBjZW50ZXIgPSByZWZlcmVuY2Vbc2lkZV0gKyByZWZlcmVuY2VbbGVuXSAvIDIgLSBhcnJvd0VsZW1lbnRTaXplIC8gMjtcblxuICAvLyBDb21wdXRlIHRoZSBzaWRlVmFsdWUgdXNpbmcgdGhlIHVwZGF0ZWQgcG9wcGVyIG9mZnNldHNcbiAgLy8gdGFrZSBwb3BwZXIgbWFyZ2luIGluIGFjY291bnQgYmVjYXVzZSB3ZSBkb24ndCBoYXZlIHRoaXMgaW5mbyBhdmFpbGFibGVcbiAgdmFyIGNzcyA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShkYXRhLmluc3RhbmNlLnBvcHBlcik7XG4gIHZhciBwb3BwZXJNYXJnaW5TaWRlID0gcGFyc2VGbG9hdChjc3NbJ21hcmdpbicgKyBzaWRlQ2FwaXRhbGl6ZWRdLCAxMCk7XG4gIHZhciBwb3BwZXJCb3JkZXJTaWRlID0gcGFyc2VGbG9hdChjc3NbJ2JvcmRlcicgKyBzaWRlQ2FwaXRhbGl6ZWQgKyAnV2lkdGgnXSwgMTApO1xuICB2YXIgc2lkZVZhbHVlID0gY2VudGVyIC0gZGF0YS5vZmZzZXRzLnBvcHBlcltzaWRlXSAtIHBvcHBlck1hcmdpblNpZGUgLSBwb3BwZXJCb3JkZXJTaWRlO1xuXG4gIC8vIHByZXZlbnQgYXJyb3dFbGVtZW50IGZyb20gYmVpbmcgcGxhY2VkIG5vdCBjb250aWd1b3VzbHkgdG8gaXRzIHBvcHBlclxuICBzaWRlVmFsdWUgPSBNYXRoLm1heChNYXRoLm1pbihwb3BwZXJbbGVuXSAtIGFycm93RWxlbWVudFNpemUsIHNpZGVWYWx1ZSksIDApO1xuXG4gIGRhdGEuYXJyb3dFbGVtZW50ID0gYXJyb3dFbGVtZW50O1xuICBkYXRhLm9mZnNldHMuYXJyb3cgPSAoX2RhdGEkb2Zmc2V0cyRhcnJvdyA9IHt9LCBkZWZpbmVQcm9wZXJ0eShfZGF0YSRvZmZzZXRzJGFycm93LCBzaWRlLCBNYXRoLnJvdW5kKHNpZGVWYWx1ZSkpLCBkZWZpbmVQcm9wZXJ0eShfZGF0YSRvZmZzZXRzJGFycm93LCBhbHRTaWRlLCAnJyksIF9kYXRhJG9mZnNldHMkYXJyb3cpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEdldCB0aGUgb3Bwb3NpdGUgcGxhY2VtZW50IHZhcmlhdGlvbiBvZiB0aGUgZ2l2ZW4gb25lXG4gKiBAbWV0aG9kXG4gKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzXG4gKiBAYXJndW1lbnQge1N0cmluZ30gcGxhY2VtZW50IHZhcmlhdGlvblxuICogQHJldHVybnMge1N0cmluZ30gZmxpcHBlZCBwbGFjZW1lbnQgdmFyaWF0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldE9wcG9zaXRlVmFyaWF0aW9uKHZhcmlhdGlvbikge1xuICBpZiAodmFyaWF0aW9uID09PSAnZW5kJykge1xuICAgIHJldHVybiAnc3RhcnQnO1xuICB9IGVsc2UgaWYgKHZhcmlhdGlvbiA9PT0gJ3N0YXJ0Jykge1xuICAgIHJldHVybiAnZW5kJztcbiAgfVxuICByZXR1cm4gdmFyaWF0aW9uO1xufVxuXG4vKipcbiAqIExpc3Qgb2YgYWNjZXB0ZWQgcGxhY2VtZW50cyB0byB1c2UgYXMgdmFsdWVzIG9mIHRoZSBgcGxhY2VtZW50YCBvcHRpb24uPGJyIC8+XG4gKiBWYWxpZCBwbGFjZW1lbnRzIGFyZTpcbiAqIC0gYGF1dG9gXG4gKiAtIGB0b3BgXG4gKiAtIGByaWdodGBcbiAqIC0gYGJvdHRvbWBcbiAqIC0gYGxlZnRgXG4gKlxuICogRWFjaCBwbGFjZW1lbnQgY2FuIGhhdmUgYSB2YXJpYXRpb24gZnJvbSB0aGlzIGxpc3Q6XG4gKiAtIGAtc3RhcnRgXG4gKiAtIGAtZW5kYFxuICpcbiAqIFZhcmlhdGlvbnMgYXJlIGludGVycHJldGVkIGVhc2lseSBpZiB5b3UgdGhpbmsgb2YgdGhlbSBhcyB0aGUgbGVmdCB0byByaWdodFxuICogd3JpdHRlbiBsYW5ndWFnZXMuIEhvcml6b250YWxseSAoYHRvcGAgYW5kIGBib3R0b21gKSwgYHN0YXJ0YCBpcyBsZWZ0IGFuZCBgZW5kYFxuICogaXMgcmlnaHQuPGJyIC8+XG4gKiBWZXJ0aWNhbGx5IChgbGVmdGAgYW5kIGByaWdodGApLCBgc3RhcnRgIGlzIHRvcCBhbmQgYGVuZGAgaXMgYm90dG9tLlxuICpcbiAqIFNvbWUgdmFsaWQgZXhhbXBsZXMgYXJlOlxuICogLSBgdG9wLWVuZGAgKG9uIHRvcCBvZiByZWZlcmVuY2UsIHJpZ2h0IGFsaWduZWQpXG4gKiAtIGByaWdodC1zdGFydGAgKG9uIHJpZ2h0IG9mIHJlZmVyZW5jZSwgdG9wIGFsaWduZWQpXG4gKiAtIGBib3R0b21gIChvbiBib3R0b20sIGNlbnRlcmVkKVxuICogLSBgYXV0by1yaWdodGAgKG9uIHRoZSBzaWRlIHdpdGggbW9yZSBzcGFjZSBhdmFpbGFibGUsIGFsaWdubWVudCBkZXBlbmRzIGJ5IHBsYWNlbWVudClcbiAqXG4gKiBAc3RhdGljXG4gKiBAdHlwZSB7QXJyYXl9XG4gKiBAZW51bSB7U3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKiBAbWV0aG9kIHBsYWNlbWVudHNcbiAqIEBtZW1iZXJvZiBQb3BwZXJcbiAqL1xudmFyIHBsYWNlbWVudHMgPSBbJ2F1dG8tc3RhcnQnLCAnYXV0bycsICdhdXRvLWVuZCcsICd0b3Atc3RhcnQnLCAndG9wJywgJ3RvcC1lbmQnLCAncmlnaHQtc3RhcnQnLCAncmlnaHQnLCAncmlnaHQtZW5kJywgJ2JvdHRvbS1lbmQnLCAnYm90dG9tJywgJ2JvdHRvbS1zdGFydCcsICdsZWZ0LWVuZCcsICdsZWZ0JywgJ2xlZnQtc3RhcnQnXTtcblxuLy8gR2V0IHJpZCBvZiBgYXV0b2AgYGF1dG8tc3RhcnRgIGFuZCBgYXV0by1lbmRgXG52YXIgdmFsaWRQbGFjZW1lbnRzID0gcGxhY2VtZW50cy5zbGljZSgzKTtcblxuLyoqXG4gKiBHaXZlbiBhbiBpbml0aWFsIHBsYWNlbWVudCwgcmV0dXJucyBhbGwgdGhlIHN1YnNlcXVlbnQgcGxhY2VtZW50c1xuICogY2xvY2t3aXNlIChvciBjb3VudGVyLWNsb2Nrd2lzZSkuXG4gKlxuICogQG1ldGhvZFxuICogQG1lbWJlcm9mIFBvcHBlci5VdGlsc1xuICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudCAtIEEgdmFsaWQgcGxhY2VtZW50IChpdCBhY2NlcHRzIHZhcmlhdGlvbnMpXG4gKiBAYXJndW1lbnQge0Jvb2xlYW59IGNvdW50ZXIgLSBTZXQgdG8gdHJ1ZSB0byB3YWxrIHRoZSBwbGFjZW1lbnRzIGNvdW50ZXJjbG9ja3dpc2VcbiAqIEByZXR1cm5zIHtBcnJheX0gcGxhY2VtZW50cyBpbmNsdWRpbmcgdGhlaXIgdmFyaWF0aW9uc1xuICovXG5mdW5jdGlvbiBjbG9ja3dpc2UocGxhY2VtZW50KSB7XG4gIHZhciBjb3VudGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICB2YXIgaW5kZXggPSB2YWxpZFBsYWNlbWVudHMuaW5kZXhPZihwbGFjZW1lbnQpO1xuICB2YXIgYXJyID0gdmFsaWRQbGFjZW1lbnRzLnNsaWNlKGluZGV4ICsgMSkuY29uY2F0KHZhbGlkUGxhY2VtZW50cy5zbGljZSgwLCBpbmRleCkpO1xuICByZXR1cm4gY291bnRlciA/IGFyci5yZXZlcnNlKCkgOiBhcnI7XG59XG5cbnZhciBCRUhBVklPUlMgPSB7XG4gIEZMSVA6ICdmbGlwJyxcbiAgQ0xPQ0tXSVNFOiAnY2xvY2t3aXNlJyxcbiAgQ09VTlRFUkNMT0NLV0lTRTogJ2NvdW50ZXJjbG9ja3dpc2UnXG59O1xuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gZmxpcChkYXRhLCBvcHRpb25zKSB7XG4gIC8vIGlmIGBpbm5lcmAgbW9kaWZpZXIgaXMgZW5hYmxlZCwgd2UgY2FuJ3QgdXNlIHRoZSBgZmxpcGAgbW9kaWZpZXJcbiAgaWYgKGlzTW9kaWZpZXJFbmFibGVkKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCAnaW5uZXInKSkge1xuICAgIHJldHVybiBkYXRhO1xuICB9XG5cbiAgaWYgKGRhdGEuZmxpcHBlZCAmJiBkYXRhLnBsYWNlbWVudCA9PT0gZGF0YS5vcmlnaW5hbFBsYWNlbWVudCkge1xuICAgIC8vIHNlZW1zIGxpa2UgZmxpcCBpcyB0cnlpbmcgdG8gbG9vcCwgcHJvYmFibHkgdGhlcmUncyBub3QgZW5vdWdoIHNwYWNlIG9uIGFueSBvZiB0aGUgZmxpcHBhYmxlIHNpZGVzXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgYm91bmRhcmllcyA9IGdldEJvdW5kYXJpZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuaW5zdGFuY2UucmVmZXJlbmNlLCBvcHRpb25zLnBhZGRpbmcsIG9wdGlvbnMuYm91bmRhcmllc0VsZW1lbnQsIGRhdGEucG9zaXRpb25GaXhlZCk7XG5cbiAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBwbGFjZW1lbnRPcHBvc2l0ZSA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIHZhciB2YXJpYXRpb24gPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzFdIHx8ICcnO1xuXG4gIHZhciBmbGlwT3JkZXIgPSBbXTtcblxuICBzd2l0Y2ggKG9wdGlvbnMuYmVoYXZpb3IpIHtcbiAgICBjYXNlIEJFSEFWSU9SUy5GTElQOlxuICAgICAgZmxpcE9yZGVyID0gW3BsYWNlbWVudCwgcGxhY2VtZW50T3Bwb3NpdGVdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBCRUhBVklPUlMuQ0xPQ0tXSVNFOlxuICAgICAgZmxpcE9yZGVyID0gY2xvY2t3aXNlKHBsYWNlbWVudCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEJFSEFWSU9SUy5DT1VOVEVSQ0xPQ0tXSVNFOlxuICAgICAgZmxpcE9yZGVyID0gY2xvY2t3aXNlKHBsYWNlbWVudCwgdHJ1ZSk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgZmxpcE9yZGVyID0gb3B0aW9ucy5iZWhhdmlvcjtcbiAgfVxuXG4gIGZsaXBPcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChzdGVwLCBpbmRleCkge1xuICAgIGlmIChwbGFjZW1lbnQgIT09IHN0ZXAgfHwgZmxpcE9yZGVyLmxlbmd0aCA9PT0gaW5kZXggKyAxKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICAgIHBsYWNlbWVudE9wcG9zaXRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTtcblxuICAgIHZhciBwb3BwZXJPZmZzZXRzID0gZGF0YS5vZmZzZXRzLnBvcHBlcjtcbiAgICB2YXIgcmVmT2Zmc2V0cyA9IGRhdGEub2Zmc2V0cy5yZWZlcmVuY2U7XG5cbiAgICAvLyB1c2luZyBmbG9vciBiZWNhdXNlIHRoZSByZWZlcmVuY2Ugb2Zmc2V0cyBtYXkgY29udGFpbiBkZWNpbWFscyB3ZSBhcmUgbm90IGdvaW5nIHRvIGNvbnNpZGVyIGhlcmVcbiAgICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuICAgIHZhciBvdmVybGFwc1JlZiA9IHBsYWNlbWVudCA9PT0gJ2xlZnQnICYmIGZsb29yKHBvcHBlck9mZnNldHMucmlnaHQpID4gZmxvb3IocmVmT2Zmc2V0cy5sZWZ0KSB8fCBwbGFjZW1lbnQgPT09ICdyaWdodCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5sZWZ0KSA8IGZsb29yKHJlZk9mZnNldHMucmlnaHQpIHx8IHBsYWNlbWVudCA9PT0gJ3RvcCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5ib3R0b20pID4gZmxvb3IocmVmT2Zmc2V0cy50b3ApIHx8IHBsYWNlbWVudCA9PT0gJ2JvdHRvbScgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy50b3ApIDwgZmxvb3IocmVmT2Zmc2V0cy5ib3R0b20pO1xuXG4gICAgdmFyIG92ZXJmbG93c0xlZnQgPSBmbG9vcihwb3BwZXJPZmZzZXRzLmxlZnQpIDwgZmxvb3IoYm91bmRhcmllcy5sZWZ0KTtcbiAgICB2YXIgb3ZlcmZsb3dzUmlnaHQgPSBmbG9vcihwb3BwZXJPZmZzZXRzLnJpZ2h0KSA+IGZsb29yKGJvdW5kYXJpZXMucmlnaHQpO1xuICAgIHZhciBvdmVyZmxvd3NUb3AgPSBmbG9vcihwb3BwZXJPZmZzZXRzLnRvcCkgPCBmbG9vcihib3VuZGFyaWVzLnRvcCk7XG4gICAgdmFyIG92ZXJmbG93c0JvdHRvbSA9IGZsb29yKHBvcHBlck9mZnNldHMuYm90dG9tKSA+IGZsb29yKGJvdW5kYXJpZXMuYm90dG9tKTtcblxuICAgIHZhciBvdmVyZmxvd3NCb3VuZGFyaWVzID0gcGxhY2VtZW50ID09PSAnbGVmdCcgJiYgb3ZlcmZsb3dzTGVmdCB8fCBwbGFjZW1lbnQgPT09ICdyaWdodCcgJiYgb3ZlcmZsb3dzUmlnaHQgfHwgcGxhY2VtZW50ID09PSAndG9wJyAmJiBvdmVyZmxvd3NUb3AgfHwgcGxhY2VtZW50ID09PSAnYm90dG9tJyAmJiBvdmVyZmxvd3NCb3R0b207XG5cbiAgICAvLyBmbGlwIHRoZSB2YXJpYXRpb24gaWYgcmVxdWlyZWRcbiAgICB2YXIgaXNWZXJ0aWNhbCA9IFsndG9wJywgJ2JvdHRvbSddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTE7XG4gICAgdmFyIGZsaXBwZWRWYXJpYXRpb24gPSAhIW9wdGlvbnMuZmxpcFZhcmlhdGlvbnMgJiYgKGlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnc3RhcnQnICYmIG92ZXJmbG93c0xlZnQgfHwgaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdlbmQnICYmIG92ZXJmbG93c1JpZ2h0IHx8ICFpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ3N0YXJ0JyAmJiBvdmVyZmxvd3NUb3AgfHwgIWlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnZW5kJyAmJiBvdmVyZmxvd3NCb3R0b20pO1xuXG4gICAgaWYgKG92ZXJsYXBzUmVmIHx8IG92ZXJmbG93c0JvdW5kYXJpZXMgfHwgZmxpcHBlZFZhcmlhdGlvbikge1xuICAgICAgLy8gdGhpcyBib29sZWFuIHRvIGRldGVjdCBhbnkgZmxpcCBsb29wXG4gICAgICBkYXRhLmZsaXBwZWQgPSB0cnVlO1xuXG4gICAgICBpZiAob3ZlcmxhcHNSZWYgfHwgb3ZlcmZsb3dzQm91bmRhcmllcykge1xuICAgICAgICBwbGFjZW1lbnQgPSBmbGlwT3JkZXJbaW5kZXggKyAxXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZsaXBwZWRWYXJpYXRpb24pIHtcbiAgICAgICAgdmFyaWF0aW9uID0gZ2V0T3Bwb3NpdGVWYXJpYXRpb24odmFyaWF0aW9uKTtcbiAgICAgIH1cblxuICAgICAgZGF0YS5wbGFjZW1lbnQgPSBwbGFjZW1lbnQgKyAodmFyaWF0aW9uID8gJy0nICsgdmFyaWF0aW9uIDogJycpO1xuXG4gICAgICAvLyB0aGlzIG9iamVjdCBjb250YWlucyBgcG9zaXRpb25gLCB3ZSB3YW50IHRvIHByZXNlcnZlIGl0IGFsb25nIHdpdGhcbiAgICAgIC8vIGFueSBhZGRpdGlvbmFsIHByb3BlcnR5IHdlIG1heSBhZGQgaW4gdGhlIGZ1dHVyZVxuICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IF9leHRlbmRzKHt9LCBkYXRhLm9mZnNldHMucG9wcGVyLCBnZXRQb3BwZXJPZmZzZXRzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLm9mZnNldHMucmVmZXJlbmNlLCBkYXRhLnBsYWNlbWVudCkpO1xuXG4gICAgICBkYXRhID0gcnVuTW9kaWZpZXJzKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCBkYXRhLCAnZmxpcCcpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IHVwZGF0ZSBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24ga2VlcFRvZ2V0aGVyKGRhdGEpIHtcbiAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuICB2YXIgaXNWZXJ0aWNhbCA9IFsndG9wJywgJ2JvdHRvbSddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTE7XG4gIHZhciBzaWRlID0gaXNWZXJ0aWNhbCA/ICdyaWdodCcgOiAnYm90dG9tJztcbiAgdmFyIG9wU2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcbiAgdmFyIG1lYXN1cmVtZW50ID0gaXNWZXJ0aWNhbCA/ICd3aWR0aCcgOiAnaGVpZ2h0JztcblxuICBpZiAocG9wcGVyW3NpZGVdIDwgZmxvb3IocmVmZXJlbmNlW29wU2lkZV0pKSB7XG4gICAgZGF0YS5vZmZzZXRzLnBvcHBlcltvcFNpZGVdID0gZmxvb3IocmVmZXJlbmNlW29wU2lkZV0pIC0gcG9wcGVyW21lYXN1cmVtZW50XTtcbiAgfVxuICBpZiAocG9wcGVyW29wU2lkZV0gPiBmbG9vcihyZWZlcmVuY2Vbc2lkZV0pKSB7XG4gICAgZGF0YS5vZmZzZXRzLnBvcHBlcltvcFNpZGVdID0gZmxvb3IocmVmZXJlbmNlW3NpZGVdKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgc3RyaW5nIGNvbnRhaW5pbmcgdmFsdWUgKyB1bml0IGludG8gYSBweCB2YWx1ZSBudW1iZXJcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIHttb2RpZmllcnN+b2Zmc2V0fVxuICogQHByaXZhdGVcbiAqIEBhcmd1bWVudCB7U3RyaW5nfSBzdHIgLSBWYWx1ZSArIHVuaXQgc3RyaW5nXG4gKiBAYXJndW1lbnQge1N0cmluZ30gbWVhc3VyZW1lbnQgLSBgaGVpZ2h0YCBvciBgd2lkdGhgXG4gKiBAYXJndW1lbnQge09iamVjdH0gcG9wcGVyT2Zmc2V0c1xuICogQGFyZ3VtZW50IHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHNcbiAqIEByZXR1cm5zIHtOdW1iZXJ8U3RyaW5nfVxuICogVmFsdWUgaW4gcGl4ZWxzLCBvciBvcmlnaW5hbCBzdHJpbmcgaWYgbm8gdmFsdWVzIHdlcmUgZXh0cmFjdGVkXG4gKi9cbmZ1bmN0aW9uIHRvVmFsdWUoc3RyLCBtZWFzdXJlbWVudCwgcG9wcGVyT2Zmc2V0cywgcmVmZXJlbmNlT2Zmc2V0cykge1xuICAvLyBzZXBhcmF0ZSB2YWx1ZSBmcm9tIHVuaXRcbiAgdmFyIHNwbGl0ID0gc3RyLm1hdGNoKC8oKD86XFwtfFxcKyk/XFxkKlxcLj9cXGQqKSguKikvKTtcbiAgdmFyIHZhbHVlID0gK3NwbGl0WzFdO1xuICB2YXIgdW5pdCA9IHNwbGl0WzJdO1xuXG4gIC8vIElmIGl0J3Mgbm90IGEgbnVtYmVyIGl0J3MgYW4gb3BlcmF0b3IsIEkgZ3Vlc3NcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICBpZiAodW5pdC5pbmRleE9mKCclJykgPT09IDApIHtcbiAgICB2YXIgZWxlbWVudCA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgIGNhc2UgJyVwJzpcbiAgICAgICAgZWxlbWVudCA9IHBvcHBlck9mZnNldHM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnJSc6XG4gICAgICBjYXNlICclcic6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlbGVtZW50ID0gcmVmZXJlbmNlT2Zmc2V0cztcbiAgICB9XG5cbiAgICB2YXIgcmVjdCA9IGdldENsaWVudFJlY3QoZWxlbWVudCk7XG4gICAgcmV0dXJuIHJlY3RbbWVhc3VyZW1lbnRdIC8gMTAwICogdmFsdWU7XG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gJ3ZoJyB8fCB1bml0ID09PSAndncnKSB7XG4gICAgLy8gaWYgaXMgYSB2aCBvciB2dywgd2UgY2FsY3VsYXRlIHRoZSBzaXplIGJhc2VkIG9uIHRoZSB2aWV3cG9ydFxuICAgIHZhciBzaXplID0gdm9pZCAwO1xuICAgIGlmICh1bml0ID09PSAndmgnKSB7XG4gICAgICBzaXplID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaXplID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIHNpemUgLyAxMDAgKiB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpZiBpcyBhbiBleHBsaWNpdCBwaXhlbCB1bml0LCB3ZSBnZXQgcmlkIG9mIHRoZSB1bml0IGFuZCBrZWVwIHRoZSB2YWx1ZVxuICAgIC8vIGlmIGlzIGFuIGltcGxpY2l0IHVuaXQsIGl0J3MgcHgsIGFuZCB3ZSByZXR1cm4ganVzdCB0aGUgdmFsdWVcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBQYXJzZSBhbiBgb2Zmc2V0YCBzdHJpbmcgdG8gZXh0cmFwb2xhdGUgYHhgIGFuZCBgeWAgbnVtZXJpYyBvZmZzZXRzLlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2Yge21vZGlmaWVyc35vZmZzZXR9XG4gKiBAcHJpdmF0ZVxuICogQGFyZ3VtZW50IHtTdHJpbmd9IG9mZnNldFxuICogQGFyZ3VtZW50IHtPYmplY3R9IHBvcHBlck9mZnNldHNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSByZWZlcmVuY2VPZmZzZXRzXG4gKiBAYXJndW1lbnQge1N0cmluZ30gYmFzZVBsYWNlbWVudFxuICogQHJldHVybnMge0FycmF5fSBhIHR3byBjZWxscyBhcnJheSB3aXRoIHggYW5kIHkgb2Zmc2V0cyBpbiBudW1iZXJzXG4gKi9cbmZ1bmN0aW9uIHBhcnNlT2Zmc2V0KG9mZnNldCwgcG9wcGVyT2Zmc2V0cywgcmVmZXJlbmNlT2Zmc2V0cywgYmFzZVBsYWNlbWVudCkge1xuICB2YXIgb2Zmc2V0cyA9IFswLCAwXTtcblxuICAvLyBVc2UgaGVpZ2h0IGlmIHBsYWNlbWVudCBpcyBsZWZ0IG9yIHJpZ2h0IGFuZCBpbmRleCBpcyAwIG90aGVyd2lzZSB1c2Ugd2lkdGhcbiAgLy8gaW4gdGhpcyB3YXkgdGhlIGZpcnN0IG9mZnNldCB3aWxsIHVzZSBhbiBheGlzIGFuZCB0aGUgc2Vjb25kIG9uZVxuICAvLyB3aWxsIHVzZSB0aGUgb3RoZXIgb25lXG4gIHZhciB1c2VIZWlnaHQgPSBbJ3JpZ2h0JywgJ2xlZnQnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcblxuICAvLyBTcGxpdCB0aGUgb2Zmc2V0IHN0cmluZyB0byBvYnRhaW4gYSBsaXN0IG9mIHZhbHVlcyBhbmQgb3BlcmFuZHNcbiAgLy8gVGhlIHJlZ2V4IGFkZHJlc3NlcyB2YWx1ZXMgd2l0aCB0aGUgcGx1cyBvciBtaW51cyBzaWduIGluIGZyb250ICgrMTAsIC0yMCwgZXRjKVxuICB2YXIgZnJhZ21lbnRzID0gb2Zmc2V0LnNwbGl0KC8oXFwrfFxcLSkvKS5tYXAoZnVuY3Rpb24gKGZyYWcpIHtcbiAgICByZXR1cm4gZnJhZy50cmltKCk7XG4gIH0pO1xuXG4gIC8vIERldGVjdCBpZiB0aGUgb2Zmc2V0IHN0cmluZyBjb250YWlucyBhIHBhaXIgb2YgdmFsdWVzIG9yIGEgc2luZ2xlIG9uZVxuICAvLyB0aGV5IGNvdWxkIGJlIHNlcGFyYXRlZCBieSBjb21tYSBvciBzcGFjZVxuICB2YXIgZGl2aWRlciA9IGZyYWdtZW50cy5pbmRleE9mKGZpbmQoZnJhZ21lbnRzLCBmdW5jdGlvbiAoZnJhZykge1xuICAgIHJldHVybiBmcmFnLnNlYXJjaCgvLHxcXHMvKSAhPT0gLTE7XG4gIH0pKTtcblxuICBpZiAoZnJhZ21lbnRzW2RpdmlkZXJdICYmIGZyYWdtZW50c1tkaXZpZGVyXS5pbmRleE9mKCcsJykgPT09IC0xKSB7XG4gICAgY29uc29sZS53YXJuKCdPZmZzZXRzIHNlcGFyYXRlZCBieSB3aGl0ZSBzcGFjZShzKSBhcmUgZGVwcmVjYXRlZCwgdXNlIGEgY29tbWEgKCwpIGluc3RlYWQuJyk7XG4gIH1cblxuICAvLyBJZiBkaXZpZGVyIGlzIGZvdW5kLCB3ZSBkaXZpZGUgdGhlIGxpc3Qgb2YgdmFsdWVzIGFuZCBvcGVyYW5kcyB0byBkaXZpZGVcbiAgLy8gdGhlbSBieSBvZnNldCBYIGFuZCBZLlxuICB2YXIgc3BsaXRSZWdleCA9IC9cXHMqLFxccyp8XFxzKy87XG4gIHZhciBvcHMgPSBkaXZpZGVyICE9PSAtMSA/IFtmcmFnbWVudHMuc2xpY2UoMCwgZGl2aWRlcikuY29uY2F0KFtmcmFnbWVudHNbZGl2aWRlcl0uc3BsaXQoc3BsaXRSZWdleClbMF1dKSwgW2ZyYWdtZW50c1tkaXZpZGVyXS5zcGxpdChzcGxpdFJlZ2V4KVsxXV0uY29uY2F0KGZyYWdtZW50cy5zbGljZShkaXZpZGVyICsgMSkpXSA6IFtmcmFnbWVudHNdO1xuXG4gIC8vIENvbnZlcnQgdGhlIHZhbHVlcyB3aXRoIHVuaXRzIHRvIGFic29sdXRlIHBpeGVscyB0byBhbGxvdyBvdXIgY29tcHV0YXRpb25zXG4gIG9wcyA9IG9wcy5tYXAoZnVuY3Rpb24gKG9wLCBpbmRleCkge1xuICAgIC8vIE1vc3Qgb2YgdGhlIHVuaXRzIHJlbHkgb24gdGhlIG9yaWVudGF0aW9uIG9mIHRoZSBwb3BwZXJcbiAgICB2YXIgbWVhc3VyZW1lbnQgPSAoaW5kZXggPT09IDEgPyAhdXNlSGVpZ2h0IDogdXNlSGVpZ2h0KSA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICB2YXIgbWVyZ2VXaXRoUHJldmlvdXMgPSBmYWxzZTtcbiAgICByZXR1cm4gb3BcbiAgICAvLyBUaGlzIGFnZ3JlZ2F0ZXMgYW55IGArYCBvciBgLWAgc2lnbiB0aGF0IGFyZW4ndCBjb25zaWRlcmVkIG9wZXJhdG9yc1xuICAgIC8vIGUuZy46IDEwICsgKzUgPT4gWzEwLCArLCArNV1cbiAgICAucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICBpZiAoYVthLmxlbmd0aCAtIDFdID09PSAnJyAmJiBbJysnLCAnLSddLmluZGV4T2YoYikgIT09IC0xKSB7XG4gICAgICAgIGFbYS5sZW5ndGggLSAxXSA9IGI7XG4gICAgICAgIG1lcmdlV2l0aFByZXZpb3VzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9IGVsc2UgaWYgKG1lcmdlV2l0aFByZXZpb3VzKSB7XG4gICAgICAgIGFbYS5sZW5ndGggLSAxXSArPSBiO1xuICAgICAgICBtZXJnZVdpdGhQcmV2aW91cyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhLmNvbmNhdChiKTtcbiAgICAgIH1cbiAgICB9LCBbXSlcbiAgICAvLyBIZXJlIHdlIGNvbnZlcnQgdGhlIHN0cmluZyB2YWx1ZXMgaW50byBudW1iZXIgdmFsdWVzIChpbiBweClcbiAgICAubWFwKGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgIHJldHVybiB0b1ZhbHVlKHN0ciwgbWVhc3VyZW1lbnQsIHBvcHBlck9mZnNldHMsIHJlZmVyZW5jZU9mZnNldHMpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBMb29wIHRyb3VnaCB0aGUgb2Zmc2V0cyBhcnJheXMgYW5kIGV4ZWN1dGUgdGhlIG9wZXJhdGlvbnNcbiAgb3BzLmZvckVhY2goZnVuY3Rpb24gKG9wLCBpbmRleCkge1xuICAgIG9wLmZvckVhY2goZnVuY3Rpb24gKGZyYWcsIGluZGV4Mikge1xuICAgICAgaWYgKGlzTnVtZXJpYyhmcmFnKSkge1xuICAgICAgICBvZmZzZXRzW2luZGV4XSArPSBmcmFnICogKG9wW2luZGV4MiAtIDFdID09PSAnLScgPyAtMSA6IDEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIG9mZnNldHM7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgTW9kaWZpZXJzXG4gKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQGFyZ3VtZW50IHtOdW1iZXJ8U3RyaW5nfSBvcHRpb25zLm9mZnNldD0wXG4gKiBUaGUgb2Zmc2V0IHZhbHVlIGFzIGRlc2NyaWJlZCBpbiB0aGUgbW9kaWZpZXIgZGVzY3JpcHRpb25cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gb2Zmc2V0KGRhdGEsIF9yZWYpIHtcbiAgdmFyIG9mZnNldCA9IF9yZWYub2Zmc2V0O1xuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQsXG4gICAgICBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLFxuICAgICAgcG9wcGVyID0gX2RhdGEkb2Zmc2V0cy5wb3BwZXIsXG4gICAgICByZWZlcmVuY2UgPSBfZGF0YSRvZmZzZXRzLnJlZmVyZW5jZTtcblxuICB2YXIgYmFzZVBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdO1xuXG4gIHZhciBvZmZzZXRzID0gdm9pZCAwO1xuICBpZiAoaXNOdW1lcmljKCtvZmZzZXQpKSB7XG4gICAgb2Zmc2V0cyA9IFsrb2Zmc2V0LCAwXTtcbiAgfSBlbHNlIHtcbiAgICBvZmZzZXRzID0gcGFyc2VPZmZzZXQob2Zmc2V0LCBwb3BwZXIsIHJlZmVyZW5jZSwgYmFzZVBsYWNlbWVudCk7XG4gIH1cblxuICBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ2xlZnQnKSB7XG4gICAgcG9wcGVyLnRvcCArPSBvZmZzZXRzWzBdO1xuICAgIHBvcHBlci5sZWZ0IC09IG9mZnNldHNbMV07XG4gIH0gZWxzZSBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ3JpZ2h0Jykge1xuICAgIHBvcHBlci50b3AgKz0gb2Zmc2V0c1swXTtcbiAgICBwb3BwZXIubGVmdCArPSBvZmZzZXRzWzFdO1xuICB9IGVsc2UgaWYgKGJhc2VQbGFjZW1lbnQgPT09ICd0b3AnKSB7XG4gICAgcG9wcGVyLmxlZnQgKz0gb2Zmc2V0c1swXTtcbiAgICBwb3BwZXIudG9wIC09IG9mZnNldHNbMV07XG4gIH0gZWxzZSBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ2JvdHRvbScpIHtcbiAgICBwb3BwZXIubGVmdCArPSBvZmZzZXRzWzBdO1xuICAgIHBvcHBlci50b3AgKz0gb2Zmc2V0c1sxXTtcbiAgfVxuXG4gIGRhdGEucG9wcGVyID0gcG9wcGVyO1xuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gcHJldmVudE92ZXJmbG93KGRhdGEsIG9wdGlvbnMpIHtcbiAgdmFyIGJvdW5kYXJpZXNFbGVtZW50ID0gb3B0aW9ucy5ib3VuZGFyaWVzRWxlbWVudCB8fCBnZXRPZmZzZXRQYXJlbnQoZGF0YS5pbnN0YW5jZS5wb3BwZXIpO1xuXG4gIC8vIElmIG9mZnNldFBhcmVudCBpcyB0aGUgcmVmZXJlbmNlIGVsZW1lbnQsIHdlIHJlYWxseSB3YW50IHRvXG4gIC8vIGdvIG9uZSBzdGVwIHVwIGFuZCB1c2UgdGhlIG5leHQgb2Zmc2V0UGFyZW50IGFzIHJlZmVyZW5jZSB0b1xuICAvLyBhdm9pZCB0byBtYWtlIHRoaXMgbW9kaWZpZXIgY29tcGxldGVseSB1c2VsZXNzIGFuZCBsb29rIGxpa2UgYnJva2VuXG4gIGlmIChkYXRhLmluc3RhbmNlLnJlZmVyZW5jZSA9PT0gYm91bmRhcmllc0VsZW1lbnQpIHtcbiAgICBib3VuZGFyaWVzRWxlbWVudCA9IGdldE9mZnNldFBhcmVudChib3VuZGFyaWVzRWxlbWVudCk7XG4gIH1cblxuICAvLyBOT1RFOiBET00gYWNjZXNzIGhlcmVcbiAgLy8gcmVzZXRzIHRoZSBwb3BwZXIncyBwb3NpdGlvbiBzbyB0aGF0IHRoZSBkb2N1bWVudCBzaXplIGNhbiBiZSBjYWxjdWxhdGVkIGV4Y2x1ZGluZ1xuICAvLyB0aGUgc2l6ZSBvZiB0aGUgcG9wcGVyIGVsZW1lbnQgaXRzZWxmXG4gIHZhciB0cmFuc2Zvcm1Qcm9wID0gZ2V0U3VwcG9ydGVkUHJvcGVydHlOYW1lKCd0cmFuc2Zvcm0nKTtcbiAgdmFyIHBvcHBlclN0eWxlcyA9IGRhdGEuaW5zdGFuY2UucG9wcGVyLnN0eWxlOyAvLyBhc3NpZ25tZW50IHRvIGhlbHAgbWluaWZpY2F0aW9uXG4gIHZhciB0b3AgPSBwb3BwZXJTdHlsZXMudG9wLFxuICAgICAgbGVmdCA9IHBvcHBlclN0eWxlcy5sZWZ0LFxuICAgICAgdHJhbnNmb3JtID0gcG9wcGVyU3R5bGVzW3RyYW5zZm9ybVByb3BdO1xuXG4gIHBvcHBlclN0eWxlcy50b3AgPSAnJztcbiAgcG9wcGVyU3R5bGVzLmxlZnQgPSAnJztcbiAgcG9wcGVyU3R5bGVzW3RyYW5zZm9ybVByb3BdID0gJyc7XG5cbiAgdmFyIGJvdW5kYXJpZXMgPSBnZXRCb3VuZGFyaWVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLmluc3RhbmNlLnJlZmVyZW5jZSwgb3B0aW9ucy5wYWRkaW5nLCBib3VuZGFyaWVzRWxlbWVudCwgZGF0YS5wb3NpdGlvbkZpeGVkKTtcblxuICAvLyBOT1RFOiBET00gYWNjZXNzIGhlcmVcbiAgLy8gcmVzdG9yZXMgdGhlIG9yaWdpbmFsIHN0eWxlIHByb3BlcnRpZXMgYWZ0ZXIgdGhlIG9mZnNldHMgaGF2ZSBiZWVuIGNvbXB1dGVkXG4gIHBvcHBlclN0eWxlcy50b3AgPSB0b3A7XG4gIHBvcHBlclN0eWxlcy5sZWZ0ID0gbGVmdDtcbiAgcG9wcGVyU3R5bGVzW3RyYW5zZm9ybVByb3BdID0gdHJhbnNmb3JtO1xuXG4gIG9wdGlvbnMuYm91bmRhcmllcyA9IGJvdW5kYXJpZXM7XG5cbiAgdmFyIG9yZGVyID0gb3B0aW9ucy5wcmlvcml0eTtcbiAgdmFyIHBvcHBlciA9IGRhdGEub2Zmc2V0cy5wb3BwZXI7XG5cbiAgdmFyIGNoZWNrID0ge1xuICAgIHByaW1hcnk6IGZ1bmN0aW9uIHByaW1hcnkocGxhY2VtZW50KSB7XG4gICAgICB2YXIgdmFsdWUgPSBwb3BwZXJbcGxhY2VtZW50XTtcbiAgICAgIGlmIChwb3BwZXJbcGxhY2VtZW50XSA8IGJvdW5kYXJpZXNbcGxhY2VtZW50XSAmJiAhb3B0aW9ucy5lc2NhcGVXaXRoUmVmZXJlbmNlKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5tYXgocG9wcGVyW3BsYWNlbWVudF0sIGJvdW5kYXJpZXNbcGxhY2VtZW50XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoe30sIHBsYWNlbWVudCwgdmFsdWUpO1xuICAgIH0sXG4gICAgc2Vjb25kYXJ5OiBmdW5jdGlvbiBzZWNvbmRhcnkocGxhY2VtZW50KSB7XG4gICAgICB2YXIgbWFpblNpZGUgPSBwbGFjZW1lbnQgPT09ICdyaWdodCcgPyAnbGVmdCcgOiAndG9wJztcbiAgICAgIHZhciB2YWx1ZSA9IHBvcHBlclttYWluU2lkZV07XG4gICAgICBpZiAocG9wcGVyW3BsYWNlbWVudF0gPiBib3VuZGFyaWVzW3BsYWNlbWVudF0gJiYgIW9wdGlvbnMuZXNjYXBlV2l0aFJlZmVyZW5jZSkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgubWluKHBvcHBlclttYWluU2lkZV0sIGJvdW5kYXJpZXNbcGxhY2VtZW50XSAtIChwbGFjZW1lbnQgPT09ICdyaWdodCcgPyBwb3BwZXIud2lkdGggOiBwb3BwZXIuaGVpZ2h0KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVmaW5lUHJvcGVydHkoe30sIG1haW5TaWRlLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuXG4gIG9yZGVyLmZvckVhY2goZnVuY3Rpb24gKHBsYWNlbWVudCkge1xuICAgIHZhciBzaWRlID0gWydsZWZ0JywgJ3RvcCddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTEgPyAncHJpbWFyeScgOiAnc2Vjb25kYXJ5JztcbiAgICBwb3BwZXIgPSBfZXh0ZW5kcyh7fSwgcG9wcGVyLCBjaGVja1tzaWRlXShwbGFjZW1lbnQpKTtcbiAgfSk7XG5cbiAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IHBvcHBlcjtcblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2RcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWRcbiAqL1xuZnVuY3Rpb24gc2hpZnQoZGF0YSkge1xuICB2YXIgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQ7XG4gIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07XG4gIHZhciBzaGlmdHZhcmlhdGlvbiA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xuXG4gIC8vIGlmIHNoaWZ0IHNoaWZ0dmFyaWF0aW9uIGlzIHNwZWNpZmllZCwgcnVuIHRoZSBtb2RpZmllclxuICBpZiAoc2hpZnR2YXJpYXRpb24pIHtcbiAgICB2YXIgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cyxcbiAgICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2UsXG4gICAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyO1xuXG4gICAgdmFyIGlzVmVydGljYWwgPSBbJ2JvdHRvbScsICd0b3AnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcbiAgICB2YXIgc2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJztcbiAgICB2YXIgbWVhc3VyZW1lbnQgPSBpc1ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnO1xuXG4gICAgdmFyIHNoaWZ0T2Zmc2V0cyA9IHtcbiAgICAgIHN0YXJ0OiBkZWZpbmVQcm9wZXJ0eSh7fSwgc2lkZSwgcmVmZXJlbmNlW3NpZGVdKSxcbiAgICAgIGVuZDogZGVmaW5lUHJvcGVydHkoe30sIHNpZGUsIHJlZmVyZW5jZVtzaWRlXSArIHJlZmVyZW5jZVttZWFzdXJlbWVudF0gLSBwb3BwZXJbbWVhc3VyZW1lbnRdKVxuICAgIH07XG5cbiAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gX2V4dGVuZHMoe30sIHBvcHBlciwgc2hpZnRPZmZzZXRzW3NoaWZ0dmFyaWF0aW9uXSk7XG4gIH1cblxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBtZW1iZXJvZiBNb2RpZmllcnNcbiAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkXG4gKi9cbmZ1bmN0aW9uIGhpZGUoZGF0YSkge1xuICBpZiAoIWlzTW9kaWZpZXJSZXF1aXJlZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgJ2hpZGUnLCAncHJldmVudE92ZXJmbG93JykpIHtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIHZhciByZWZSZWN0ID0gZGF0YS5vZmZzZXRzLnJlZmVyZW5jZTtcbiAgdmFyIGJvdW5kID0gZmluZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgcmV0dXJuIG1vZGlmaWVyLm5hbWUgPT09ICdwcmV2ZW50T3ZlcmZsb3cnO1xuICB9KS5ib3VuZGFyaWVzO1xuXG4gIGlmIChyZWZSZWN0LmJvdHRvbSA8IGJvdW5kLnRvcCB8fCByZWZSZWN0LmxlZnQgPiBib3VuZC5yaWdodCB8fCByZWZSZWN0LnRvcCA+IGJvdW5kLmJvdHRvbSB8fCByZWZSZWN0LnJpZ2h0IDwgYm91bmQubGVmdCkge1xuICAgIC8vIEF2b2lkIHVubmVjZXNzYXJ5IERPTSBhY2Nlc3MgaWYgdmlzaWJpbGl0eSBoYXNuJ3QgY2hhbmdlZFxuICAgIGlmIChkYXRhLmhpZGUgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGRhdGEuaGlkZSA9IHRydWU7XG4gICAgZGF0YS5hdHRyaWJ1dGVzWyd4LW91dC1vZi1ib3VuZGFyaWVzJ10gPSAnJztcbiAgfSBlbHNlIHtcbiAgICAvLyBBdm9pZCB1bm5lY2Vzc2FyeSBET00gYWNjZXNzIGlmIHZpc2liaWxpdHkgaGFzbid0IGNoYW5nZWRcbiAgICBpZiAoZGF0YS5oaWRlID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgZGF0YS5oaWRlID0gZmFsc2U7XG4gICAgZGF0YS5hdHRyaWJ1dGVzWyd4LW91dC1vZi1ib3VuZGFyaWVzJ10gPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIE1vZGlmaWVyc1xuICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZFxuICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9uc1xuICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5mdW5jdGlvbiBpbm5lcihkYXRhKSB7XG4gIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudDtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbiAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsXG4gICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlcixcbiAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlO1xuXG4gIHZhciBpc0hvcml6ID0gWydsZWZ0JywgJ3JpZ2h0J10uaW5kZXhPZihiYXNlUGxhY2VtZW50KSAhPT0gLTE7XG5cbiAgdmFyIHN1YnRyYWN0TGVuZ3RoID0gWyd0b3AnLCAnbGVmdCddLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgPT09IC0xO1xuXG4gIHBvcHBlcltpc0hvcml6ID8gJ2xlZnQnIDogJ3RvcCddID0gcmVmZXJlbmNlW2Jhc2VQbGFjZW1lbnRdIC0gKHN1YnRyYWN0TGVuZ3RoID8gcG9wcGVyW2lzSG9yaXogPyAnd2lkdGgnIDogJ2hlaWdodCddIDogMCk7XG5cbiAgZGF0YS5wbGFjZW1lbnQgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChwb3BwZXIpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKipcbiAqIE1vZGlmaWVyIGZ1bmN0aW9uLCBlYWNoIG1vZGlmaWVyIGNhbiBoYXZlIGEgZnVuY3Rpb24gb2YgdGhpcyB0eXBlIGFzc2lnbmVkXG4gKiB0byBpdHMgYGZuYCBwcm9wZXJ0eS48YnIgLz5cbiAqIFRoZXNlIGZ1bmN0aW9ucyB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIHVwZGF0ZSwgdGhpcyBtZWFucyB0aGF0IHlvdSBtdXN0XG4gKiBtYWtlIHN1cmUgdGhleSBhcmUgcGVyZm9ybWFudCBlbm91Z2ggdG8gYXZvaWQgcGVyZm9ybWFuY2UgYm90dGxlbmVja3MuXG4gKlxuICogQGZ1bmN0aW9uIE1vZGlmaWVyRm5cbiAqIEBhcmd1bWVudCB7ZGF0YU9iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kXG4gKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zXG4gKiBAcmV0dXJucyB7ZGF0YU9iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZFxuICovXG5cbi8qKlxuICogTW9kaWZpZXJzIGFyZSBwbHVnaW5zIHVzZWQgdG8gYWx0ZXIgdGhlIGJlaGF2aW9yIG9mIHlvdXIgcG9wcGVycy48YnIgLz5cbiAqIFBvcHBlci5qcyB1c2VzIGEgc2V0IG9mIDkgbW9kaWZpZXJzIHRvIHByb3ZpZGUgYWxsIHRoZSBiYXNpYyBmdW5jdGlvbmFsaXRpZXNcbiAqIG5lZWRlZCBieSB0aGUgbGlicmFyeS5cbiAqXG4gKiBVc3VhbGx5IHlvdSBkb24ndCB3YW50IHRvIG92ZXJyaWRlIHRoZSBgb3JkZXJgLCBgZm5gIGFuZCBgb25Mb2FkYCBwcm9wcy5cbiAqIEFsbCB0aGUgb3RoZXIgcHJvcGVydGllcyBhcmUgY29uZmlndXJhdGlvbnMgdGhhdCBjb3VsZCBiZSB0d2Vha2VkLlxuICogQG5hbWVzcGFjZSBtb2RpZmllcnNcbiAqL1xudmFyIG1vZGlmaWVycyA9IHtcbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gc2hpZnQgdGhlIHBvcHBlciBvbiB0aGUgc3RhcnQgb3IgZW5kIG9mIGl0cyByZWZlcmVuY2VcbiAgICogZWxlbWVudC48YnIgLz5cbiAgICogSXQgd2lsbCByZWFkIHRoZSB2YXJpYXRpb24gb2YgdGhlIGBwbGFjZW1lbnRgIHByb3BlcnR5LjxiciAvPlxuICAgKiBJdCBjYW4gYmUgb25lIGVpdGhlciBgLWVuZGAgb3IgYC1zdGFydGAuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBzaGlmdDoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj0xMDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDEwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IHNoaWZ0XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSBgb2Zmc2V0YCBtb2RpZmllciBjYW4gc2hpZnQgeW91ciBwb3BwZXIgb24gYm90aCBpdHMgYXhpcy5cbiAgICpcbiAgICogSXQgYWNjZXB0cyB0aGUgZm9sbG93aW5nIHVuaXRzOlxuICAgKiAtIGBweGAgb3IgdW5pdGxlc3MsIGludGVycHJldGVkIGFzIHBpeGVsc1xuICAgKiAtIGAlYCBvciBgJXJgLCBwZXJjZW50YWdlIHJlbGF0aXZlIHRvIHRoZSBsZW5ndGggb2YgdGhlIHJlZmVyZW5jZSBlbGVtZW50XG4gICAqIC0gYCVwYCwgcGVyY2VudGFnZSByZWxhdGl2ZSB0byB0aGUgbGVuZ3RoIG9mIHRoZSBwb3BwZXIgZWxlbWVudFxuICAgKiAtIGB2d2AsIENTUyB2aWV3cG9ydCB3aWR0aCB1bml0XG4gICAqIC0gYHZoYCwgQ1NTIHZpZXdwb3J0IGhlaWdodCB1bml0XG4gICAqXG4gICAqIEZvciBsZW5ndGggaXMgaW50ZW5kZWQgdGhlIG1haW4gYXhpcyByZWxhdGl2ZSB0byB0aGUgcGxhY2VtZW50IG9mIHRoZSBwb3BwZXIuPGJyIC8+XG4gICAqIFRoaXMgbWVhbnMgdGhhdCBpZiB0aGUgcGxhY2VtZW50IGlzIGB0b3BgIG9yIGBib3R0b21gLCB0aGUgbGVuZ3RoIHdpbGwgYmUgdGhlXG4gICAqIGB3aWR0aGAuIEluIGNhc2Ugb2YgYGxlZnRgIG9yIGByaWdodGAsIGl0IHdpbGwgYmUgdGhlIGhlaWdodC5cbiAgICpcbiAgICogWW91IGNhbiBwcm92aWRlIGEgc2luZ2xlIHZhbHVlIChhcyBgTnVtYmVyYCBvciBgU3RyaW5nYCksIG9yIGEgcGFpciBvZiB2YWx1ZXNcbiAgICogYXMgYFN0cmluZ2AgZGl2aWRlZCBieSBhIGNvbW1hIG9yIG9uZSAob3IgbW9yZSkgd2hpdGUgc3BhY2VzLjxiciAvPlxuICAgKiBUaGUgbGF0dGVyIGlzIGEgZGVwcmVjYXRlZCBtZXRob2QgYmVjYXVzZSBpdCBsZWFkcyB0byBjb25mdXNpb24gYW5kIHdpbGwgYmVcbiAgICogcmVtb3ZlZCBpbiB2Mi48YnIgLz5cbiAgICogQWRkaXRpb25hbGx5LCBpdCBhY2NlcHRzIGFkZGl0aW9ucyBhbmQgc3VidHJhY3Rpb25zIGJldHdlZW4gZGlmZmVyZW50IHVuaXRzLlxuICAgKiBOb3RlIHRoYXQgbXVsdGlwbGljYXRpb25zIGFuZCBkaXZpc2lvbnMgYXJlbid0IHN1cHBvcnRlZC5cbiAgICpcbiAgICogVmFsaWQgZXhhbXBsZXMgYXJlOlxuICAgKiBgYGBcbiAgICogMTBcbiAgICogJzEwJSdcbiAgICogJzEwLCAxMCdcbiAgICogJzEwJSwgMTAnXG4gICAqICcxMCArIDEwJSdcbiAgICogJzEwIC0gNXZoICsgMyUnXG4gICAqICctMTBweCArIDV2aCwgNXB4IC0gNiUnXG4gICAqIGBgYFxuICAgKiA+ICoqTkIqKjogSWYgeW91IGRlc2lyZSB0byBhcHBseSBvZmZzZXRzIHRvIHlvdXIgcG9wcGVycyBpbiBhIHdheSB0aGF0IG1heSBtYWtlIHRoZW0gb3ZlcmxhcFxuICAgKiA+IHdpdGggdGhlaXIgcmVmZXJlbmNlIGVsZW1lbnQsIHVuZm9ydHVuYXRlbHksIHlvdSB3aWxsIGhhdmUgdG8gZGlzYWJsZSB0aGUgYGZsaXBgIG1vZGlmaWVyLlxuICAgKiA+IE1vcmUgb24gdGhpcyBbcmVhZGluZyB0aGlzIGlzc3VlXShodHRwczovL2dpdGh1Yi5jb20vRmV6VnJhc3RhL3BvcHBlci5qcy9pc3N1ZXMvMzczKVxuICAgKlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgb2Zmc2V0OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTIwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogMjAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogb2Zmc2V0LFxuICAgIC8qKiBAcHJvcCB7TnVtYmVyfFN0cmluZ30gb2Zmc2V0PTBcbiAgICAgKiBUaGUgb2Zmc2V0IHZhbHVlIGFzIGRlc2NyaWJlZCBpbiB0aGUgbW9kaWZpZXIgZGVzY3JpcHRpb25cbiAgICAgKi9cbiAgICBvZmZzZXQ6IDBcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBwcmV2ZW50IHRoZSBwb3BwZXIgZnJvbSBiZWluZyBwb3NpdGlvbmVkIG91dHNpZGUgdGhlIGJvdW5kYXJ5LlxuICAgKlxuICAgKiBBbiBzY2VuYXJpbyBleGlzdHMgd2hlcmUgdGhlIHJlZmVyZW5jZSBpdHNlbGYgaXMgbm90IHdpdGhpbiB0aGUgYm91bmRhcmllcy48YnIgLz5cbiAgICogV2UgY2FuIHNheSBpdCBoYXMgXCJlc2NhcGVkIHRoZSBib3VuZGFyaWVzXCIg4oCUIG9yIGp1c3QgXCJlc2NhcGVkXCIuPGJyIC8+XG4gICAqIEluIHRoaXMgY2FzZSB3ZSBuZWVkIHRvIGRlY2lkZSB3aGV0aGVyIHRoZSBwb3BwZXIgc2hvdWxkIGVpdGhlcjpcbiAgICpcbiAgICogLSBkZXRhY2ggZnJvbSB0aGUgcmVmZXJlbmNlIGFuZCByZW1haW4gXCJ0cmFwcGVkXCIgaW4gdGhlIGJvdW5kYXJpZXMsIG9yXG4gICAqIC0gaWYgaXQgc2hvdWxkIGlnbm9yZSB0aGUgYm91bmRhcnkgYW5kIFwiZXNjYXBlIHdpdGggaXRzIHJlZmVyZW5jZVwiXG4gICAqXG4gICAqIFdoZW4gYGVzY2FwZVdpdGhSZWZlcmVuY2VgIGlzIHNldCB0b2B0cnVlYCBhbmQgcmVmZXJlbmNlIGlzIGNvbXBsZXRlbHlcbiAgICogb3V0c2lkZSBpdHMgYm91bmRhcmllcywgdGhlIHBvcHBlciB3aWxsIG92ZXJmbG93IChvciBjb21wbGV0ZWx5IGxlYXZlKVxuICAgKiB0aGUgYm91bmRhcmllcyBpbiBvcmRlciB0byByZW1haW4gYXR0YWNoZWQgdG8gdGhlIGVkZ2Ugb2YgdGhlIHJlZmVyZW5jZS5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIHByZXZlbnRPdmVyZmxvdzoge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj0zMDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDMwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IHByZXZlbnRPdmVyZmxvdyxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7QXJyYXl9IFtwcmlvcml0eT1bJ2xlZnQnLCdyaWdodCcsJ3RvcCcsJ2JvdHRvbSddXVxuICAgICAqIFBvcHBlciB3aWxsIHRyeSB0byBwcmV2ZW50IG92ZXJmbG93IGZvbGxvd2luZyB0aGVzZSBwcmlvcml0aWVzIGJ5IGRlZmF1bHQsXG4gICAgICogdGhlbiwgaXQgY291bGQgb3ZlcmZsb3cgb24gdGhlIGxlZnQgYW5kIG9uIHRvcCBvZiB0aGUgYGJvdW5kYXJpZXNFbGVtZW50YFxuICAgICAqL1xuICAgIHByaW9yaXR5OiBbJ2xlZnQnLCAncmlnaHQnLCAndG9wJywgJ2JvdHRvbSddLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtudW1iZXJ9IHBhZGRpbmc9NVxuICAgICAqIEFtb3VudCBvZiBwaXhlbCB1c2VkIHRvIGRlZmluZSBhIG1pbmltdW0gZGlzdGFuY2UgYmV0d2VlbiB0aGUgYm91bmRhcmllc1xuICAgICAqIGFuZCB0aGUgcG9wcGVyIHRoaXMgbWFrZXMgc3VyZSB0aGUgcG9wcGVyIGhhcyBhbHdheXMgYSBsaXR0bGUgcGFkZGluZ1xuICAgICAqIGJldHdlZW4gdGhlIGVkZ2VzIG9mIGl0cyBjb250YWluZXJcbiAgICAgKi9cbiAgICBwYWRkaW5nOiA1LFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtTdHJpbmd8SFRNTEVsZW1lbnR9IGJvdW5kYXJpZXNFbGVtZW50PSdzY3JvbGxQYXJlbnQnXG4gICAgICogQm91bmRhcmllcyB1c2VkIGJ5IHRoZSBtb2RpZmllciwgY2FuIGJlIGBzY3JvbGxQYXJlbnRgLCBgd2luZG93YCxcbiAgICAgKiBgdmlld3BvcnRgIG9yIGFueSBET00gZWxlbWVudC5cbiAgICAgKi9cbiAgICBib3VuZGFyaWVzRWxlbWVudDogJ3Njcm9sbFBhcmVudCdcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBtYWtlIHN1cmUgdGhlIHJlZmVyZW5jZSBhbmQgaXRzIHBvcHBlciBzdGF5IG5lYXIgZWFjaG90aGVyc1xuICAgKiB3aXRob3V0IGxlYXZpbmcgYW55IGdhcCBiZXR3ZWVuIHRoZSB0d28uIEV4cGVjaWFsbHkgdXNlZnVsIHdoZW4gdGhlIGFycm93IGlzXG4gICAqIGVuYWJsZWQgYW5kIHlvdSB3YW50IHRvIGFzc3VyZSBpdCB0byBwb2ludCB0byBpdHMgcmVmZXJlbmNlIGVsZW1lbnQuXG4gICAqIEl0IGNhcmVzIG9ubHkgYWJvdXQgdGhlIGZpcnN0IGF4aXMsIHlvdSBjYW4gc3RpbGwgaGF2ZSBwb3BwZXJzIHdpdGggbWFyZ2luXG4gICAqIGJldHdlZW4gdGhlIHBvcHBlciBhbmQgaXRzIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAga2VlcFRvZ2V0aGVyOiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTQwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogNDAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjoga2VlcFRvZ2V0aGVyXG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgbW9kaWZpZXIgaXMgdXNlZCB0byBtb3ZlIHRoZSBgYXJyb3dFbGVtZW50YCBvZiB0aGUgcG9wcGVyIHRvIG1ha2VcbiAgICogc3VyZSBpdCBpcyBwb3NpdGlvbmVkIGJldHdlZW4gdGhlIHJlZmVyZW5jZSBlbGVtZW50IGFuZCBpdHMgcG9wcGVyIGVsZW1lbnQuXG4gICAqIEl0IHdpbGwgcmVhZCB0aGUgb3V0ZXIgc2l6ZSBvZiB0aGUgYGFycm93RWxlbWVudGAgbm9kZSB0byBkZXRlY3QgaG93IG1hbnlcbiAgICogcGl4ZWxzIG9mIGNvbmp1Y3Rpb24gYXJlIG5lZWRlZC5cbiAgICpcbiAgICogSXQgaGFzIG5vIGVmZmVjdCBpZiBubyBgYXJyb3dFbGVtZW50YCBpcyBwcm92aWRlZC5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGFycm93OiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTUwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogNTAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogYXJyb3csXG4gICAgLyoqIEBwcm9wIHtTdHJpbmd8SFRNTEVsZW1lbnR9IGVsZW1lbnQ9J1t4LWFycm93XScgLSBTZWxlY3RvciBvciBub2RlIHVzZWQgYXMgYXJyb3cgKi9cbiAgICBlbGVtZW50OiAnW3gtYXJyb3ddJ1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb2RpZmllciB1c2VkIHRvIGZsaXAgdGhlIHBvcHBlcidzIHBsYWNlbWVudCB3aGVuIGl0IHN0YXJ0cyB0byBvdmVybGFwIGl0c1xuICAgKiByZWZlcmVuY2UgZWxlbWVudC5cbiAgICpcbiAgICogUmVxdWlyZXMgdGhlIGBwcmV2ZW50T3ZlcmZsb3dgIG1vZGlmaWVyIGJlZm9yZSBpdCBpbiBvcmRlciB0byB3b3JrLlxuICAgKlxuICAgKiAqKk5PVEU6KiogdGhpcyBtb2RpZmllciB3aWxsIGludGVycnVwdCB0aGUgY3VycmVudCB1cGRhdGUgY3ljbGUgYW5kIHdpbGxcbiAgICogcmVzdGFydCBpdCBpZiBpdCBkZXRlY3RzIHRoZSBuZWVkIHRvIGZsaXAgdGhlIHBsYWNlbWVudC5cbiAgICogQG1lbWJlcm9mIG1vZGlmaWVyc1xuICAgKiBAaW5uZXJcbiAgICovXG4gIGZsaXA6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NjAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA2MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBmbGlwLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtTdHJpbmd8QXJyYXl9IGJlaGF2aW9yPSdmbGlwJ1xuICAgICAqIFRoZSBiZWhhdmlvciB1c2VkIHRvIGNoYW5nZSB0aGUgcG9wcGVyJ3MgcGxhY2VtZW50LiBJdCBjYW4gYmUgb25lIG9mXG4gICAgICogYGZsaXBgLCBgY2xvY2t3aXNlYCwgYGNvdW50ZXJjbG9ja3dpc2VgIG9yIGFuIGFycmF5IHdpdGggYSBsaXN0IG9mIHZhbGlkXG4gICAgICogcGxhY2VtZW50cyAod2l0aCBvcHRpb25hbCB2YXJpYXRpb25zKS5cbiAgICAgKi9cbiAgICBiZWhhdmlvcjogJ2ZsaXAnLFxuICAgIC8qKlxuICAgICAqIEBwcm9wIHtudW1iZXJ9IHBhZGRpbmc9NVxuICAgICAqIFRoZSBwb3BwZXIgd2lsbCBmbGlwIGlmIGl0IGhpdHMgdGhlIGVkZ2VzIG9mIHRoZSBgYm91bmRhcmllc0VsZW1lbnRgXG4gICAgICovXG4gICAgcGFkZGluZzogNSxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7U3RyaW5nfEhUTUxFbGVtZW50fSBib3VuZGFyaWVzRWxlbWVudD0ndmlld3BvcnQnXG4gICAgICogVGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBkZWZpbmUgdGhlIGJvdW5kYXJpZXMgb2YgdGhlIHBvcHBlciBwb3NpdGlvbixcbiAgICAgKiB0aGUgcG9wcGVyIHdpbGwgbmV2ZXIgYmUgcGxhY2VkIG91dHNpZGUgb2YgdGhlIGRlZmluZWQgYm91bmRhcmllc1xuICAgICAqIChleGNlcHQgaWYga2VlcFRvZ2V0aGVyIGlzIGVuYWJsZWQpXG4gICAgICovXG4gICAgYm91bmRhcmllc0VsZW1lbnQ6ICd2aWV3cG9ydCdcbiAgfSxcblxuICAvKipcbiAgICogTW9kaWZpZXIgdXNlZCB0byBtYWtlIHRoZSBwb3BwZXIgZmxvdyB0b3dhcmQgdGhlIGlubmVyIG9mIHRoZSByZWZlcmVuY2UgZWxlbWVudC5cbiAgICogQnkgZGVmYXVsdCwgd2hlbiB0aGlzIG1vZGlmaWVyIGlzIGRpc2FibGVkLCB0aGUgcG9wcGVyIHdpbGwgYmUgcGxhY2VkIG91dHNpZGVcbiAgICogdGhlIHJlZmVyZW5jZSBlbGVtZW50LlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgaW5uZXI6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NzAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA3MDAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPWZhbHNlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGlubmVyXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vZGlmaWVyIHVzZWQgdG8gaGlkZSB0aGUgcG9wcGVyIHdoZW4gaXRzIHJlZmVyZW5jZSBlbGVtZW50IGlzIG91dHNpZGUgb2YgdGhlXG4gICAqIHBvcHBlciBib3VuZGFyaWVzLiBJdCB3aWxsIHNldCBhIGB4LW91dC1vZi1ib3VuZGFyaWVzYCBhdHRyaWJ1dGUgd2hpY2ggY2FuXG4gICAqIGJlIHVzZWQgdG8gaGlkZSB3aXRoIGEgQ1NTIHNlbGVjdG9yIHRoZSBwb3BwZXIgd2hlbiBpdHMgcmVmZXJlbmNlIGlzXG4gICAqIG91dCBvZiBib3VuZGFyaWVzLlxuICAgKlxuICAgKiBSZXF1aXJlcyB0aGUgYHByZXZlbnRPdmVyZmxvd2AgbW9kaWZpZXIgYmVmb3JlIGl0IGluIG9yZGVyIHRvIHdvcmsuXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBoaWRlOiB7XG4gICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTgwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi9cbiAgICBvcmRlcjogODAwLFxuICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi9cbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi9cbiAgICBmbjogaGlkZVxuICB9LFxuXG4gIC8qKlxuICAgKiBDb21wdXRlcyB0aGUgc3R5bGUgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciBlbGVtZW50IHRvIGdldHNcbiAgICogcHJvcGVybHkgcG9zaXRpb25lZC5cbiAgICpcbiAgICogTm90ZSB0aGF0IHRoaXMgbW9kaWZpZXIgd2lsbCBub3QgdG91Y2ggdGhlIERPTSwgaXQganVzdCBwcmVwYXJlcyB0aGUgc3R5bGVzXG4gICAqIHNvIHRoYXQgYGFwcGx5U3R5bGVgIG1vZGlmaWVyIGNhbiBhcHBseSBpdC4gVGhpcyBzZXBhcmF0aW9uIGlzIHVzZWZ1bFxuICAgKiBpbiBjYXNlIHlvdSBuZWVkIHRvIHJlcGxhY2UgYGFwcGx5U3R5bGVgIHdpdGggYSBjdXN0b20gaW1wbGVtZW50YXRpb24uXG4gICAqXG4gICAqIFRoaXMgbW9kaWZpZXIgaGFzIGA4NTBgIGFzIGBvcmRlcmAgdmFsdWUgdG8gbWFpbnRhaW4gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgKiB3aXRoIHByZXZpb3VzIHZlcnNpb25zIG9mIFBvcHBlci5qcy4gRXhwZWN0IHRoZSBtb2RpZmllcnMgb3JkZXJpbmcgbWV0aG9kXG4gICAqIHRvIGNoYW5nZSBpbiBmdXR1cmUgbWFqb3IgdmVyc2lvbnMgb2YgdGhlIGxpYnJhcnkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBtb2RpZmllcnNcbiAgICogQGlubmVyXG4gICAqL1xuICBjb21wdXRlU3R5bGU6IHtcbiAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9ODUwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqL1xuICAgIG9yZGVyOiA4NTAsXG4gICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqL1xuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqL1xuICAgIGZuOiBjb21wdXRlU3R5bGUsXG4gICAgLyoqXG4gICAgICogQHByb3Age0Jvb2xlYW59IGdwdUFjY2VsZXJhdGlvbj10cnVlXG4gICAgICogSWYgdHJ1ZSwgaXQgdXNlcyB0aGUgQ1NTIDNkIHRyYW5zZm9ybWF0aW9uIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIuXG4gICAgICogT3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRvcGAgYW5kIGBsZWZ0YCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGdwdUFjY2VsZXJhdGlvbjogdHJ1ZSxcbiAgICAvKipcbiAgICAgKiBAcHJvcCB7c3RyaW5nfSBbeD0nYm90dG9tJ11cbiAgICAgKiBXaGVyZSB0byBhbmNob3IgdGhlIFggYXhpcyAoYGJvdHRvbWAgb3IgYHRvcGApLiBBS0EgWCBvZmZzZXQgb3JpZ2luLlxuICAgICAqIENoYW5nZSB0aGlzIGlmIHlvdXIgcG9wcGVyIHNob3VsZCBncm93IGluIGEgZGlyZWN0aW9uIGRpZmZlcmVudCBmcm9tIGBib3R0b21gXG4gICAgICovXG4gICAgeDogJ2JvdHRvbScsXG4gICAgLyoqXG4gICAgICogQHByb3Age3N0cmluZ30gW3g9J2xlZnQnXVxuICAgICAqIFdoZXJlIHRvIGFuY2hvciB0aGUgWSBheGlzIChgbGVmdGAgb3IgYHJpZ2h0YCkuIEFLQSBZIG9mZnNldCBvcmlnaW4uXG4gICAgICogQ2hhbmdlIHRoaXMgaWYgeW91ciBwb3BwZXIgc2hvdWxkIGdyb3cgaW4gYSBkaXJlY3Rpb24gZGlmZmVyZW50IGZyb20gYHJpZ2h0YFxuICAgICAqL1xuICAgIHk6ICdyaWdodCdcbiAgfSxcblxuICAvKipcbiAgICogQXBwbGllcyB0aGUgY29tcHV0ZWQgc3R5bGVzIHRvIHRoZSBwb3BwZXIgZWxlbWVudC5cbiAgICpcbiAgICogQWxsIHRoZSBET00gbWFuaXB1bGF0aW9ucyBhcmUgbGltaXRlZCB0byB0aGlzIG1vZGlmaWVyLiBUaGlzIGlzIHVzZWZ1bCBpbiBjYXNlXG4gICAqIHlvdSB3YW50IHRvIGludGVncmF0ZSBQb3BwZXIuanMgaW5zaWRlIGEgZnJhbWV3b3JrIG9yIHZpZXcgbGlicmFyeSBhbmQgeW91XG4gICAqIHdhbnQgdG8gZGVsZWdhdGUgYWxsIHRoZSBET00gbWFuaXB1bGF0aW9ucyB0byBpdC5cbiAgICpcbiAgICogTm90ZSB0aGF0IGlmIHlvdSBkaXNhYmxlIHRoaXMgbW9kaWZpZXIsIHlvdSBtdXN0IG1ha2Ugc3VyZSB0aGUgcG9wcGVyIGVsZW1lbnRcbiAgICogaGFzIGl0cyBwb3NpdGlvbiBzZXQgdG8gYGFic29sdXRlYCBiZWZvcmUgUG9wcGVyLmpzIGNhbiBkbyBpdHMgd29yayFcbiAgICpcbiAgICogSnVzdCBkaXNhYmxlIHRoaXMgbW9kaWZpZXIgYW5kIGRlZmluZSB5b3Ugb3duIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgZWZmZWN0LlxuICAgKlxuICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzXG4gICAqIEBpbm5lclxuICAgKi9cbiAgYXBwbHlTdHlsZToge1xuICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj05MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovXG4gICAgb3JkZXI6IDkwMCxcbiAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovXG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovXG4gICAgZm46IGFwcGx5U3R5bGUsXG4gICAgLyoqIEBwcm9wIHtGdW5jdGlvbn0gKi9cbiAgICBvbkxvYWQ6IGFwcGx5U3R5bGVPbkxvYWQsXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgdmVyc2lvbiAxLjEwLjAsIHRoZSBwcm9wZXJ0eSBtb3ZlZCB0byBgY29tcHV0ZVN0eWxlYCBtb2RpZmllclxuICAgICAqIEBwcm9wIHtCb29sZWFufSBncHVBY2NlbGVyYXRpb249dHJ1ZVxuICAgICAqIElmIHRydWUsIGl0IHVzZXMgdGhlIENTUyAzZCB0cmFuc2Zvcm1hdGlvbiB0byBwb3NpdGlvbiB0aGUgcG9wcGVyLlxuICAgICAqIE90aGVyd2lzZSwgaXQgd2lsbCB1c2UgdGhlIGB0b3BgIGFuZCBgbGVmdGAgcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBncHVBY2NlbGVyYXRpb246IHVuZGVmaW5lZFxuICB9XG59O1xuXG4vKipcbiAqIFRoZSBgZGF0YU9iamVjdGAgaXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBpbmZvcm1hdGlvbnMgdXNlZCBieSBQb3BwZXIuanNcbiAqIHRoaXMgb2JqZWN0IGdldCBwYXNzZWQgdG8gbW9kaWZpZXJzIGFuZCB0byB0aGUgYG9uQ3JlYXRlYCBhbmQgYG9uVXBkYXRlYCBjYWxsYmFja3MuXG4gKiBAbmFtZSBkYXRhT2JqZWN0XG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5pbnN0YW5jZSBUaGUgUG9wcGVyLmpzIGluc3RhbmNlXG4gKiBAcHJvcGVydHkge1N0cmluZ30gZGF0YS5wbGFjZW1lbnQgUGxhY2VtZW50IGFwcGxpZWQgdG8gcG9wcGVyXG4gKiBAcHJvcGVydHkge1N0cmluZ30gZGF0YS5vcmlnaW5hbFBsYWNlbWVudCBQbGFjZW1lbnQgb3JpZ2luYWxseSBkZWZpbmVkIG9uIGluaXRcbiAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gZGF0YS5mbGlwcGVkIFRydWUgaWYgcG9wcGVyIGhhcyBiZWVuIGZsaXBwZWQgYnkgZmxpcCBtb2RpZmllclxuICogQHByb3BlcnR5IHtCb29sZWFufSBkYXRhLmhpZGUgVHJ1ZSBpZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgaXMgb3V0IG9mIGJvdW5kYXJpZXMsIHVzZWZ1bCB0byBrbm93IHdoZW4gdG8gaGlkZSB0aGUgcG9wcGVyLlxuICogQHByb3BlcnR5IHtIVE1MRWxlbWVudH0gZGF0YS5hcnJvd0VsZW1lbnQgTm9kZSB1c2VkIGFzIGFycm93IGJ5IGFycm93IG1vZGlmaWVyXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5zdHlsZXMgQW55IENTUyBwcm9wZXJ0eSBkZWZpbmVkIGhlcmUgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIsIGl0IGV4cGVjdHMgdGhlIEphdmFTY3JpcHQgbm9tZW5jbGF0dXJlIChlZy4gYG1hcmdpbkJvdHRvbWApXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5hcnJvd1N0eWxlcyBBbnkgQ1NTIHByb3BlcnR5IGRlZmluZWQgaGVyZSB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlciBhcnJvdywgaXQgZXhwZWN0cyB0aGUgSmF2YVNjcmlwdCBub21lbmNsYXR1cmUgKGVnLiBgbWFyZ2luQm90dG9tYClcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmJvdW5kYXJpZXMgT2Zmc2V0cyBvZiB0aGUgcG9wcGVyIGJvdW5kYXJpZXNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMgVGhlIG1lYXN1cmVtZW50cyBvZiBwb3BwZXIsIHJlZmVyZW5jZSBhbmQgYXJyb3cgZWxlbWVudHMuXG4gKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5vZmZzZXRzLnBvcHBlciBgdG9wYCwgYGxlZnRgLCBgd2lkdGhgLCBgaGVpZ2h0YCB2YWx1ZXNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMucmVmZXJlbmNlIGB0b3BgLCBgbGVmdGAsIGB3aWR0aGAsIGBoZWlnaHRgIHZhbHVlc1xuICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cy5hcnJvd10gYHRvcGAgYW5kIGBsZWZ0YCBvZmZzZXRzLCBvbmx5IG9uZSBvZiB0aGVtIHdpbGwgYmUgZGlmZmVyZW50IGZyb20gMFxuICovXG5cbi8qKlxuICogRGVmYXVsdCBvcHRpb25zIHByb3ZpZGVkIHRvIFBvcHBlci5qcyBjb25zdHJ1Y3Rvci48YnIgLz5cbiAqIFRoZXNlIGNhbiBiZSBvdmVycmlkZW4gdXNpbmcgdGhlIGBvcHRpb25zYCBhcmd1bWVudCBvZiBQb3BwZXIuanMuPGJyIC8+XG4gKiBUbyBvdmVycmlkZSBhbiBvcHRpb24sIHNpbXBseSBwYXNzIGFzIDNyZCBhcmd1bWVudCBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZVxuICogc3RydWN0dXJlIG9mIHRoaXMgb2JqZWN0LCBleGFtcGxlOlxuICogYGBgXG4gKiBuZXcgUG9wcGVyKHJlZiwgcG9wLCB7XG4gKiAgIG1vZGlmaWVyczoge1xuICogICAgIHByZXZlbnRPdmVyZmxvdzogeyBlbmFibGVkOiBmYWxzZSB9XG4gKiAgIH1cbiAqIH0pXG4gKiBgYGBcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUG9wcGVyXG4gKi9cbnZhciBEZWZhdWx0cyA9IHtcbiAgLyoqXG4gICAqIFBvcHBlcidzIHBsYWNlbWVudFxuICAgKiBAcHJvcCB7UG9wcGVyLnBsYWNlbWVudHN9IHBsYWNlbWVudD0nYm90dG9tJ1xuICAgKi9cbiAgcGxhY2VtZW50OiAnYm90dG9tJyxcblxuICAvKipcbiAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB5b3Ugd2FudCBwb3BwZXIgdG8gcG9zaXRpb24gaXQgc2VsZiBpbiAnZml4ZWQnIG1vZGVcbiAgICogQHByb3Age0Jvb2xlYW59IHBvc2l0aW9uRml4ZWQ9ZmFsc2VcbiAgICovXG4gIHBvc2l0aW9uRml4ZWQ6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIGV2ZW50cyAocmVzaXplLCBzY3JvbGwpIGFyZSBpbml0aWFsbHkgZW5hYmxlZFxuICAgKiBAcHJvcCB7Qm9vbGVhbn0gZXZlbnRzRW5hYmxlZD10cnVlXG4gICAqL1xuICBldmVudHNFbmFibGVkOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGUgcG9wcGVyIHdoZW5cbiAgICogeW91IGNhbGwgdGhlIGBkZXN0cm95YCBtZXRob2QuXG4gICAqIEBwcm9wIHtCb29sZWFufSByZW1vdmVPbkRlc3Ryb3k9ZmFsc2VcbiAgICovXG4gIHJlbW92ZU9uRGVzdHJveTogZmFsc2UsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGNhbGxlZCB3aGVuIHRoZSBwb3BwZXIgaXMgY3JlYXRlZC48YnIgLz5cbiAgICogQnkgZGVmYXVsdCwgaXMgc2V0IHRvIG5vLW9wLjxiciAvPlxuICAgKiBBY2Nlc3MgUG9wcGVyLmpzIGluc3RhbmNlIHdpdGggYGRhdGEuaW5zdGFuY2VgLlxuICAgKiBAcHJvcCB7b25DcmVhdGV9XG4gICAqL1xuICBvbkNyZWF0ZTogZnVuY3Rpb24gb25DcmVhdGUoKSB7fSxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gdGhlIHBvcHBlciBpcyB1cGRhdGVkLCB0aGlzIGNhbGxiYWNrIGlzIG5vdCBjYWxsZWRcbiAgICogb24gdGhlIGluaXRpYWxpemF0aW9uL2NyZWF0aW9uIG9mIHRoZSBwb3BwZXIsIGJ1dCBvbmx5IG9uIHN1YnNlcXVlbnRcbiAgICogdXBkYXRlcy48YnIgLz5cbiAgICogQnkgZGVmYXVsdCwgaXMgc2V0IHRvIG5vLW9wLjxiciAvPlxuICAgKiBBY2Nlc3MgUG9wcGVyLmpzIGluc3RhbmNlIHdpdGggYGRhdGEuaW5zdGFuY2VgLlxuICAgKiBAcHJvcCB7b25VcGRhdGV9XG4gICAqL1xuICBvblVwZGF0ZTogZnVuY3Rpb24gb25VcGRhdGUoKSB7fSxcblxuICAvKipcbiAgICogTGlzdCBvZiBtb2RpZmllcnMgdXNlZCB0byBtb2RpZnkgdGhlIG9mZnNldHMgYmVmb3JlIHRoZXkgYXJlIGFwcGxpZWQgdG8gdGhlIHBvcHBlci5cbiAgICogVGhleSBwcm92aWRlIG1vc3Qgb2YgdGhlIGZ1bmN0aW9uYWxpdGllcyBvZiBQb3BwZXIuanNcbiAgICogQHByb3Age21vZGlmaWVyc31cbiAgICovXG4gIG1vZGlmaWVyczogbW9kaWZpZXJzXG59O1xuXG4vKipcbiAqIEBjYWxsYmFjayBvbkNyZWF0ZVxuICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgb25VcGRhdGVcbiAqIEBwYXJhbSB7ZGF0YU9iamVjdH0gZGF0YVxuICovXG5cbi8vIFV0aWxzXG4vLyBNZXRob2RzXG52YXIgUG9wcGVyID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFBvcHBlci5qcyBpbnN0YW5jZVxuICAgKiBAY2xhc3MgUG9wcGVyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8cmVmZXJlbmNlT2JqZWN0fSByZWZlcmVuY2UgLSBUaGUgcmVmZXJlbmNlIGVsZW1lbnQgdXNlZCB0byBwb3NpdGlvbiB0aGUgcG9wcGVyXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHBvcHBlciAtIFRoZSBIVE1MIGVsZW1lbnQgdXNlZCBhcyBwb3BwZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gWW91ciBjdXN0b20gb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgb25lcyBkZWZpbmVkIGluIFtEZWZhdWx0c10oI2RlZmF1bHRzKVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGluc3RhbmNlIC0gVGhlIGdlbmVyYXRlZCBQb3BwZXIuanMgaW5zdGFuY2VcbiAgICovXG4gIGZ1bmN0aW9uIFBvcHBlcihyZWZlcmVuY2UsIHBvcHBlcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9wcGVyKTtcblxuICAgIHRoaXMuc2NoZWR1bGVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLnVwZGF0ZSk7XG4gICAgfTtcblxuICAgIC8vIG1ha2UgdXBkYXRlKCkgZGVib3VuY2VkLCBzbyB0aGF0IGl0IG9ubHkgcnVucyBhdCBtb3N0IG9uY2UtcGVyLXRpY2tcbiAgICB0aGlzLnVwZGF0ZSA9IGRlYm91bmNlKHRoaXMudXBkYXRlLmJpbmQodGhpcykpO1xuXG4gICAgLy8gd2l0aCB7fSB3ZSBjcmVhdGUgYSBuZXcgb2JqZWN0IHdpdGggdGhlIG9wdGlvbnMgaW5zaWRlIGl0XG4gICAgdGhpcy5vcHRpb25zID0gX2V4dGVuZHMoe30sIFBvcHBlci5EZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAvLyBpbml0IHN0YXRlXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlzRGVzdHJveWVkOiBmYWxzZSxcbiAgICAgIGlzQ3JlYXRlZDogZmFsc2UsXG4gICAgICBzY3JvbGxQYXJlbnRzOiBbXVxuICAgIH07XG5cbiAgICAvLyBnZXQgcmVmZXJlbmNlIGFuZCBwb3BwZXIgZWxlbWVudHMgKGFsbG93IGpRdWVyeSB3cmFwcGVycylcbiAgICB0aGlzLnJlZmVyZW5jZSA9IHJlZmVyZW5jZSAmJiByZWZlcmVuY2UuanF1ZXJ5ID8gcmVmZXJlbmNlWzBdIDogcmVmZXJlbmNlO1xuICAgIHRoaXMucG9wcGVyID0gcG9wcGVyICYmIHBvcHBlci5qcXVlcnkgPyBwb3BwZXJbMF0gOiBwb3BwZXI7XG5cbiAgICAvLyBEZWVwIG1lcmdlIG1vZGlmaWVycyBvcHRpb25zXG4gICAgdGhpcy5vcHRpb25zLm1vZGlmaWVycyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKF9leHRlbmRzKHt9LCBQb3BwZXIuRGVmYXVsdHMubW9kaWZpZXJzLCBvcHRpb25zLm1vZGlmaWVycykpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIF90aGlzLm9wdGlvbnMubW9kaWZpZXJzW25hbWVdID0gX2V4dGVuZHMoe30sIFBvcHBlci5EZWZhdWx0cy5tb2RpZmllcnNbbmFtZV0gfHwge30sIG9wdGlvbnMubW9kaWZpZXJzID8gb3B0aW9ucy5tb2RpZmllcnNbbmFtZV0gOiB7fSk7XG4gICAgfSk7XG5cbiAgICAvLyBSZWZhY3RvcmluZyBtb2RpZmllcnMnIGxpc3QgKE9iamVjdCA9PiBBcnJheSlcbiAgICB0aGlzLm1vZGlmaWVycyA9IE9iamVjdC5rZXlzKHRoaXMub3B0aW9ucy5tb2RpZmllcnMpLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgICAgbmFtZTogbmFtZVxuICAgICAgfSwgX3RoaXMub3B0aW9ucy5tb2RpZmllcnNbbmFtZV0pO1xuICAgIH0pXG4gICAgLy8gc29ydCB0aGUgbW9kaWZpZXJzIGJ5IG9yZGVyXG4gICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcbiAgICB9KTtcblxuICAgIC8vIG1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IGNvZGUgd2hlbiBQb3BwZXIuanMgZ2V0IGluaXRlZFxuICAgIC8vIHN1Y2ggY29kZSBpcyBleGVjdXRlZCBpbiB0aGUgc2FtZSBvcmRlciBvZiBpdHMgbW9kaWZpZXJcbiAgICAvLyB0aGV5IGNvdWxkIGFkZCBuZXcgcHJvcGVydGllcyB0byB0aGVpciBvcHRpb25zIGNvbmZpZ3VyYXRpb25cbiAgICAvLyBCRSBBV0FSRTogZG9uJ3QgYWRkIG9wdGlvbnMgdG8gYG9wdGlvbnMubW9kaWZpZXJzLm5hbWVgIGJ1dCB0byBgbW9kaWZpZXJPcHRpb25zYCFcbiAgICB0aGlzLm1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllck9wdGlvbnMpIHtcbiAgICAgIGlmIChtb2RpZmllck9wdGlvbnMuZW5hYmxlZCAmJiBpc0Z1bmN0aW9uKG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQpKSB7XG4gICAgICAgIG1vZGlmaWVyT3B0aW9ucy5vbkxvYWQoX3RoaXMucmVmZXJlbmNlLCBfdGhpcy5wb3BwZXIsIF90aGlzLm9wdGlvbnMsIG1vZGlmaWVyT3B0aW9ucywgX3RoaXMuc3RhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gZmlyZSB0aGUgZmlyc3QgdXBkYXRlIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIgaW4gdGhlIHJpZ2h0IHBsYWNlXG4gICAgdGhpcy51cGRhdGUoKTtcblxuICAgIHZhciBldmVudHNFbmFibGVkID0gdGhpcy5vcHRpb25zLmV2ZW50c0VuYWJsZWQ7XG4gICAgaWYgKGV2ZW50c0VuYWJsZWQpIHtcbiAgICAgIC8vIHNldHVwIGV2ZW50IGxpc3RlbmVycywgdGhleSB3aWxsIHRha2UgY2FyZSBvZiB1cGRhdGUgdGhlIHBvc2l0aW9uIGluIHNwZWNpZmljIHNpdHVhdGlvbnNcbiAgICAgIHRoaXMuZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQgPSBldmVudHNFbmFibGVkO1xuICB9XG5cbiAgLy8gV2UgY2FuJ3QgdXNlIGNsYXNzIHByb3BlcnRpZXMgYmVjYXVzZSB0aGV5IGRvbid0IGdldCBsaXN0ZWQgaW4gdGhlXG4gIC8vIGNsYXNzIHByb3RvdHlwZSBhbmQgYnJlYWsgc3R1ZmYgbGlrZSBTaW5vbiBzdHVic1xuXG5cbiAgY3JlYXRlQ2xhc3MoUG9wcGVyLCBbe1xuICAgIGtleTogJ3VwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSQkMSgpIHtcbiAgICAgIHJldHVybiB1cGRhdGUuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSQkMSgpIHtcbiAgICAgIHJldHVybiBkZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZW5hYmxlRXZlbnRMaXN0ZW5lcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGVFdmVudExpc3RlbmVycyQkMSgpIHtcbiAgICAgIHJldHVybiBlbmFibGVFdmVudExpc3RlbmVycy5jYWxsKHRoaXMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc2FibGVFdmVudExpc3RlbmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2FibGVFdmVudExpc3RlbmVycyQkMSgpIHtcbiAgICAgIHJldHVybiBkaXNhYmxlRXZlbnRMaXN0ZW5lcnMuY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZSBhbiB1cGRhdGUsIGl0IHdpbGwgcnVuIG9uIHRoZSBuZXh0IFVJIHVwZGF0ZSBhdmFpbGFibGVcbiAgICAgKiBAbWV0aG9kIHNjaGVkdWxlVXBkYXRlXG4gICAgICogQG1lbWJlcm9mIFBvcHBlclxuICAgICAqL1xuXG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIHV0aWxpdGllcyB1c2VmdWwgd2hlbiB3cml0aW5nIGN1c3RvbSBtb2RpZmllcnMuXG4gICAgICogU3RhcnRpbmcgZnJvbSB2ZXJzaW9uIDEuNywgdGhpcyBtZXRob2QgaXMgYXZhaWxhYmxlIG9ubHkgaWYgeW91XG4gICAgICogaW5jbHVkZSBgcG9wcGVyLXV0aWxzLmpzYCBiZWZvcmUgYHBvcHBlci5qc2AuXG4gICAgICpcbiAgICAgKiAqKkRFUFJFQ0FUSU9OKio6IFRoaXMgd2F5IHRvIGFjY2VzcyBQb3BwZXJVdGlscyBpcyBkZXByZWNhdGVkXG4gICAgICogYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MiEgVXNlIHRoZSBQb3BwZXJVdGlscyBtb2R1bGUgZGlyZWN0bHkgaW5zdGVhZC5cbiAgICAgKiBEdWUgdG8gdGhlIGhpZ2ggaW5zdGFiaWxpdHkgb2YgdGhlIG1ldGhvZHMgY29udGFpbmVkIGluIFV0aWxzLCB3ZSBjYW4ndFxuICAgICAqIGd1YXJhbnRlZSB0aGVtIHRvIGZvbGxvdyBzZW12ZXIuIFVzZSB0aGVtIGF0IHlvdXIgb3duIHJpc2shXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDEuOFxuICAgICAqIEBtZW1iZXIgVXRpbHNcbiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyXG4gICAgICovXG5cbiAgfV0pO1xuICByZXR1cm4gUG9wcGVyO1xufSgpO1xuXG4vKipcbiAqIFRoZSBgcmVmZXJlbmNlT2JqZWN0YCBpcyBhbiBvYmplY3QgdGhhdCBwcm92aWRlcyBhbiBpbnRlcmZhY2UgY29tcGF0aWJsZSB3aXRoIFBvcHBlci5qc1xuICogYW5kIGxldHMgeW91IHVzZSBpdCBhcyByZXBsYWNlbWVudCBvZiBhIHJlYWwgRE9NIG5vZGUuPGJyIC8+XG4gKiBZb3UgY2FuIHVzZSB0aGlzIG1ldGhvZCB0byBwb3NpdGlvbiBhIHBvcHBlciByZWxhdGl2ZWx5IHRvIGEgc2V0IG9mIGNvb3JkaW5hdGVzXG4gKiBpbiBjYXNlIHlvdSBkb24ndCBoYXZlIGEgRE9NIG5vZGUgdG8gdXNlIGFzIHJlZmVyZW5jZS5cbiAqXG4gKiBgYGBcbiAqIG5ldyBQb3BwZXIocmVmZXJlbmNlT2JqZWN0LCBwb3BwZXJOb2RlKTtcbiAqIGBgYFxuICpcbiAqIE5COiBUaGlzIGZlYXR1cmUgaXNuJ3Qgc3VwcG9ydGVkIGluIEludGVybmV0IEV4cGxvcmVyIDEwXG4gKiBAbmFtZSByZWZlcmVuY2VPYmplY3RcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGRhdGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG4gKiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHNldCBvZiBjb29yZGluYXRlcyBjb21wYXRpYmxlIHdpdGggdGhlIG5hdGl2ZSBgZ2V0Qm91bmRpbmdDbGllbnRSZWN0YCBtZXRob2QuXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGF0YS5jbGllbnRXaWR0aFxuICogQW4gRVM2IGdldHRlciB0aGF0IHdpbGwgcmV0dXJuIHRoZSB3aWR0aCBvZiB0aGUgdmlydHVhbCByZWZlcmVuY2UgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkYXRhLmNsaWVudEhlaWdodFxuICogQW4gRVM2IGdldHRlciB0aGF0IHdpbGwgcmV0dXJuIHRoZSBoZWlnaHQgb2YgdGhlIHZpcnR1YWwgcmVmZXJlbmNlIGVsZW1lbnQuXG4gKi9cblxuXG5Qb3BwZXIuVXRpbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpLlBvcHBlclV0aWxzO1xuUG9wcGVyLnBsYWNlbWVudHMgPSBwbGFjZW1lbnRzO1xuUG9wcGVyLkRlZmF1bHRzID0gRGVmYXVsdHM7XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHBlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvcHBlci5qcy5tYXBcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8gKyBcIiBcIiArIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoIChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcbiIsImltcG9ydCB7IElCdXR0b25EZWZpbml0aW9uIH0gZnJvbSBcIi4uL2ludGVyZmFjZXMvSUJ1dHRvbkRlZmluaXRpb25cIjtcclxuaW1wb3J0IHsgUGFnZUd1aWRlIH0gZnJvbSBcIi4uL1BhZ2VHdWlkZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbkdVSSBpbXBsZW1lbnRzIElCdXR0b25EZWZpbml0aW9uIHtcclxuXHRwdWJsaWMgcG9zaXRpb246IHN0cmluZyA9ICdhYnNvbHV0ZSc7XHJcblx0cHVibGljIHRvcDogbnVtYmVyfHN0cmluZyA9IDMyO1xyXG5cdHB1YmxpYyByaWdodDogbnVtYmVyfHN0cmluZyA9IDMyO1xyXG5cdHB1YmxpYyBib3R0b206IG51bWJlcnxzdHJpbmcgPSAnaW5pdGlhbCc7XHJcblx0cHVibGljIGxlZnQ6IG51bWJlcnxzdHJpbmcgPSAnaW5pdGlhbCc7XHJcblx0cHVibGljIGNvbnRlbnQ6IHN0cmluZyA9ICdpJztcclxuXHRwdWJsaWMgc3R5bGU6IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9ID0ge1xyXG5cdFx0J3BhZGRpbmctcmlnaHQnOiAnMnB4JyxcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgbWFya3VwOiBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcblx0LypcclxuXHQgKiBwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0ICogdG9wOiAzMnB4O1xyXG5cdCAqIHJpZ2h0OiAzMnB4O1xyXG5cdCAqL1xyXG5cclxuXHRjb25zdHJ1Y3RvcihkdG8/OiBJQnV0dG9uRGVmaW5pdGlvbikge1xyXG5cdFx0aWYgKHR5cGVvZiBkdG8gIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdE9iamVjdC5rZXlzKGR0bykuZm9yRWFjaChrZXkgPT4gdGhpc1trZXldID0gZHRvW2tleV0pO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHR0aGlzLm1hcmt1cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG5cdFx0dGhpcy5tYXJrdXAuaW5uZXJIVE1MID0gdGhpcy5jb250ZW50O1xyXG5cdFx0dGhpcy5tYXJrdXAuY2xhc3NMaXN0LmFkZCggYCR7UGFnZUd1aWRlLkNTU19QUkVGSVh9LWJ1dHRvbi1zdGFydGAgKTtcclxuXHRcdHRoaXMubWFya3VwLnN0eWxlLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjtcclxuXHRcdHRoaXMubWFya3VwLnN0eWxlLnRvcCA9IHRoaXMudG9TdHlsZVN0cmluZyggdGhpcy50b3AgKTtcclxuXHRcdHRoaXMubWFya3VwLnN0eWxlLnJpZ2h0ID0gdGhpcy50b1N0eWxlU3RyaW5nKCB0aGlzLnJpZ2h0ICk7XHJcblx0XHR0aGlzLm1hcmt1cC5zdHlsZS5ib3R0b20gPSB0aGlzLnRvU3R5bGVTdHJpbmcoIHRoaXMuYm90dG9tICk7XHJcblx0XHR0aGlzLm1hcmt1cC5zdHlsZS5sZWZ0ID0gdGhpcy50b1N0eWxlU3RyaW5nKCB0aGlzLmxlZnQgKTtcclxuXHJcblx0XHRPYmplY3Qua2V5cyh0aGlzLnN0eWxlKS5mb3JFYWNoKGtleSA9PiB0aGlzLm1hcmt1cC5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHRoaXMuc3R5bGVba2V5XSkgKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdG9TdHlsZVN0cmluZyggdmFsdWU6c3RyaW5nfG51bWJlciApOnN0cmluZyB7XHJcblx0XHRyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/IGAke3ZhbHVlfXB4YCA6IHZhbHVlO1xyXG5cdH1cclxufSIsImltcG9ydCB7IFBhZ2VHdWlkZSB9IGZyb20gJy4uL1BhZ2VHdWlkZSc7XHJcbmltcG9ydCB7IElCdXR0b25EZWZpbml0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9JQnV0dG9uRGVmaW5pdGlvbic7XHJcbmltcG9ydCB7IEJ1dHRvbkdVSSB9IGZyb20gJy4vQnV0dG9uR1VJJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYWdlR3VpZGVHdWkge1xyXG4gICAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHByaXZhdGUgYnRuU3RhcnQ6IEJ1dHRvbkdVSTtcclxuICAgIHByaXZhdGUgdGFyZ2V0czogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYWdlR3VpZGVHdWlcclxuICAgICAqIEBkZXNjcmlwdGlvbiBhZGRzIGEgY2FudmFzIGFzIGJhY2tkcm9wLCBmcm9tIHdoaWNoIHRoZSBndWkgd2lsbCBjbGVhciBzaGFwZXMgdG8gc2hvdyB0aGUgdW5kZXJseWluZyBoaWdobGlnaHRlZCBlbGVtZW50LlxyXG4gICAgICogQHBhcmFtIHsgYm9vbGVhbiB9IGhhc0J1dHRvbiBcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBidXR0b25EZWZpbml0aW9uOiBib29sZWFufElCdXR0b25EZWZpbml0aW9uID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuY2xhc3NOYW1lID0gYCR7UGFnZUd1aWRlLkNTU19QUkVGSVh9LWJhY2tkcm9wYDtcclxuICAgICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCAhIHRoaXMuYnV0dG9uRGVmaW5pdGlvbiApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIHRoaXMuYnV0dG9uRGVmaW5pdGlvbiA9PT0gdHJ1ZSApIHtcclxuICAgICAgICAgICAgdGhpcy5idG5TdGFydCA9IG5ldyBCdXR0b25HVUkoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJ0blN0YXJ0ID0gbmV3IEJ1dHRvbkdVSSggdGhpcy5idXR0b25EZWZpbml0aW9uICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuYnRuU3RhcnQubWFya3VwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9uU3RhcnRcclxuICAgICAqIEBkZXNjcmlwdGlvbiBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB1cG9uIHdoZW4gY2xpY2tpbmcgdGhlIHN0YXJ0IGJ1dHRvbi5cclxuICAgICAqIEBwYXJhbSB7ICh0aGlzOiBIVE1MRWxlbWVudCwgZXY6IE1vdXNlRXZlbnQpOiBhbnkgfSBjYWxsYmFjayBcclxuICAgICAqL1xyXG4gICAgcHVibGljIG9uU3RhcnQoY2FsbGJhY2s6ICh0aGlzOiBIVE1MRWxlbWVudCwgZXY6IE1vdXNlRXZlbnQpID0+IGFueSApOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmJ0blN0YXJ0Lm1hcmt1cC5vbmNsaWNrID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBvbkVuZFxyXG4gICAgICogQGRlc2NyaXB0aW9uIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHVwb24gd2hlbiBjbGlja2luZyB0aGUgY2FudmFzLlxyXG4gICAgICogQHBhcmFtIHsgKHRoaXM6IEhUTUxFbGVtZW50LCBldjogTW91c2VFdmVudCk6IGFueSB9IGNhbGxiYWNrIFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25FbmQoY2FsbGJhY2s6ICh0aGlzOiBIVE1MRWxlbWVudCwgZXY6IE1vdXNlRXZlbnQpID0+IGFueSApOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNhbnZhcy5vbmNsaWNrID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzdGFydFxyXG4gICAgICogQGRlc2NyaXB0aW9uIFNpemVzIHRoZSBjYW52YXMgYW5kIHNpemVzIGl0IHRvIGZ1bGx5IGNvdmVyIGVpdGhlciB0aGUgd2luZG93LCBlaXRoZXIgdGhlIGNvbnRlbnRzLlxyXG4gICAgICogQHJldHVybnMgeyB2b2lkIH0gXHJcbiAgICAgKiBAbWVtYmVyb2YgUGFnZUd1aWRlR3VpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGFydCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRhcmdldHMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLmNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICB0aGlzLmNhbnZhcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSgpOnZvaWQge1xyXG4gICAgICAgIHRoaXMucmVuZGVyQmFja2Ryb3AoKTtcclxuXHJcbiAgICAgICAgaWYgKCB0eXBlb2YgdGhpcy50YXJnZXRzID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLnRhcmdldHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnRhcmdldHMuaXRlbShpKTtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnRSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdChcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRSZWN0LmxlZnQsXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50UmVjdC50b3AsXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50UmVjdC53aWR0aCxcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRSZWN0LmhlaWdodCxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0b3AoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJycsIDUwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhpZ2hsaWdodChlbGVtZW50czogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRhcmdldHMgPSBlbGVtZW50cztcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVuZGVyQmFja2Ryb3AoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3Qgc3RhZ2VXaWR0aDogbnVtYmVyID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgY29uc3Qgc3RhZ2VIZWlnaHQ6IG51bWJlciA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGAke3N0YWdlV2lkdGh9cHhgKTtcclxuICAgICAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGAke3N0YWdlSGVpZ2h0fXB4YCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGdyYWRpZW50ID0gdGhpcy5jdHguY3JlYXRlUmFkaWFsR3JhZGllbnQoXHJcbiAgICAgICAgICAgIHN0YWdlV2lkdGgvMiwgXHJcbiAgICAgICAgICAgIHN0YWdlSGVpZ2h0LzIsIFxyXG4gICAgICAgICAgICAwLCBcclxuICAgICAgICAgICAgc3RhZ2VXaWR0aCAvIDIsIFxyXG4gICAgICAgICAgICBzdGFnZUhlaWdodC8yLCBcclxuICAgICAgICAgICAgTWF0aC5tYXgoc3RhZ2VXaWR0aCwgc3RhZ2VIZWlnaHQpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgJ3JnYmEoMCwwLDAsMC41KScpO1xyXG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCAncmdiYSgwLDAsMCwwLjg1KScpO1xyXG5cclxuICAgICAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgc3RhZ2VXaWR0aCwgc3RhZ2VIZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50O1xyXG4gICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KDAsIDAsIHN0YWdlV2lkdGgsIHN0YWdlSGVpZ2h0KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFBhZ2VHdWlkZUl0ZW0gfSBmcm9tIFwiLi4vUGFnZUd1aWRlSXRlbVwiO1xyXG5pbXBvcnQgeyBQYWdlR3VpZGUgfSBmcm9tIFwiLi4vUGFnZUd1aWRlXCI7XHJcblxyXG5pbXBvcnQgUG9wcGVyLCB7IFBvcHBlck9wdGlvbnMgfSBmcm9tICdwb3BwZXIuanMnO1xyXG5pbXBvcnQgeyBQbGFjZW1lbnQgfSBmcm9tICdwb3BwZXIuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhZ2VHdWlkZUl0ZW1HVUkge1xyXG4gICAgcHVibGljIG1hcmt1cDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGJ0bkV4aXQ6IEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBidG5QcmV2aW91czogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGJ0bk5leHQ6IEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBidXR0b25zOiBIVE1MRWxlbWVudDtcclxuICAgIHByaXZhdGUgY29udGVudDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGNvdW50ZXI6IEhUTUxFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSB0aXRsZTogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGFycm93OiBIVE1MRWxlbWVudDtcclxuXHJcbiAgICBwcml2YXRlIHBvcHBlcjogUG9wcGVyO1xyXG4gICAgcHJpdmF0ZSBwb3BwZXJTaGlmdHM6IGFueSA9IHtcclxuICAgICAgICB0b3A6IFsgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0JyBdLFxyXG4gICAgICAgIHJpZ2h0OiBbICdsZWZ0JywgJ3RvcCcsICdib3R0b20nIF0sXHJcbiAgICAgICAgYm90dG9tOiBbICd0b3AnLCAnbGVmdCcsICdyaWdodCcgXSxcclxuICAgICAgICBsZWZ0OiBbICdyaWdodCcsICd0b3AnLCAnYm90dG9tJyBdLFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGFnZUd1aWRlSXRlbTogUGFnZUd1aWRlSXRlbSkge1xyXG4gICAgICAgIHRoaXMubWFya3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXJ0aWNsZScpO1xyXG4gICAgICAgIHRoaXMuYnRuRXhpdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgIHRoaXMuYnRuUHJldmlvdXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICB0aGlzLmJ0bk5leHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgICAgICB0aGlzLmJ1dHRvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XHJcbiAgICAgICAgdGhpcy5jb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xyXG4gICAgICAgIHRoaXMudGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xyXG4gICAgICAgIHRoaXMuY291bnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nKTtcclxuICAgICAgICB0aGlzLmFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICAgIHRoaXMubWFya3VwLmNsYXNzTmFtZSA9IGAke1BhZ2VHdWlkZS5DU1NfUFJFRklYfS0ke1BhZ2VHdWlkZUl0ZW0uQ1NTX1BSRUZJWH1gO1xyXG4gICAgICAgIHRoaXMuYXJyb3cuY2xhc3NOYW1lID0gYCR7UGFnZUd1aWRlLkNTU19QUkVGSVh9LSR7UGFnZUd1aWRlSXRlbS5DU1NfUFJFRklYfS1hcnJvd2A7XHJcbiAgICAgICAgdGhpcy5jb250ZW50LmNsYXNzTmFtZSA9IGAke1BhZ2VHdWlkZS5DU1NfUFJFRklYfS0ke1BhZ2VHdWlkZUl0ZW0uQ1NTX1BSRUZJWH0tY29udGVudGA7XHJcbiAgICAgICAgdGhpcy5jb3VudGVyLmNsYXNzTmFtZSA9IGAke1BhZ2VHdWlkZS5DU1NfUFJFRklYfS0ke1BhZ2VHdWlkZUl0ZW0uQ1NTX1BSRUZJWH0tY291bnRlcmA7XHJcbiAgICAgICAgdGhpcy5idXR0b25zLmNsYXNzTmFtZSA9IGAke1BhZ2VHdWlkZS5DU1NfUFJFRklYfS0ke1BhZ2VHdWlkZUl0ZW0uQ1NTX1BSRUZJWH0tYnV0dG9uc2A7XHJcbiAgICAgICAgdGhpcy5idG5FeGl0LmNsYXNzTmFtZSA9IGAke1BhZ2VHdWlkZS5DU1NfUFJFRklYfS0ke1BhZ2VHdWlkZUl0ZW0uQ1NTX1BSRUZJWH0tYnV0dG9uICR7UGFnZUd1aWRlLkNTU19QUkVGSVh9LSR7UGFnZUd1aWRlSXRlbS5DU1NfUFJFRklYfS1idXR0b24tZXhpdGA7XHJcbiAgICAgICAgdGhpcy5idG5QcmV2aW91cy5jbGFzc05hbWUgPSBgJHtQYWdlR3VpZGUuQ1NTX1BSRUZJWH0tJHtQYWdlR3VpZGVJdGVtLkNTU19QUkVGSVh9LWJ1dHRvbiAke1BhZ2VHdWlkZS5DU1NfUFJFRklYfS0ke1BhZ2VHdWlkZUl0ZW0uQ1NTX1BSRUZJWH0tYnV0dG9uLXByZXZpb3VzYDtcclxuICAgICAgICB0aGlzLmJ0bk5leHQuY2xhc3NOYW1lID0gYCR7UGFnZUd1aWRlLkNTU19QUkVGSVh9LSR7UGFnZUd1aWRlSXRlbS5DU1NfUFJFRklYfS1idXR0b24gJHtQYWdlR3VpZGUuQ1NTX1BSRUZJWH0tJHtQYWdlR3VpZGVJdGVtLkNTU19QUkVGSVh9LWJ1dHRvbi1uZXh0YDtcclxuXHJcbiAgICAgICAgdGhpcy5idXR0b25zLmFwcGVuZENoaWxkKHRoaXMuYnRuUHJldmlvdXMpO1xyXG4gICAgICAgIHRoaXMuYnV0dG9ucy5hcHBlbmRDaGlsZCh0aGlzLmJ0bk5leHQpO1xyXG5cclxuICAgICAgICB0aGlzLm1hcmt1cC5hcHBlbmRDaGlsZCh0aGlzLmFycm93KTtcclxuICAgICAgICB0aGlzLm1hcmt1cC5hcHBlbmRDaGlsZCh0aGlzLmJ0bkV4aXQpO1xyXG4gICAgICAgIHRoaXMubWFya3VwLmFwcGVuZENoaWxkKHRoaXMudGl0bGUpO1xyXG4gICAgICAgIHRoaXMubWFya3VwLmFwcGVuZENoaWxkKHRoaXMuY291bnRlcik7XHJcbiAgICAgICAgdGhpcy5tYXJrdXAuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50KTtcclxuICAgICAgICB0aGlzLm1hcmt1cC5hcHBlbmRDaGlsZCh0aGlzLmJ1dHRvbnMpO1xyXG5cclxuICAgICAgICB0aGlzLnRpdGxlLmlubmVySFRNTCA9IHRoaXMucGFnZUd1aWRlSXRlbS50aXRsZTtcclxuICAgICAgICB0aGlzLmNvbnRlbnQuaW5uZXJIVE1MID0gdGhpcy5wYWdlR3VpZGVJdGVtLmNvbnRlbnQ7XHJcbiAgICAgICAgdGhpcy5idG5FeGl0LmlubmVySFRNTCA9ICcmdGltZXM7JztcclxuICAgICAgICB0aGlzLmJ0blByZXZpb3VzLmlubmVySFRNTCA9ICcmbGFxdW87JztcclxuICAgICAgICB0aGlzLmJ0bk5leHQuaW5uZXJIVE1MID0gJyZyYXF1bzsnO1xyXG4gICAgICAgIHRoaXMuY291bnRlci5pbm5lckhUTUwgPSBgJHt0aGlzLnBhZ2VHdWlkZUl0ZW0uaW5kZXggKyAxfSAvICR7dGhpcy5wYWdlR3VpZGVJdGVtLmNvbGxlbnRpb25MZW5ndGh9YDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGFnZUd1aWRlSXRlbS5pbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmJ0blByZXZpb3VzLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZUd1aWRlSXRlbS5pbmRleCA9PT0gdGhpcy5wYWdlR3VpZGVJdGVtLmNvbGxlbnRpb25MZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuTmV4dC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwb3NpdGlvbigpIHtcclxuICAgICAgICBjb25zdCBwb3B1cEJveCA9IHRoaXMubWFya3VwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IHBvcHVwQ2VudGVyOiB7eDogbnVtYmVyLCB5OiBudW1iZXIgfSA9IHtcclxuICAgICAgICAgICAgeDogcG9wdXBCb3gubGVmdCArIHBvcHVwQm94LndpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogcG9wdXBCb3gudG9wICsgcG9wdXBCb3guaGVpZ2h0IC8gMixcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgbGVmdDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgdG9wOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGxldCBwb3NpdGlvbiA9IHRoaXMucGFnZUd1aWRlSXRlbS5wb3NpdGlvbjtcclxuXHJcbiAgICAgICAgdGhpcy5hcnJvdy5zdHlsZS50b3AgPSAnJztcclxuICAgICAgICB0aGlzLmFycm93LnN0eWxlLnJpZ2h0ID0gJyc7XHJcbiAgICAgICAgdGhpcy5hcnJvdy5zdHlsZS5ib3R0b20gPSAnJztcclxuICAgICAgICB0aGlzLmFycm93LnN0eWxlLmxlZnQgPSAnJztcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnBhZ2VHdWlkZUl0ZW0udGFyZ2V0cyA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5wYWdlR3VpZGVJdGVtLnRhcmdldHMubGVuZ3RoID09PSAwIHx8IHBvc2l0aW9uID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICBsZWZ0ID0gKHdpbmRvdy5pbm5lcldpZHRoIC0gcG9wdXBCb3gud2lkdGgpIC8gMjtcclxuICAgICAgICAgICAgdG9wID0gKHdpbmRvdy5pbm5lckhlaWdodCAtIHBvcHVwQm94LmhlaWdodCkgLyAyO1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2VHdWlkZUl0ZW0ucG9zaXRpb24gPSAnY2VudGVyJztcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWFya3VwLnNldEF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnLCB0aGlzLnBhZ2VHdWlkZUl0ZW0ucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmt1cC5zdHlsZS5sZWZ0ID0gYCR7IGxlZnQgPj4gMCB9cHhgO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmt1cC5zdHlsZS50b3AgPSBgJHsgdG9wID4+IDAgfXB4YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQ6IEhUTUxFbGVtZW50ID0gdGhpcy5wYWdlR3VpZGVJdGVtLnRhcmdldHNbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEJveCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucG9wcGVyID0gbmV3IFBvcHBlcih0YXJnZXQsIHRoaXMubWFya3VwLCB7XHJcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IHBvc2l0aW9uIGFzIFBsYWNlbWVudCwgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBtb2RpZmllcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBhcnJvdzogeyBlbGVtZW50OiB0aGlzLmFycm93IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZmxpcDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWhhdmlvcjogdGhpcy5wb3BwZXJTaGlmdHNbcG9zaXRpb25dXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnBvcHBlciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5wb3BwZXIudXBkYXRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIG9uRXhpdChjYWxsYmFjazogKCh0aGlzOiBIVE1MRWxlbWVudCwgZXY6IE1vdXNlRXZlbnQpID0+IGFueSkgfCBudWxsKTogdm9pZCB7IHRoaXMuYnRuRXhpdC5vbmNsaWNrID0gY2FsbGJhY2s7IH1cclxuICAgIHB1YmxpYyBvblByZXZpb3VzKGNhbGxiYWNrOiAoKHRoaXM6IEhUTUxFbGVtZW50LCBldjogTW91c2VFdmVudCkgPT4gYW55KSB8IG51bGwpOiB2b2lkIHsgdGhpcy5idG5QcmV2aW91cy5vbmNsaWNrID0gY2FsbGJhY2s7IH1cclxuICAgIHB1YmxpYyBvbk5leHQoY2FsbGJhY2s6ICgodGhpczogSFRNTEVsZW1lbnQsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkpIHwgbnVsbCk6IHZvaWQgeyB0aGlzLmJ0bk5leHQub25jbGljayA9IGNhbGxiYWNrOyB9XHJcbn1cclxuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vUGFnZUd1aWRlLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vUGFnZUd1aWRlLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL1BhZ2VHdWlkZS5zY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiaW1wb3J0IHsgUGFnZUd1aWRlSXRlbSB9IGZyb20gJy4vUGFnZUd1aWRlSXRlbSc7XHJcbmltcG9ydCB7IFBhZ2VHdWlkZUd1aSB9IGZyb20gJy4vR1VJL1BhZ2VHdWlkZUdVSSc7XHJcblxyXG5pbXBvcnQgJy4vUGFnZUd1aWRlLnNjc3MnO1xyXG5pbXBvcnQgeyBJQnV0dG9uRGVmaW5pdGlvbiB9IGZyb20gJy4vaW50ZXJmYWNlcy9JQnV0dG9uRGVmaW5pdGlvbic7XHJcbmltcG9ydCB7IElQYWdlR3VpZGVJdGVtIH0gZnJvbSAnLi9pbnRlcmZhY2VzL0lQYWdlR3VpZGVJdGVtJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYWdlR3VpZGUge1xyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBDU1NfUFJFRklYOiBzdHJpbmcgPSAncGFnZS1ndWlkZSc7XHJcblxyXG4gICAgcHJpdmF0ZSBndWk6IFBhZ2VHdWlkZUd1aTtcclxuICAgIHByaXZhdGUgaXRlbXM6IFBhZ2VHdWlkZUl0ZW1bXTtcclxuICAgIHByaXZhdGUgaXNBY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgYWN0aXZlSW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIGFjdGl2ZUl0ZW06IFBhZ2VHdWlkZUl0ZW07XHJcblxyXG4gICAgcHJpdmF0ZSBvblN0YXJ0Q2FsbGJhY2s6IEZ1bmN0aW9uO1xyXG4gICAgcHJpdmF0ZSBvbkVuZENhbGxiYWNrOiBGdW5jdGlvbjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGNyZWF0ZXMgYSBuZXcgUGFnZUd1aWRlXHJcbiAgICAgKiBAcGFyYW0geyBJUGFnZUd1aWRlSXRlbVtdIH0gZHRvSXRlbXMgYSBsaXN0IG9mIGR0b0l0ZW1zIHRvIGJlIGNvbnZlcnRlZCBpbnRvIFBhZ2VHdWlkZUl0ZW1zXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGR0b0l0ZW1zOiBJUGFnZUd1aWRlSXRlbVtdLCBidXR0b25EZWZpbml0aW9uOiBib29sZWFufElCdXR0b25EZWZpbml0aW9uID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuZ3VpID0gbmV3IFBhZ2VHdWlkZUd1aSggYnV0dG9uRGVmaW5pdGlvbiApO1xyXG5cclxuICAgICAgICB0aGlzLml0ZW1zID0gZHRvSXRlbXNcclxuICAgICAgICAgICAgLmZpbHRlciggZHRvID0+IHR5cGVvZiBkdG8uZWxlbWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChkdG8uZWxlbWVudCkubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgLm1hcCggKGR0bywgaW5kZXgsIGxpc3QpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBuZXcgUGFnZUd1aWRlSXRlbShkdG8uY29udGVudCwgaW5kZXgsIGxpc3QubGVuZ3RoLCBkdG8uZWxlbWVudCwgZHRvLnRpdGxlLCBkdG8ucG9zaXRpb24pO1xyXG5cclxuICAgICAgICAgICAgICAgIGl0ZW0ub25FeGl0KCgpPT57IHRoaXMuc3RvcCgpIH0pO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5vblByZXZpb3VzKCgpPT57IHRoaXMuYWN0aXZlSW5kZXggLS07IHRoaXMuc3RlcCgpOyB9KTtcclxuICAgICAgICAgICAgICAgIGl0ZW0ub25OZXh0KCgpPT57IHRoaXMuYWN0aXZlSW5kZXggKys7IHRoaXMuc3RlcCgpOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICggYnV0dG9uRGVmaW5pdGlvbiAhPT0gZmFsc2UgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpLm9uU3RhcnQoKCkgPT4gdGhpcy5zdGFydCgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5ndWkub25FbmQoKCkgPT4gdGhpcy5zdG9wKCkpO1xyXG5cclxuICAgICAgICB3aW5kb3cub25rZXlkb3duID0gKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoISB0aGlzLmlzQWN0aXZlIHx8IGV2dC5hbHRLZXkgIHx8IGV2dC5zaGlmdEtleSAgfHwgZXZ0LmN0cmxLZXkgIHx8IGV2dC5tZXRhS2V5ICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZXZ0LmtleSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdVcCc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnTGVmdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJbmRleCAtLTsgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnRG93bic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1JpZ2h0JzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0VudGVyJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUluZGV4ICsrOyBcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0ZXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0VzY2FwZSc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdFc2MnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB3aW5kb3cub25yZXNpemUgPSAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghIHRoaXMuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5ndWkudXBkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuYWN0aXZlSXRlbSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlSXRlbS51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzdGFydFxyXG4gICAgICogQGRlc2NyaXB0aW9uIHN0YXJ0cyB0aGUgUGFnZUd1aWRlXHJcbiAgICAgKiBAbWVtYmVyb2YgUGFnZUd1aWRlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGFydCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmd1aS5zdGFydCgpO1xyXG5cclxuICAgICAgICB0aGlzLnN0ZXAoKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uU3RhcnRDYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5vblN0YXJ0Q2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzdGVwXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gUmVuZGVycyB0aGUgYWN0aXZlIHN0ZXAuXHJcbiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBpbmRleCBbT1BUSU9OQUxdIHRoZSBzdGVwIHlvdSB3YW50IHRvIGFjdGl2YXRlXHJcbiAgICAgKiBAcmV0dXJucyB7dm9pZH0gXHJcbiAgICAgKiBAbWVtYmVyb2YgUGFnZUd1aWRlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzdGVwKGluZGV4PzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ3VuZGVmaW5lZCcgJiYgaW5kZXggPj0gMCAmJiBpbmRleCA8PSB0aGlzLml0ZW1zLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVJbmRleCA9IGluZGV4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuYWN0aXZlSXRlbSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhbkFjdGl2ZUl0ZW0oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlSW5kZXggPCAwIHx8IHRoaXMuYWN0aXZlSW5kZXggPj0gdGhpcy5pdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFjdGl2ZUl0ZW0gPSB0aGlzLml0ZW1zW3RoaXMuYWN0aXZlSW5kZXhdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWN0aXZlSXRlbS5kcmF3KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ndWkuaGlnaGxpZ2h0KCB0aGlzLmFjdGl2ZUl0ZW0udGFyZ2V0cyApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2xlYW5BY3RpdmVJdGVtXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gSWYgdGhlIGFjdGl2ZSBpdGVtIGlzIGRlZmllbmQsIGNsZWFuIGl0IHVwLCBhbmQgc2V0IGl0IHRvIHVuZGVmaW5lZC5cclxuICAgICAqIEBtZW1iZXJvZiBQYWdlR3VpZGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGNsZWFuQWN0aXZlSXRlbSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuYWN0aXZlSXRlbSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuYWN0aXZlSXRlbS5jbGVhbnVwKCk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVJdGVtID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogc3RvcFxyXG4gICAgICogQGRlc2NyaXB0aW9uIHN0b3BzIHRoZSBQYWdlR3VpZGVcclxuICAgICAqIEBtZW1iZXJvZiBQYWdlR3VpZGVcclxuICAgICAqL1xyXG4gICAgcHVibGljIHN0b3AoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ3VpLnN0b3AoKTtcclxuICAgICAgICB0aGlzLmNsZWFuQWN0aXZlSXRlbSgpO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSAwO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub25FbmRDYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkVuZENhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogb25TdGFydFxyXG4gICAgICogQGRlc2NyaXB0aW9uIGFkZHMgYSBjYWxsYmFjayBmdW5jdGlvbiB0byBmaXJlIHdoZW4gdGhlIHBhZ2VHdWlkZSBpcyBzdGFydGVkIGJ5IHRoZSB1c2VyLlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgXHJcbiAgICAgKiBAbWVtYmVyb2YgUGFnZUd1aWRlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvblN0YXJ0KGNiOiBGdW5jdGlvbikge1xyXG4gICAgICAgIHRoaXMub25TdGFydENhbGxiYWNrID0gY2I7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIG9uRW5kXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gYWRkcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGZpcmUgd2hlbiB0aGUgcGFnZUd1aWRlIHJlYWNoZXMgdGhlIGVuZCwgb3IgaXMgc3RvcHBlZCBieSB0aGUgdXNlci5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIFxyXG4gICAgICogQG1lbWJlcm9mIFBhZ2VHdWlkZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25FbmQoY2I6IEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5vbkVuZENhbGxiYWNrID0gY2I7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBQYWdlR3VpZGVJdGVtR1VJIH0gZnJvbSBcIi4vR1VJL1BhZ2VHdWlkZUl0ZW1HVUlcIjtcclxuaW1wb3J0IHsgSVBhZ2VHdWlkZUl0ZW0gfSBmcm9tIFwiLi9pbnRlcmZhY2VzL0lQYWdlR3VpZGVJdGVtXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGFnZUd1aWRlSXRlbSBpbXBsZW1lbnRzIElQYWdlR3VpZGVJdGVtIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQ1NTX1BSRUZJWDogc3RyaW5nID0gJ2l0ZW0nO1xyXG5cclxuICAgIHByaXZhdGUgZ3VpOiBQYWdlR3VpZGVJdGVtR1VJO1xyXG4gICAgcHVibGljIHRhcmdldHM6IE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIG5ldyBQYWdlR3VpZGVJdGVtXHJcbiAgICAgKiBAcGFyYW0geyBzdHJpbmcgfSBjb250ZW50IENvbnRlbnRzIG9mIHRoZSBwb3B1cCwgY2FuIGJlIHBsYWludGV4dCBvciBIVE1MXHJcbiAgICAgKiBAcGFyYW0geyBudW1iZXIgfSBpbmRleCBJbmRleCBvZiB0aGUgaXRlbSBpbiB0aGUgY29sbGVjdGlvblxyXG4gICAgICogQHBhcmFtIHsgbnVtYmVyIH0gY29sbGVudGlvbkxlbmd0aCBMZW5ndGggb2YgdGhlIGNvbGxlY3Rpb25cclxuICAgICAqIEBwYXJhbSB7IHN0cmluZyB9IGVsZW1lbnQgW09QVElPTkFMXSBlbGVtZW50IHF1ZXJ5IHNlbGVjdG9yXHJcbiAgICAgKiBAcGFyYW0geyBzdHJpbmcgfSB0aXRsZSBbT1BUSU9OQUxdIHRpdGxlIG9mIHRoZSBwb3B1cFxyXG4gICAgICogQHBhcmFtIHsgc3RyaW5nIH0gcG9zaXRpb24gW09QVElPTkFMXSBwb3NpdGlvbiwgZGVmYXVsdHMgdG8gcmlnaHRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIGNvbnRlbnQ6IHN0cmluZywgXHJcbiAgICAgICAgcHVibGljIGluZGV4OiBudW1iZXIsXHJcbiAgICAgICAgcHVibGljIGNvbGxlbnRpb25MZW5ndGg6IG51bWJlcixcclxuICAgICAgICBwdWJsaWMgZWxlbWVudD86IHN0cmluZywgXHJcbiAgICAgICAgcHVibGljIHRpdGxlOiBzdHJpbmcgPSAnJywgXHJcbiAgICAgICAgcHVibGljIHBvc2l0aW9uOiBzdHJpbmcgPSAnYm90dG9tJyxcclxuICAgICkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5lbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLmVsZW1lbnQgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5lbGVtZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZ3VpID0gbmV3IFBhZ2VHdWlkZUl0ZW1HVUkoIHRoaXMgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGRyYXdcclxuICAgICAqIEBkZXNjcmlwdGlvbiBEcmF3cyB0aGUgUGFnZUd1aWRlSXRlbSBvbiB0aGUgZG9jdW1lbnQuYm9keVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgYSBjYWxsYmFjayBmdW5jdGlvbiwgc28gaXQgd2lsbCB3b3JrIG9uIElFMTEgYXMgd2VsbFxyXG4gICAgICogQHJldHVybnMge3ZvaWR9IFxyXG4gICAgICogQG1lbWJlcm9mIFBhZ2VHdWlkZUl0ZW1cclxuICAgICAqL1xyXG4gICAgcHVibGljIGRyYXcoY2I6IEZ1bmN0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnRhcmdldHMgIT09ICd1bmRlZmluZWQnICYmIHRoaXMudGFyZ2V0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnRhcmdldHMgIT09ICd1bmRlZmluZWQnICYmIHRoaXMudGFyZ2V0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0c1swXS5zY3JvbGxJbnRvVmlldyh7YmxvY2s6ICdjZW50ZXInLCBpbmxpbmU6ICduZWFyZXN0J30pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHRoaXMuZ3VpLm1hcmt1cCApO1xyXG4gICAgICAgICAgICB0aGlzLmd1aS5wb3NpdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgY2IoKTtcclxuICAgICAgICB9LCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNsZWFudXBcclxuICAgICAqIEBkZXNjcmlwdGlvbiByZW1vdmVzIHRoZSBQYWdlR3VpZGVJdGVtIGZyb20gdGhlIGRvY3VtZW50LmJvZHlcclxuICAgICAqIEBtZW1iZXJvZiBQYWdlR3VpZGVJdGVtXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjbGVhbnVwKCk6IHZvaWQge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoIHRoaXMuZ3VpLm1hcmt1cCApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiB1cGRhdGVcclxuICAgICAqIEBkZXNjcmlwdGlvbiB1cGRhdGVzIHRoZSBHVUksIHJlcG9zaXRpb25zIHdoZW4gbmVlZGVkXHJcbiAgICAgKiBAbWVtYmVyb2YgUGFnZUd1aWRlSXRlbVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuZ3VpLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogb25FeGl0XHJcbiAgICAgKiBAZGVzY3JpcHRpb24gZmlyZXMgYSBjYWxsYmFjayB3aGVuIHRoZSB1c2VyIGNsb3NlcyB0aGUgUGFnZUd1aWRlSXRlbVxyXG4gICAgICogQHBhcmFtIHsoKCh0aGlzOiBIVE1MRWxlbWVudCwgZXY6IE1vdXNlRXZlbnQpID0+IGFueSkgfCBudWxsKX0gY2FsbGJhY2sgXHJcbiAgICAgKiBAbWVtYmVyb2YgUGFnZUd1aWRlSXRlbVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgb25FeGl0KCBjYWxsYmFjazogKCh0aGlzOiBIVE1MRWxlbWVudCwgZXY6IE1vdXNlRXZlbnQpID0+IGFueSkgfCBudWxsKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ndWkub25FeGl0KGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG9uUHJldmlvdXNcclxuICAgICAqIEBkZXNjcmlwdGlvbiBmaXJlcyBhIGNhbGxiYWNrIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSBwcmV2aW91cyBidXR0b25cclxuICAgICAqIEBwYXJhbSB7KCgodGhpczogSFRNTEVsZW1lbnQsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkpIHwgbnVsbCl9IGNhbGxiYWNrIFxyXG4gICAgICogQG1lbWJlcm9mIFBhZ2VHdWlkZUl0ZW1cclxuICAgICAqL1xyXG4gICAgcHVibGljIG9uUHJldmlvdXMoIGNhbGxiYWNrOiAoKHRoaXM6IEhUTUxFbGVtZW50LCBldjogTW91c2VFdmVudCkgPT4gYW55KSB8IG51bGwgKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ndWkub25QcmV2aW91cyhjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIG9uTmV4dFxyXG4gICAgICogQGRlc2NyaXB0aW9uIGZpcmVzIGEgY2FsbGJhY2sgd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIG5leHQgYnV0dG9uXHJcbiAgICAgKiBAcGFyYW0geygoKHRoaXM6IEhUTUxFbGVtZW50LCBldjogTW91c2VFdmVudCkgPT4gYW55KSB8IG51bGwpfSBjYWxsYmFjayBcclxuICAgICAqIEBtZW1iZXJvZiBQYWdlR3VpZGVJdGVtXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBvbk5leHQoIGNhbGxiYWNrOiAoKHRoaXM6IEhUTUxFbGVtZW50LCBldjogTW91c2VFdmVudCkgPT4gYW55KSB8IG51bGwgKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ndWkub25OZXh0KGNhbGxiYWNrKTtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=